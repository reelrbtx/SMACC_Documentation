\hypertarget{classmoveit__z__client_1_1CbMoveCartesianRelative}{}\section{moveit\+\_\+z\+\_\+client\+:\+:Cb\+Move\+Cartesian\+Relative Class Reference}
\label{classmoveit__z__client_1_1CbMoveCartesianRelative}\index{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}}


{\ttfamily \#include $<$cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+h$>$}



Inheritance diagram for moveit\+\_\+z\+\_\+client\+:\+:Cb\+Move\+Cartesian\+Relative\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{classmoveit__z__client_1_1CbMoveCartesianRelative__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for moveit\+\_\+z\+\_\+client\+:\+:Cb\+Move\+Cartesian\+Relative\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmoveit__z__client_1_1CbMoveCartesianRelative__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_a5c8cc24c13c1b440cd3ee7cdb26ec7e2}{Cb\+Move\+Cartesian\+Relative} ()
\item 
\hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_a07c04dffa04c5cd30d46109ed2167932}{Cb\+Move\+Cartesian\+Relative} (geometry\+\_\+msgs\+::\+Vector3 offset)
\item 
virtual void \hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_aaea0e6c7431f93301a77269b8fa539f8}{on\+Entry} () override
\item 
virtual void \hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_a539af37d16cffdc51127c7a5206504cb}{on\+Exit} () override
\item 
void \hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_aeffc7467b010f64ace4c7e7f699e6055}{move\+Relative\+Cartesian} (geometry\+\_\+msgs\+::\+Vector3 \&offset)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
geometry\+\_\+msgs\+::\+Vector3 \hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_aa5316f2f734336722a353a8e9addea95}{offset\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 14 of file cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}!Cb\+Move\+Cartesian\+Relative@{Cb\+Move\+Cartesian\+Relative}}
\index{Cb\+Move\+Cartesian\+Relative@{Cb\+Move\+Cartesian\+Relative}!moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}}
\subsubsection[{\texorpdfstring{Cb\+Move\+Cartesian\+Relative()}{CbMoveCartesianRelative()}}]{\setlength{\rightskip}{0pt plus 5cm}moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative\+::\+Cb\+Move\+Cartesian\+Relative (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classmoveit__z__client_1_1CbMoveCartesianRelative_a5c8cc24c13c1b440cd3ee7cdb26ec7e2}{}\label{classmoveit__z__client_1_1CbMoveCartesianRelative_a5c8cc24c13c1b440cd3ee7cdb26ec7e2}


Definition at line 11 of file cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+cpp.


\begin{DoxyCode}
12 \{
13 \}
\end{DoxyCode}
\index{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}!Cb\+Move\+Cartesian\+Relative@{Cb\+Move\+Cartesian\+Relative}}
\index{Cb\+Move\+Cartesian\+Relative@{Cb\+Move\+Cartesian\+Relative}!moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}}
\subsubsection[{\texorpdfstring{Cb\+Move\+Cartesian\+Relative(geometry\+\_\+msgs\+::\+Vector3 offset)}{CbMoveCartesianRelative(geometry_msgs::Vector3 offset)}}]{\setlength{\rightskip}{0pt plus 5cm}moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative\+::\+Cb\+Move\+Cartesian\+Relative (
\begin{DoxyParamCaption}
\item[{geometry\+\_\+msgs\+::\+Vector3}]{offset}
\end{DoxyParamCaption}
)}\hypertarget{classmoveit__z__client_1_1CbMoveCartesianRelative_a07c04dffa04c5cd30d46109ed2167932}{}\label{classmoveit__z__client_1_1CbMoveCartesianRelative_a07c04dffa04c5cd30d46109ed2167932}


Definition at line 15 of file cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+cpp.


\begin{DoxyCode}
15                                                                             : 
      \hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_aa5316f2f734336722a353a8e9addea95}{offset\_}(offset)
16 \{
17 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}!move\+Relative\+Cartesian@{move\+Relative\+Cartesian}}
\index{move\+Relative\+Cartesian@{move\+Relative\+Cartesian}!moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}}
\subsubsection[{\texorpdfstring{move\+Relative\+Cartesian(geometry\+\_\+msgs\+::\+Vector3 \&offset)}{moveRelativeCartesian(geometry_msgs::Vector3 &offset)}}]{\setlength{\rightskip}{0pt plus 5cm}void moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative\+::move\+Relative\+Cartesian (
\begin{DoxyParamCaption}
\item[{geometry\+\_\+msgs\+::\+Vector3 \&}]{offset}
\end{DoxyParamCaption}
)}\hypertarget{classmoveit__z__client_1_1CbMoveCartesianRelative_aeffc7467b010f64ace4c7e7f699e6055}{}\label{classmoveit__z__client_1_1CbMoveCartesianRelative_aeffc7467b010f64ace4c7e7f699e6055}


Definition at line 29 of file cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+cpp.



References moveit\+\_\+z\+\_\+client\+::\+Cl\+Move\+Group\+::move\+Group\+Client\+Interface, moveit\+\_\+z\+\_\+client\+::\+Cl\+Move\+Group\+::post\+Event\+Motion\+Execution\+Failed(), moveit\+\_\+z\+\_\+client\+::\+Cl\+Move\+Group\+::post\+Event\+Motion\+Execution\+Succeded(), and smacc\+::\+Smacc\+Client\+Behavior\+::requires\+Client().



Referenced by on\+Entry().


\begin{DoxyCode}
30 \{
31     ClMoveGroup *movegroupClient;
32     this->\hyperlink{classsmacc_1_1SmaccClientBehavior_a917f001e763a1059af337bf4e164f542}{requiresClient}(movegroupClient);
33 
34     std::vector<geometry\_msgs::Pose> waypoints;
35 
36     \textcolor{keyword}{auto} referenceStartPose = movegroupClient->moveGroupClientInterface.getPoseTarget();
37     \textcolor{comment}{//auto referenceStartPose = this->moveGroupClientInterface.getCurrentPose();}
38     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[CbMoveCartesianRelative] RELATIVE MOTION, SOURCE POSE: "} << referenceStartPose);
39     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[CbMoveCartesianRelative] Offset: "} << offset);
40 
41     waypoints.push\_back(referenceStartPose.pose); \textcolor{comment}{// up and out}
42 
43     \textcolor{keyword}{auto} targetObjectPose = movegroupClient->moveGroupClientInterface.getPoseTarget();
44 
45     \textcolor{keyword}{auto} endPose = referenceStartPose.pose;
46 
47     endPose.position.x += offset.x;
48     endPose.position.y += offset.y;
49     endPose.position.z += offset.z;
50 
51     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[CbMoveCartesianRelative] DESTINY POSE: "} << endPose);
52 
53     \textcolor{comment}{//target\_pose2.position.x -= 0.15;}
54     waypoints.push\_back(endPose); \textcolor{comment}{// left}
55 
56     movegroupClient->moveGroupClientInterface.setPoseTarget(endPose);
57 
58     movegroupClient->moveGroupClientInterface.setMaxVelocityScalingFactor(0.1);
59 
60     moveit\_msgs::RobotTrajectory trajectory;
61     \textcolor{keywordtype}{double} fraction = movegroupClient->moveGroupClientInterface.computeCartesianPath(waypoints,
62                                                                                      0.01, \textcolor{comment}{// eef\_step}
63                                                                                      0.0,  \textcolor{comment}{//
       jump\_threshold}
64                                                                                      trajectory);
65 
66     \textcolor{keywordflow}{if} (fraction == -1)
67     \{
68         movegroupClient->postEventMotionExecutionFailed();
69         ROS\_INFO(\textcolor{stringliteral}{"[CbMoveCartesianRelative] Absolute motion planning failed. Skipping execution."});
70         \textcolor{keywordflow}{return};
71     \}
72 
73     moveit::planning\_interface::MoveGroupInterface::Plan grasp\_pose\_plan;
74 
75     \textcolor{comment}{//grasp\_pose\_plan.start\_state\_ = *(moveGroupInterface.getCurrentState());}
76     grasp\_pose\_plan.trajectory\_ = trajectory;
77     \textcolor{keyword}{auto} executionResult = movegroupClient->moveGroupClientInterface.execute(grasp\_pose\_plan);
78 
79     \textcolor{keywordflow}{if} (executionResult == moveit\_msgs::MoveItErrorCodes::SUCCESS)
80     \{
81         ROS\_INFO(\textcolor{stringliteral}{"[CbMoveCartesianRelative] relative motion execution succedded: fraction %lf"}, fraction);
82         movegroupClient->postEventMotionExecutionSucceded();
83     \}
84     \textcolor{keywordflow}{else}
85     \{
86         ROS\_INFO(\textcolor{stringliteral}{"[CbMoveCartesianRelative] relative motion execution failed"});
87         movegroupClient->postEventMotionExecutionFailed();
88     \}
89 
90     ROS\_INFO(\textcolor{stringliteral}{"Visualizing plan 4 (cartesian path) (%.2f%% acheived)"}, fraction * 100.0);
91 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmoveit__z__client_1_1CbMoveCartesianRelative_aeffc7467b010f64ace4c7e7f699e6055_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmoveit__z__client_1_1CbMoveCartesianRelative_aeffc7467b010f64ace4c7e7f699e6055_icgraph}
\end{center}
\end{figure}


\index{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}}
\subsubsection[{\texorpdfstring{on\+Entry() override}{onEntry() override}}]{\setlength{\rightskip}{0pt plus 5cm}void moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative\+::on\+Entry (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classmoveit__z__client_1_1CbMoveCartesianRelative_aaea0e6c7431f93301a77269b8fa539f8}{}\label{classmoveit__z__client_1_1CbMoveCartesianRelative_aaea0e6c7431f93301a77269b8fa539f8}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_a7962382f93987c720ad432fef55b123f}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 19 of file cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+cpp.



References move\+Relative\+Cartesian(), and offset\+\_\+.


\begin{DoxyCode}
20 \{
21     this->\hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_aeffc7467b010f64ace4c7e7f699e6055}{moveRelativeCartesian}(\hyperlink{classmoveit__z__client_1_1CbMoveCartesianRelative_aa5316f2f734336722a353a8e9addea95}{offset\_});
22 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmoveit__z__client_1_1CbMoveCartesianRelative_aaea0e6c7431f93301a77269b8fa539f8_cgraph}
\end{center}
\end{figure}


\index{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}!on\+Exit@{on\+Exit}}
\index{on\+Exit@{on\+Exit}!moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}}
\subsubsection[{\texorpdfstring{on\+Exit() override}{onExit() override}}]{\setlength{\rightskip}{0pt plus 5cm}void moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative\+::on\+Exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classmoveit__z__client_1_1CbMoveCartesianRelative_a539af37d16cffdc51127c7a5206504cb}{}\label{classmoveit__z__client_1_1CbMoveCartesianRelative_a539af37d16cffdc51127c7a5206504cb}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_ac0cd72d42bd00425362a97c9803ecce5}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 24 of file cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+cpp.


\begin{DoxyCode}
25 \{
26 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}!offset\+\_\+@{offset\+\_\+}}
\index{offset\+\_\+@{offset\+\_\+}!moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative@{moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative}}
\subsubsection[{\texorpdfstring{offset\+\_\+}{offset_}}]{\setlength{\rightskip}{0pt plus 5cm}geometry\+\_\+msgs\+::\+Vector3 moveit\+\_\+z\+\_\+client\+::\+Cb\+Move\+Cartesian\+Relative\+::offset\+\_\+}\hypertarget{classmoveit__z__client_1_1CbMoveCartesianRelative_aa5316f2f734336722a353a8e9addea95}{}\label{classmoveit__z__client_1_1CbMoveCartesianRelative_aa5316f2f734336722a353a8e9addea95}


Definition at line 17 of file cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+h.



Referenced by on\+Entry().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/moveit\+\_\+z\+\_\+client/include/moveit\+\_\+z\+\_\+client/client\+\_\+behaviors/\hyperlink{cb__move__cartesian__relative_8h}{cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+h}\item 
smacc\+\_\+client\+\_\+library/moveit\+\_\+z\+\_\+client/src/moveit\+\_\+z\+\_\+client/client\+\_\+behaviors/\hyperlink{cb__move__cartesian__relative_8cpp}{cb\+\_\+move\+\_\+cartesian\+\_\+relative.\+cpp}\end{DoxyCompactItemize}
