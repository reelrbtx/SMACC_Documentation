\hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2}{}\section{cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Undo\+Path\+Backwards2 Class Reference}
\label{classcl__move__base__z_1_1CbUndoPathBackwards2}\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}


{\ttfamily \#include $<$cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Undo\+Path\+Backwards2\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__move__base__z_1_1CbUndoPathBackwards2__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Undo\+Path\+Backwards2\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbUndoPathBackwards2__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a0f202bf7a4b1cc1db426a0c2ad1434f6}{Cb\+Undo\+Path\+Backwards2} ()
\item 
virtual void \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b96187df9be6ce0fbdb5511147685d3}{on\+Entry} () override
\item 
virtual void \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_ae493fcd813176d8473ff08680beb7afe}{on\+Exit} () override
\item 
virtual void \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a62f0d53fc341ca6d241637cc0e4b2e30}{update} () override
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Cl\+Move\+Base\+Z\+::\+Goal \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b5d0fce772f7484b35abada92cf2b91}{goal}
\item 
tf\+::\+Transform\+Listener \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a4531d3f52b12a4cce20ac1545ca2cb61}{listener}
\item 
\hyperlink{classcl__move__base__z_1_1Pose}{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Pose} $\ast$ \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a2d398dac07efaca840fbcea31957cf7a}{robot\+Pose\+\_\+}
\item 
std\+::atomic$<$ \hyperlink{classbool}{bool} $>$ \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1c037317330c74b60660548f09a01749}{goal\+Line\+Passed\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 15 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2_a0f202bf7a4b1cc1db426a0c2ad1434f6}\label{classcl__move__base__z_1_1CbUndoPathBackwards2_a0f202bf7a4b1cc1db426a0c2ad1434f6}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}!Cb\+Undo\+Path\+Backwards2@{Cb\+Undo\+Path\+Backwards2}}
\index{Cb\+Undo\+Path\+Backwards2@{Cb\+Undo\+Path\+Backwards2}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}
\subsubsection{\texorpdfstring{Cb\+Undo\+Path\+Backwards2()}{CbUndoPathBackwards2()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2\+::\+Cb\+Undo\+Path\+Backwards2 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 9 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+cpp.


\begin{DoxyCode}
9                                            : \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1c037317330c74b60660548f09a01749}{goalLinePassed\_}(\textcolor{keyword}{false})
10 \{
11 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b96187df9be6ce0fbdb5511147685d3}\label{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b96187df9be6ce0fbdb5511147685d3}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}
\subsubsection{\texorpdfstring{on\+Entry()}{onEntry()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2\+::on\+Entry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classsmacc_1_1ISmaccClientBehavior_a9877684b1954429719826e2d0924d980}{smacc\+::\+I\+Smacc\+Client\+Behavior}.



Definition at line 13 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+cpp.



References smacc\+::\+I\+Smacc\+Client\+::get\+Component(), goal, cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Move\+Base\+Client\+Behavior\+Base\+::move\+Base\+Client\+\_\+, robot\+Pose\+\_\+, and smacc\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal().


\begin{DoxyCode}
14 \{
15   \textcolor{keyword}{auto} *odomTracker = \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<OdomTracker>();
16 
17   \textcolor{keyword}{auto} plannerSwitcher = \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<PlannerSwitcher>();
18   \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a2d398dac07efaca840fbcea31957cf7a}{robotPose\_} = \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<
      \hyperlink{classcl__move__base__z_1_1Pose}{cl\_move\_base\_z::Pose}>();
19 
20   nav\_msgs::Path forwardpath = odomTracker->getPath();
21   \textcolor{comment}{// ROS\_INFO\_STREAM("[UndoPathBackward] Current path backwards: " << forwardpath);}
22 
23   odomTracker->setWorkingMode(WorkingMode::CLEAR\_PATH);
24 
25   \textcolor{comment}{// this line is used to flush/reset backward planner in the case it were already there}
26   \textcolor{comment}{// plannerSwitcher->setDefaultPlanners();}
27   \textcolor{keywordflow}{if} (forwardpath.poses.size() > 0)
28   \{
29     \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b5d0fce772f7484b35abada92cf2b91}{goal}.target\_pose = forwardpath.poses.front();
30     plannerSwitcher->setUndoPathBackwardPlanner();
31     \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1client__bases_1_1SmaccActionClientBase_a9c47a5094ac8afb01680307fe5eca922}{sendGoal}(\hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b5d0fce772f7484b35abada92cf2b91}{goal});
32   \}
33 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b96187df9be6ce0fbdb5511147685d3_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2_ae493fcd813176d8473ff08680beb7afe}\label{classcl__move__base__z_1_1CbUndoPathBackwards2_ae493fcd813176d8473ff08680beb7afe}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}!on\+Exit@{on\+Exit}}
\index{on\+Exit@{on\+Exit}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}
\subsubsection{\texorpdfstring{on\+Exit()}{onExit()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2\+::on\+Exit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classsmacc_1_1ISmaccClientBehavior_ad1198fdb2cbdf11f3276d3e23d4c0a50}{smacc\+::\+I\+Smacc\+Client\+Behavior}.



Definition at line 57 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+cpp.



References smacc\+::\+I\+Smacc\+Client\+::get\+Component(), and cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Move\+Base\+Client\+Behavior\+Base\+::move\+Base\+Client\+\_\+.


\begin{DoxyCode}
58 \{
59   \textcolor{keyword}{auto} *odomTracker = \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<OdomTracker>();
60   odomTracker->popPath();
61 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbUndoPathBackwards2_ae493fcd813176d8473ff08680beb7afe_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2_a62f0d53fc341ca6d241637cc0e4b2e30}\label{classcl__move__base__z_1_1CbUndoPathBackwards2_a62f0d53fc341ca6d241637cc0e4b2e30}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}!update@{update}}
\index{update@{update}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \hyperlink{classsmacc_1_1ISmaccUpdatable_a84ee0520cbefdb1d412bed54650b028e}{smacc\+::\+I\+Smacc\+Updatable}.



Definition at line 35 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+cpp.



References smacc\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::cancel\+Goal(), goal, cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Move\+Base\+Client\+Behavior\+Base\+::move\+Base\+Client\+\_\+, robot\+Pose\+\_\+, and cl\+\_\+move\+\_\+base\+\_\+z\+::\+Pose\+::to\+Pose\+Msg().


\begin{DoxyCode}
36 \{
37   \textcolor{comment}{// check the line was passed}
38   \textcolor{comment}{// y = mx x + y0}
39   \textcolor{comment}{// y = (acos(alpha)/sin(alpha)) (x -x0) + y0}
40   \textcolor{comment}{// sin(alpha)(y - y0) - acos(alpha) (x -x0)= 0 // if greater one side if lower , the other}
41   \textcolor{keyword}{auto} pose = \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a2d398dac07efaca840fbcea31957cf7a}{robotPose\_}->\hyperlink{classcl__move__base__z_1_1Pose_a9faf8c6b437ff6b19c8bddd692908dca}{toPoseMsg}();
42 
43   \textcolor{keyword}{auto} y = pose.position.y;
44   \textcolor{keyword}{auto} x = pose.position.x;
45   \textcolor{keyword}{auto} alpha = tf::getYaw(\hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b5d0fce772f7484b35abada92cf2b91}{goal}.target\_pose.pose.orientation);
46   \textcolor{keyword}{auto} y0 = \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b5d0fce772f7484b35abada92cf2b91}{goal}.target\_pose.pose.position.y;
47   \textcolor{keyword}{auto} x0 = \hyperlink{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b5d0fce772f7484b35abada92cf2b91}{goal}.target\_pose.pose.position.x;
48 
49   \textcolor{keyword}{auto} evalimplicit = sin(alpha)*(y - y0) - acos(alpha)*(x - x0);
50   \textcolor{keywordflow}{if} (evalimplicit <= 0)
51   \{
52     ROS\_INFO(\textcolor{stringliteral}{"[CbUndoPathBackwards2] goal line passed, stopping behavior and success"});
53     \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1client__bases_1_1SmaccActionClientBase_aedeaf9704b73bf05b5522f7250416c9a}{cancelGoal}();
54   \}
55 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbUndoPathBackwards2_a62f0d53fc341ca6d241637cc0e4b2e30_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b5d0fce772f7484b35abada92cf2b91}\label{classcl__move__base__z_1_1CbUndoPathBackwards2_a1b5d0fce772f7484b35abada92cf2b91}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}!goal@{goal}}
\index{goal@{goal}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}
\subsubsection{\texorpdfstring{goal}{goal}}
{\footnotesize\ttfamily Cl\+Move\+Base\+Z\+::\+Goal cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2\+::goal\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 26 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+h.



Referenced by on\+Entry(), and update().

\mbox{\Hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2_a1c037317330c74b60660548f09a01749}\label{classcl__move__base__z_1_1CbUndoPathBackwards2_a1c037317330c74b60660548f09a01749}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}!goal\+Line\+Passed\+\_\+@{goal\+Line\+Passed\+\_\+}}
\index{goal\+Line\+Passed\+\_\+@{goal\+Line\+Passed\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}
\subsubsection{\texorpdfstring{goal\+Line\+Passed\+\_\+}{goalLinePassed\_}}
{\footnotesize\ttfamily std\+::atomic$<$\hyperlink{classbool}{bool}$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2\+::goal\+Line\+Passed\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 29 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2_a4531d3f52b12a4cce20ac1545ca2cb61}\label{classcl__move__base__z_1_1CbUndoPathBackwards2_a4531d3f52b12a4cce20ac1545ca2cb61}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}!listener@{listener}}
\index{listener@{listener}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}
\subsubsection{\texorpdfstring{listener}{listener}}
{\footnotesize\ttfamily tf\+::\+Transform\+Listener cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2\+::listener\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 27 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1CbUndoPathBackwards2_a2d398dac07efaca840fbcea31957cf7a}\label{classcl__move__base__z_1_1CbUndoPathBackwards2_a2d398dac07efaca840fbcea31957cf7a}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}!robot\+Pose\+\_\+@{robot\+Pose\+\_\+}}
\index{robot\+Pose\+\_\+@{robot\+Pose\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2}}
\subsubsection{\texorpdfstring{robot\+Pose\+\_\+}{robotPose\_}}
{\footnotesize\ttfamily \hyperlink{classcl__move__base__z_1_1Pose}{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Pose}$\ast$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2\+::robot\+Pose\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 28 of file cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+h.



Referenced by on\+Entry(), and update().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/include/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/client\+\_\+behaviors/\hyperlink{cb__undo__path__backwards2_8h}{cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/src/client\+\_\+behaviors/\hyperlink{cb__undo__path__backwards2_8cpp}{cb\+\_\+undo\+\_\+path\+\_\+backwards2.\+cpp}\end{DoxyCompactItemize}
