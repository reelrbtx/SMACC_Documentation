\hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate}{}\section{cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Absolute\+Rotate Class Reference}
\label{classcl__move__base__z_1_1CbAbsoluteRotate}\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}


{\ttfamily \#include $<$cb\+\_\+absolute\+\_\+rotate.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Absolute\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__move__base__z_1_1CbAbsoluteRotate__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Absolute\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbAbsoluteRotate__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a378516095c2ad66f52e50f6d7c32678e}{Cb\+Absolute\+Rotate} ()
\item 
\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a33d95123791b68b80b25dae87d8f26d8}{Cb\+Absolute\+Rotate} (float \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}{absolute\+Goal\+Angle\+Degree}, float \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}{yaw\+Goal\+Tolerance}=-\/1)
\item 
virtual void \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a10418ea360809fa649d295716b152b2b}{on\+Entry} () override
\item 
virtual void \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a0e362b8e9f0d7de5aeee183ba4031437}{on\+Exit} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
tf\+::\+Transform\+Listener \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ad946bb6486dc35baf03ec1cc430a3406}{listener}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}{absolute\+Goal\+Angle\+Degree}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}{yaw\+Goal\+Tolerance}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{max\+Vel\+Theta}
\item 
boost\+::optional$<$ \hyperlink{namespacecl__move__base__z_aab2ad3041275145f0065fb60b3299345}{Spining\+Planner} $>$ \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinning\+Planner}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a2d8a4200dcacc00ad60c22ad2af5d4b2}{update\+Temporal\+Behavior\+Parameters} (\hyperlink{classbool}{bool} undo)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
float \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a2cfcd2978e7923494e2e66107e134e27}{old\+Yaw\+Tolerance}
\item 
float \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a131095d57ad3fd423bb9eaebebf61cc9}{old\+Max\+Vel\+Theta}
\item 
float \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a280721d1887e622330ee3ac44b7e84d5}{old\+Min\+Vel\+Theta}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 21 of file cb\+\_\+absolute\+\_\+rotate.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a378516095c2ad66f52e50f6d7c32678e}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a378516095c2ad66f52e50f6d7c32678e}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!Cb\+Absolute\+Rotate@{Cb\+Absolute\+Rotate}}
\index{Cb\+Absolute\+Rotate@{Cb\+Absolute\+Rotate}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{Cb\+Absolute\+Rotate()}{CbAbsoluteRotate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::\+Cb\+Absolute\+Rotate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 8 of file cb\+\_\+absolute\+\_\+rotate.\+cpp.


\begin{DoxyCode}
9 \{
10 \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a33d95123791b68b80b25dae87d8f26d8}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a33d95123791b68b80b25dae87d8f26d8}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!Cb\+Absolute\+Rotate@{Cb\+Absolute\+Rotate}}
\index{Cb\+Absolute\+Rotate@{Cb\+Absolute\+Rotate}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{Cb\+Absolute\+Rotate()}{CbAbsoluteRotate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::\+Cb\+Absolute\+Rotate (\begin{DoxyParamCaption}\item[{float}]{absolute\+Goal\+Angle\+Degree,  }\item[{float}]{yaw\+Goal\+Tolerance = {\ttfamily -\/1} }\end{DoxyParamCaption})}



Definition at line 12 of file cb\+\_\+absolute\+\_\+rotate.\+cpp.



References absolute\+Goal\+Angle\+Degree, and yaw\+Goal\+Tolerance.


\begin{DoxyCode}
13 \{
14   this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}{absoluteGoalAngleDegree} = \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}{absoluteGoalAngleDegree};
15 
16   \textcolor{keywordflow}{if} (yaw\_goal\_tolerance >= 0)
17   \{
18     this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}{yawGoalTolerance} = yaw\_goal\_tolerance;
19   \}
20 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a10418ea360809fa649d295716b152b2b}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a10418ea360809fa649d295716b152b2b}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{on\+Entry()}{onEntry()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::on\+Entry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classsmacc_1_1ISmaccClientBehavior_a9877684b1954429719826e2d0924d980}{smacc\+::\+I\+Smacc\+Client\+Behavior}.



Definition at line 137 of file cb\+\_\+absolute\+\_\+rotate.\+cpp.



References absolute\+Goal\+Angle\+Degree, smacc\+::\+I\+Smacc\+Client\+::get\+Component(), smacc\+::\+I\+Smacc\+Client\+Behavior\+::get\+Current\+State(), cl\+\_\+move\+\_\+base\+\_\+z\+::\+Pose\+::get\+Reference\+Frame(), cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Move\+Base\+Client\+Behavior\+Base\+::move\+Base\+Client\+\_\+, smacc\+::\+I\+Smacc\+State\+::param(), cl\+\_\+move\+\_\+base\+\_\+z\+::\+Pure\+Spinning, cl\+\_\+move\+\_\+base\+\_\+z\+::odom\+\_\+tracker\+::\+Odom\+Tracker\+::push\+Path(), cl\+\_\+move\+\_\+base\+\_\+z\+::odom\+\_\+tracker\+::\+R\+E\+C\+O\+R\+D\+\_\+\+P\+A\+TH, smacc\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal(), cl\+\_\+move\+\_\+base\+\_\+z\+::\+Planner\+Switcher\+::set\+Pure\+Spinning\+Planner(), spinning\+Planner, and update\+Temporal\+Behavior\+Parameters().


\begin{DoxyCode}
138 \{
139   \textcolor{keywordtype}{double} goal\_angle;
140   ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[CbAbsoluteRotate] Absolute yaw Angle:"} << this->
      \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}{absoluteGoalAngleDegree});
141 
142   \textcolor{keywordflow}{if} (!this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}{absoluteGoalAngleDegree})
143   \{
144     this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a34fde34e48fa13db622ee60d8374d0b8}{getCurrentState}()->\hyperlink{classsmacc_1_1ISmaccState_a4f2ff8e3eda8aa9bbb60c8ff17d0def1}{param}(\textcolor{stringliteral}{"goal\_angle"}, goal\_angle, 45.0);
145   \}
146   \textcolor{keywordflow}{else}
147   \{
148     goal\_angle = *this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}{absoluteGoalAngleDegree};
149   \}
150 
151   \textcolor{keyword}{auto} plannerSwitcher = \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<PlannerSwitcher>();
152   \textcolor{comment}{// this should work better with a coroutine and await}
153   \textcolor{comment}{// this->plannerSwitcher\_->setForwardPlanner();}
154 
155   \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinningPlanner} && *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinningPlanner} == 
      \hyperlink{namespacecl__move__base__z_aab2ad3041275145f0065fb60b3299345aada5274435681a4ce04175bebfa6652f}{SpiningPlanner::PureSpinning})
156     plannerSwitcher->setPureSpinningPlanner();
157   \textcolor{keywordflow}{else}
158     plannerSwitcher->setDefaultPlanners();
159 
160   \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a2d8a4200dcacc00ad60c22ad2af5d4b2}{updateTemporalBehaviorParameters}(\textcolor{keyword}{false});
161 
162   \textcolor{keyword}{auto} p = \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<
      \hyperlink{classcl__move__base__z_1_1Pose}{cl\_move\_base\_z::Pose}>();
163   \textcolor{keyword}{auto} referenceFrame = p->\hyperlink{classcl__move__base__z_1_1Pose_af8c2dc151e74aa8da6b283d1c8563051}{getReferenceFrame}();
164   \textcolor{keyword}{auto} currentPoseMsg = p->toPoseMsg();
165 
166   ClMoveBaseZ::Goal goal;
167   goal.target\_pose.header.frame\_id = referenceFrame;
168   goal.target\_pose.header.stamp = ros::Time::now();
169 
170   \textcolor{keyword}{auto} currentAngle = tf::getYaw(currentPoseMsg.orientation);
171   \textcolor{keyword}{auto} targetAngle = goal\_angle * M\_PI / 180.0;
172   goal.target\_pose.pose.position = currentPoseMsg.position;
173   goal.target\_pose.pose.orientation = tf::createQuaternionMsgFromYaw(targetAngle);
174 
175   \textcolor{keyword}{auto} odomTracker\_ = \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<odom\_tracker::OdomTracker>()
      ;
176   \textcolor{keywordflow}{if} (odomTracker\_ != \textcolor{keyword}{nullptr})
177   \{
178     odomTracker\_->pushPath(\textcolor{stringliteral}{"PureSpinningToAbsoluteGoalOrientation"});
179     odomTracker\_->setStartPoint(p->toPoseStampedMsg());
180     odomTracker\_->setWorkingMode(\hyperlink{namespacecl__move__base__z_1_1odom__tracker_ac46b05813b2791604f6cd0a39ace3ef8a023bc3adf68871ef7a0c616765ac80a7}{odom\_tracker::WorkingMode::RECORD\_PATH}
      );
181   \}
182 
183   ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[CbAbsoluteRotate] current pose: "} << currentPoseMsg);
184   ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[CbAbsoluteRotate] goal pose: "} << goal.target\_pose.pose);
185   \hyperlink{classcl__move__base__z_1_1CbMoveBaseClientBehaviorBase_ab2ef219464cfac8659b4a87c8d0db6d5}{moveBaseClient\_}->\hyperlink{classsmacc_1_1client__bases_1_1SmaccActionClientBase_a9c47a5094ac8afb01680307fe5eca922}{sendGoal}(goal);
186 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbAbsoluteRotate_a10418ea360809fa649d295716b152b2b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a0e362b8e9f0d7de5aeee183ba4031437}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a0e362b8e9f0d7de5aeee183ba4031437}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!on\+Exit@{on\+Exit}}
\index{on\+Exit@{on\+Exit}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{on\+Exit()}{onExit()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::on\+Exit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classsmacc_1_1ISmaccClientBehavior_ad1198fdb2cbdf11f3276d3e23d4c0a50}{smacc\+::\+I\+Smacc\+Client\+Behavior}.



Definition at line 125 of file cb\+\_\+absolute\+\_\+rotate.\+cpp.



References cl\+\_\+move\+\_\+base\+\_\+z\+::\+Pure\+Spinning, spinning\+Planner, and update\+Temporal\+Behavior\+Parameters().


\begin{DoxyCode}
126 \{
127   \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinningPlanner} && *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinningPlanner} == 
      \hyperlink{namespacecl__move__base__z_aab2ad3041275145f0065fb60b3299345aada5274435681a4ce04175bebfa6652f}{SpiningPlanner::PureSpinning})
128   \{
129   \}
130   \textcolor{keywordflow}{else}
131   \{
132   \}
133 
134   this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a2d8a4200dcacc00ad60c22ad2af5d4b2}{updateTemporalBehaviorParameters}(\textcolor{keyword}{true});
135 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbAbsoluteRotate_a0e362b8e9f0d7de5aeee183ba4031437_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a2d8a4200dcacc00ad60c22ad2af5d4b2}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a2d8a4200dcacc00ad60c22ad2af5d4b2}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!update\+Temporal\+Behavior\+Parameters@{update\+Temporal\+Behavior\+Parameters}}
\index{update\+Temporal\+Behavior\+Parameters@{update\+Temporal\+Behavior\+Parameters}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{update\+Temporal\+Behavior\+Parameters()}{updateTemporalBehaviorParameters()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::update\+Temporal\+Behavior\+Parameters (\begin{DoxyParamCaption}\item[{\hyperlink{classbool}{bool}}]{undo }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 22 of file cb\+\_\+absolute\+\_\+rotate.\+cpp.



References cl\+\_\+move\+\_\+base\+\_\+z\+::\+Default, max\+Vel\+Theta, old\+Max\+Vel\+Theta, old\+Min\+Vel\+Theta, old\+Yaw\+Tolerance, cl\+\_\+move\+\_\+base\+\_\+z\+::\+Pure\+Spinning, spinning\+Planner, and yaw\+Goal\+Tolerance.



Referenced by on\+Entry(), and on\+Exit().


\begin{DoxyCode}
23 \{
24   dynamic\_reconfigure::ReconfigureRequest srv\_req;
25   dynamic\_reconfigure::ReconfigureResponse srv\_resp;
26   dynamic\_reconfigure::Config conf;
27 
28   ros::NodeHandle nh;
29   std::string nodename = \textcolor{stringliteral}{"/move\_base"};
30   std::string localPlannerName;
31   dynamic\_reconfigure::DoubleParameter yaw\_goal\_tolerance;
32   yaw\_goal\_tolerance.name = \textcolor{stringliteral}{"yaw\_goal\_tolerance"};
33 
34   dynamic\_reconfigure::DoubleParameter max\_vel\_theta;
35   dynamic\_reconfigure::DoubleParameter min\_vel\_theta;
36   \textcolor{keywordtype}{bool} isRosBasePlanner = !\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinningPlanner} || *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinningPlanner} == 
      \hyperlink{namespacecl__move__base__z_aab2ad3041275145f0065fb60b3299345a7a1920d61156abc05a60135aefe8bc67}{SpiningPlanner::Default};
37   \textcolor{keywordtype}{bool} isPureSpinningPlanner = \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinningPlanner} && *
      \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}{spinningPlanner} == \hyperlink{namespacecl__move__base__z_aab2ad3041275145f0065fb60b3299345aada5274435681a4ce04175bebfa6652f}{SpiningPlanner::PureSpinning};
38 
39   \textcolor{keywordflow}{if} (isPureSpinningPlanner)
40   \{
41     localPlannerName = \textcolor{stringliteral}{"PureSpinningLocalPlanner"};
42     max\_vel\_theta.name = \textcolor{stringliteral}{"max\_angular\_z\_speed"};
43     min\_vel\_theta.name = \textcolor{stringliteral}{"min\_vel\_theta"};
44   \}
45   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (isRosBasePlanner)
46   \{
47     localPlannerName = \textcolor{stringliteral}{"TrajectoryPlannerROS"};
48     max\_vel\_theta.name = \textcolor{stringliteral}{"max\_vel\_theta"};
49     min\_vel\_theta.name = \textcolor{stringliteral}{"min\_vel\_theta"};
50   \}
51 
52   \textcolor{keywordflow}{if} (!undo)
53   \{
54     \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}{yawGoalTolerance})
55     \{
56       \textcolor{comment}{// save old yaw tolerance}
57       nh.getParam(nodename + \textcolor{stringliteral}{"/"} + localPlannerName + \textcolor{stringliteral}{"/yaw\_goal\_tolerance"}, 
      \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a2cfcd2978e7923494e2e66107e134e27}{oldYawTolerance});
58       yaw\_goal\_tolerance.value = *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}{yawGoalTolerance};
59       conf.doubles.push\_back(yaw\_goal\_tolerance);
60       ROS\_INFO(\textcolor{stringliteral}{"[CbAbsoluteRotate] updating yaw tolerance local planner to: %lf, from previous value: %lf "}
      ,
61                *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}{yawGoalTolerance}, this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a2cfcd2978e7923494e2e66107e134e27}{oldYawTolerance});
62     \}
63 
64     \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{maxVelTheta})
65     \{
66       \textcolor{keywordflow}{if} (isRosBasePlanner)
67       \{
68         \textcolor{comment}{// save old yaw tolerance}
69         \textcolor{comment}{// nh.getParam(nodename + "/"  + localPlannerName+"/min\_vel\_theta", oldMinVelTheta);}
70         nh.getParam(nodename + \textcolor{stringliteral}{"/"} + localPlannerName + \textcolor{stringliteral}{"/max\_vel\_theta"}, 
      \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a131095d57ad3fd423bb9eaebebf61cc9}{oldMaxVelTheta});
71       \}
72       max\_vel\_theta.value = *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{maxVelTheta};
73       min\_vel\_theta.value = -*\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{maxVelTheta};
74       conf.doubles.push\_back(max\_vel\_theta);
75       conf.doubles.push\_back(min\_vel\_theta);
76       ROS\_INFO(\textcolor{stringliteral}{"[CbAbsoluteRotate] updating max vel theta local planner to: %lf, from previous value: %lf "}
      ,
77                *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{maxVelTheta}, this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a131095d57ad3fd423bb9eaebebf61cc9}{oldMaxVelTheta});
78       ROS\_INFO(\textcolor{stringliteral}{"[CbAbsoluteRotate] updating min vel theta local planner to: %lf, from previous value: %lf "}
      ,
79                -*\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{maxVelTheta}, this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a280721d1887e622330ee3ac44b7e84d5}{oldMinVelTheta});
80     \}
81   \}
82   \textcolor{keywordflow}{else}
83   \{
84     \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}{yawGoalTolerance})
85     \{
86       yaw\_goal\_tolerance.value = \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a2cfcd2978e7923494e2e66107e134e27}{oldYawTolerance};
87       conf.doubles.push\_back(yaw\_goal\_tolerance);
88       ROS\_INFO(\textcolor{stringliteral}{"[CbAbsoluteRotate] restoring yaw tolerance local planner from: %lf, to previous value: %lf 
      "},
89                *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}{yawGoalTolerance}, this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a2cfcd2978e7923494e2e66107e134e27}{oldYawTolerance});
90     \}
91 
92     \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{maxVelTheta})
93     \{
94       \textcolor{keywordflow}{if} (isRosBasePlanner)
95       \{
96         max\_vel\_theta.value = \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a131095d57ad3fd423bb9eaebebf61cc9}{oldMaxVelTheta};
97         min\_vel\_theta.value = \hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a280721d1887e622330ee3ac44b7e84d5}{oldMinVelTheta};
98       \}
99 
100       conf.doubles.push\_back(max\_vel\_theta);
101       conf.doubles.push\_back(min\_vel\_theta);
102       ROS\_INFO(\textcolor{stringliteral}{"[CbAbsoluteRotate] restoring max vel theta local planner from: %lf, to previous value: %lf 
      "},
103                *\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{maxVelTheta}, this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a131095d57ad3fd423bb9eaebebf61cc9}{oldMaxVelTheta});
104       ROS\_INFO(\textcolor{stringliteral}{"[CbAbsoluteRotate] restoring min vel theta local planner from: %lf, to previous value: %lf 
      "},
105                -(*\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}{maxVelTheta}), this->\hyperlink{classcl__move__base__z_1_1CbAbsoluteRotate_a280721d1887e622330ee3ac44b7e84d5}{oldMinVelTheta});
106     \}
107   \}
108 
109   srv\_req.config = conf;
110   \textcolor{keywordtype}{bool} res;
111   \textcolor{keywordflow}{do}
112   \{
113     std::string servername = nodename + \textcolor{stringliteral}{"/"} + localPlannerName + \textcolor{stringliteral}{"/set\_parameters"};
114     res = ros::service::call(servername, srv\_req, srv\_resp);
115     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[CbAbsoluteRotate] dynamic configure call ["} << servername << \textcolor{stringliteral}{"]: "} << res);
116     ros::spinOnce();
117     \textcolor{keywordflow}{if} (!res)
118     \{
119       ros::Duration(0.1).sleep();
120       ROS\_INFO(\textcolor{stringliteral}{"[CbAbsoluteRotate] Failed, retrtying call"});
121     \}
122   \} \textcolor{keywordflow}{while} (!res);
123 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbAbsoluteRotate_a2d8a4200dcacc00ad60c22ad2af5d4b2_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}\label{classcl__move__base__z_1_1CbAbsoluteRotate_ad5d0e21549940444e1cb525cda73329a}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!absolute\+Goal\+Angle\+Degree@{absolute\+Goal\+Angle\+Degree}}
\index{absolute\+Goal\+Angle\+Degree@{absolute\+Goal\+Angle\+Degree}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{absolute\+Goal\+Angle\+Degree}{absoluteGoalAngleDegree}}
{\footnotesize\ttfamily boost\+::optional$<$float$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::absolute\+Goal\+Angle\+Degree}



Definition at line 26 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by Cb\+Absolute\+Rotate(), and on\+Entry().

\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_ad946bb6486dc35baf03ec1cc430a3406}\label{classcl__move__base__z_1_1CbAbsoluteRotate_ad946bb6486dc35baf03ec1cc430a3406}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!listener@{listener}}
\index{listener@{listener}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{listener}{listener}}
{\footnotesize\ttfamily tf\+::\+Transform\+Listener cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::listener}



Definition at line 24 of file cb\+\_\+absolute\+\_\+rotate.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}\label{classcl__move__base__z_1_1CbAbsoluteRotate_ac0018b01a202dd805e3d3b50ed205d23}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!max\+Vel\+Theta@{max\+Vel\+Theta}}
\index{max\+Vel\+Theta@{max\+Vel\+Theta}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{max\+Vel\+Theta}{maxVelTheta}}
{\footnotesize\ttfamily boost\+::optional$<$float$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::max\+Vel\+Theta}



Definition at line 28 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by update\+Temporal\+Behavior\+Parameters().

\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a131095d57ad3fd423bb9eaebebf61cc9}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a131095d57ad3fd423bb9eaebebf61cc9}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!old\+Max\+Vel\+Theta@{old\+Max\+Vel\+Theta}}
\index{old\+Max\+Vel\+Theta@{old\+Max\+Vel\+Theta}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{old\+Max\+Vel\+Theta}{oldMaxVelTheta}}
{\footnotesize\ttfamily float cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::old\+Max\+Vel\+Theta\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 41 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by update\+Temporal\+Behavior\+Parameters().

\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a280721d1887e622330ee3ac44b7e84d5}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a280721d1887e622330ee3ac44b7e84d5}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!old\+Min\+Vel\+Theta@{old\+Min\+Vel\+Theta}}
\index{old\+Min\+Vel\+Theta@{old\+Min\+Vel\+Theta}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{old\+Min\+Vel\+Theta}{oldMinVelTheta}}
{\footnotesize\ttfamily float cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::old\+Min\+Vel\+Theta\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 42 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by update\+Temporal\+Behavior\+Parameters().

\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a2cfcd2978e7923494e2e66107e134e27}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a2cfcd2978e7923494e2e66107e134e27}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!old\+Yaw\+Tolerance@{old\+Yaw\+Tolerance}}
\index{old\+Yaw\+Tolerance@{old\+Yaw\+Tolerance}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{old\+Yaw\+Tolerance}{oldYawTolerance}}
{\footnotesize\ttfamily float cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::old\+Yaw\+Tolerance\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 40 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by update\+Temporal\+Behavior\+Parameters().

\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a17d836524599af072cf2e3488e491a91}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!spinning\+Planner@{spinning\+Planner}}
\index{spinning\+Planner@{spinning\+Planner}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{spinning\+Planner}{spinningPlanner}}
{\footnotesize\ttfamily boost\+::optional$<$\hyperlink{namespacecl__move__base__z_aab2ad3041275145f0065fb60b3299345}{Spining\+Planner}$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::spinning\+Planner}



Definition at line 29 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by on\+Entry(), on\+Exit(), and update\+Temporal\+Behavior\+Parameters().

\mbox{\Hypertarget{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}\label{classcl__move__base__z_1_1CbAbsoluteRotate_a8d8b5b9c2c821efe101bb07c96c4bdd3}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}!yaw\+Goal\+Tolerance@{yaw\+Goal\+Tolerance}}
\index{yaw\+Goal\+Tolerance@{yaw\+Goal\+Tolerance}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{yaw\+Goal\+Tolerance}{yawGoalTolerance}}
{\footnotesize\ttfamily boost\+::optional$<$float$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate\+::yaw\+Goal\+Tolerance}



Definition at line 27 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by Cb\+Absolute\+Rotate(), and update\+Temporal\+Behavior\+Parameters().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/include/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/client\+\_\+behaviors/\hyperlink{cb__absolute__rotate_8h}{cb\+\_\+absolute\+\_\+rotate.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/src/client\+\_\+behaviors/\hyperlink{cb__absolute__rotate_8cpp}{cb\+\_\+absolute\+\_\+rotate.\+cpp}\end{DoxyCompactItemize}
