\hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner}{}\section{cl\+\_\+move\+\_\+base\+\_\+z\+:\+:backward\+\_\+local\+\_\+planner\+:\+:Backward\+Local\+Planner Class Reference}
\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner}\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}


{\ttfamily \#include $<$backward\+\_\+local\+\_\+planner.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:backward\+\_\+local\+\_\+planner\+:\+:Backward\+Local\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:backward\+\_\+local\+\_\+planner\+:\+:Backward\+Local\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79e73a858b2a13c7fe10c52e08568fd6}{Backward\+Local\+Planner} ()
\item 
virtual \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6a36aa94617786c6958e861e64abb862}{$\sim$\+Backward\+Local\+Planner} ()
\item 
virtual \hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988}{compute\+Velocity\+Commands} (geometry\+\_\+msgs\+::\+Twist \&cmd\+\_\+vel) override
\begin{DoxyCompactList}\small\item\em Given the current position, orientation, and velocity of the robot\+: compute velocity commands to send to the robot mobile base. \end{DoxyCompactList}\item 
virtual \hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06a99e609ed31b97f765351dd6827722}{is\+Goal\+Reached} () override
\begin{DoxyCompactList}\small\item\em Check if the goal pose has been achieved by the local planner. \end{DoxyCompactList}\item 
virtual \hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4}{set\+Plan} (const std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&plan) override
\begin{DoxyCompactList}\small\item\em Set the plan that the local planner is following. \end{DoxyCompactList}\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae7659aa099ce5a329a9ef046dabcc599}{initialize} (std\+::string name, tf\+::\+Transform\+Listener $\ast$tf, costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmap\+Ros\+\_\+})
\begin{DoxyCompactList}\small\item\em Constructs the local planner. \end{DoxyCompactList}\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9a854ad7d93c5db2efda316358aa845c}{initialize} (std\+::string name, tf2\+\_\+ros\+::\+Buffer $\ast$tf, costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmap\+Ros\+\_\+})
\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}{initialize} ()
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}{reconfig\+CB} (\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config \&config, uint32\+\_\+t level)
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1}{find\+Initial\+Carrot\+Goal} (tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&pose)
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}{update\+Carrot\+Goal} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose)
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed}{resample\+Precise\+Plan} ()
\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8}{straight\+Backwards\+And\+Pure\+Spin\+Cmd} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose, double vetta, double gamma, double alpha\+\_\+error, double betta\+\_\+error, double rho\+\_\+error, geometry\+\_\+msgs\+::\+Twist \&cmd\+\_\+vel)
\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}{default\+Backward\+Cmd} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose, double vetta, double gamma, double alpha\+\_\+error, double betta\+\_\+error, geometry\+\_\+msgs\+::\+Twist \&cmd\+\_\+vel)
\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}{publish\+Goal\+Marker} (double x, double y, double phi)
\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose, double \&dist, double \&angular\+\_\+error)
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112}{check\+Current\+Pose\+In\+Goal\+Range} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose, double angle\+\_\+error, \hyperlink{classbool}{bool} \&in\+Linear\+Goal)
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}{reset\+Divergence\+Detection} ()
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b}{divergence\+Detection\+Update} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose)
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6}{check\+Carrot\+Half\+Plain\+Constraint} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose)
\item 
void \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc}{generate\+Trajectory} (const Eigen\+::\+Vector3f \&pos, const Eigen\+::\+Vector3f \&vel, float maxdist, float maxangle, float maxtime, float dt, std\+::vector$<$ Eigen\+::\+Vector3f $>$ \&outtraj)
\item 
Eigen\+::\+Vector3f \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14}{compute\+New\+Positions} (const Eigen\+::\+Vector3f \&pos, const Eigen\+::\+Vector3f \&vel, double dt)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{strikes__back_2servers_2led__action__server_2src_2led__action__server__node_8cpp_a2036ae39d23f8e14a2cc8ddcd46dea5a}{dynamic\+\_\+reconfigure\+::\+Server}$<$\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config $>$ \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}{param\+Server\+\_\+}
\item 
\hyperlink{strikes__back_2servers_2led__action__server_2src_2led__action__server__node_8cpp_a2036ae39d23f8e14a2cc8ddcd46dea5a}{dynamic\+\_\+reconfigure\+::\+Server}$<$\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config $>$\+::Callback\+Type \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}{f}
\item 
std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwards\+Plan\+Path\+\_\+}
\item 
costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$ \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmap\+Ros\+\_\+}
\item 
ros\+::\+Publisher \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}{goal\+Marker\+Publisher\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\+\_\+rho\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\+\_\+alpha\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\+\_\+betta\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a957d163366cfeaf20d5534a7208fc326}{pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goal\+Reached\+\_\+}
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0e2b0589fce0bb228eb87751528e822}{initial\+Pure\+Spinning\+Stage\+\_\+}
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+} = false
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\+\_\+obstacle\+\_\+checking\+\_\+} = true
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{in\+Goal\+Pure\+Spinning\+State\+\_\+} = false
\item 
const double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a09765b08935d9355447c44776e1b1c3a}{alpha\+\_\+offset\+\_\+} = M\+\_\+\+PI
\item 
const double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a07e5f16f6951cca1e6d3483f345d0bb1}{betta\+\_\+offset\+\_\+} = 0
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\+\_\+goal\+\_\+tolerance\+\_\+}
\item 
\hyperlink{backward__local__planner_8h_ab6024a26b088c11b8a5218a469ae5a57}{meter} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\+\_\+distance\+\_\+}
\item 
\hyperlink{backward__local__planner_8h_a640effbe91ae9b25d698a883a9e80d96}{rad} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\+\_\+angular\+\_\+distance\+\_\+}
\item 
\hyperlink{backward__local__planner_8h_ab6024a26b088c11b8a5218a469ae5a57}{meter} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}
\item 
int \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{current\+Carrot\+Pose\+Index\+\_\+}
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}{waiting\+\_\+}
\item 
ros\+::\+Duration \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}{waiting\+Timeout\+\_\+}
\item 
ros\+::\+Time \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}{waiting\+Stamp\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 23 of file backward\+\_\+local\+\_\+planner.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79e73a858b2a13c7fe10c52e08568fd6}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79e73a858b2a13c7fe10c52e08568fd6}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!Backward\+Local\+Planner@{Backward\+Local\+Planner}}
\index{Backward\+Local\+Planner@{Backward\+Local\+Planner}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{Backward\+Local\+Planner()}{BackwardLocalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::\+Backward\+Local\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79e73a858b2a13c7fe10c52e08568fd6}{Backward\+Local\+Planner()} 

Definition at line 20 of file backward\+\_\+local\+\_\+planner.\+cpp.


\begin{DoxyCode}
21             : \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}{paramServer\_}(ros::NodeHandle(\textcolor{stringliteral}{"~BackwardLocalPlanner"}))
22         \{
23         \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6a36aa94617786c6958e861e64abb862}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6a36aa94617786c6958e861e64abb862}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!````~Backward\+Local\+Planner@{$\sim$\+Backward\+Local\+Planner}}
\index{````~Backward\+Local\+Planner@{$\sim$\+Backward\+Local\+Planner}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{$\sim$\+Backward\+Local\+Planner()}{~BackwardLocalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::$\sim$\+Backward\+Local\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6a36aa94617786c6958e861e64abb862}{$\sim$\+Backward\+Local\+Planner()} 

Definition at line 30 of file backward\+\_\+local\+\_\+planner.\+cpp.


\begin{DoxyCode}
31         \{
32         \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!check\+Carrot\+Half\+Plain\+Constraint@{check\+Carrot\+Half\+Plain\+Constraint}}
\index{check\+Carrot\+Half\+Plain\+Constraint@{check\+Carrot\+Half\+Plain\+Constraint}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{check\+Carrot\+Half\+Plain\+Constraint()}{checkCarrotHalfPlainConstraint()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::check\+Carrot\+Half\+Plain\+Constraint (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 212 of file backward\+\_\+local\+\_\+planner.\+cpp.



References backwards\+Plan\+Path\+\_\+, and current\+Carrot\+Pose\+Index\+\_\+.



Referenced by compute\+Velocity\+Commands().


\begin{DoxyCode}
213         \{
214             \textcolor{comment}{// this function is specially useful when we want to reach the goal with a lot}
215             \textcolor{comment}{// of precission. We may pass the goal and then the controller enters in some}
216             \textcolor{comment}{// unstable state. With this, we are able to detect when stop moving.}
217 
218             \textcolor{comment}{// only apply if the carrot is in goal position and also if we are not in a pure spinning
       behavior v!=0}
219 
220             \textcolor{keyword}{auto} &carrot\_pose = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}[
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}];
221             \textcolor{keyword}{const} geometry\_msgs::Point &carrot\_point = carrot\_pose.pose.position;
222             \textcolor{keywordtype}{double} yaw = tf::getYaw(carrot\_pose.pose.orientation);
223 
224             \textcolor{comment}{// direction vector}
225             \textcolor{keywordtype}{double} vx = cos(yaw);
226             \textcolor{keywordtype}{double} vy = sin(yaw);
227 
228             \textcolor{comment}{// line implicit equation}
229             \textcolor{comment}{// ax + by + c = 0}
230             \textcolor{keywordtype}{double} c = -vx * carrot\_point.x - vy * carrot\_point.y;
231             \textcolor{keyword}{const} \textcolor{keywordtype}{double} C\_OFFSET\_METERS = 0.05; \textcolor{comment}{// 5 cm}
232             \textcolor{keywordtype}{double} check = vx * tfpose.getOrigin().x() + vy * tfpose.getOrigin().y() + c + C\_OFFSET\_METERS;
233 
234             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] half plane contraint:"} << vx << \textcolor{stringliteral}{"*"} << carrot\_point.x 
      << \textcolor{stringliteral}{" + "} << vy << \textcolor{stringliteral}{"*"} << carrot\_point.y << \textcolor{stringliteral}{" + "} << c);
235             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] constraint evaluation: "} << vx << \textcolor{stringliteral}{"*"} << tfpose.
      getOrigin().x() << \textcolor{stringliteral}{" + "} << vy << \textcolor{stringliteral}{"*"} << tfpose.getOrigin().y() << \textcolor{stringliteral}{" + "} << c << \textcolor{stringliteral}{" = "} << check);
236 
237             \textcolor{keywordflow}{return} check < 0;
238         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!check\+Current\+Pose\+In\+Goal\+Range@{check\+Current\+Pose\+In\+Goal\+Range}}
\index{check\+Current\+Pose\+In\+Goal\+Range@{check\+Current\+Pose\+In\+Goal\+Range}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{check\+Current\+Pose\+In\+Goal\+Range()}{checkCurrentPoseInGoalRange()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::check\+Current\+Pose\+In\+Goal\+Range (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose,  }\item[{double}]{angle\+\_\+error,  }\item[{\hyperlink{classbool}{bool} \&}]{in\+Linear\+Goal }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 240 of file backward\+\_\+local\+\_\+planner.\+cpp.



References backwards\+Plan\+Path\+\_\+, xy\+\_\+goal\+\_\+tolerance\+\_\+, and yaw\+\_\+goal\+\_\+tolerance\+\_\+.



Referenced by compute\+Velocity\+Commands().


\begin{DoxyCode}
241         \{
242             \textcolor{keyword}{auto} &finalgoal = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.back();
243             \textcolor{keywordtype}{double} gdx = finalgoal.pose.position.x - tfpose.getOrigin().x();
244             \textcolor{keywordtype}{double} gdy = finalgoal.pose.position.y - tfpose.getOrigin().y();
245             \textcolor{keywordtype}{double} goaldist = sqrt(gdx * gdx + gdy * gdy);
246 
247             \textcolor{keyword}{auto} abs\_angle\_error = fabs(angle\_error);
248             \textcolor{comment}{// final\_alpha\_error =}
249             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] goal check. linear dist: "} << goaldist << \textcolor{stringliteral}{"("} << 
      this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_} << \textcolor{stringliteral}{")"}
250                                                                                 << \textcolor{stringliteral}{", angular dist: "} << 
      abs\_angle\_error << \textcolor{stringliteral}{"("} << this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_} << \textcolor{stringliteral}{")"});
251 
252             linearGoalReached = goaldist < this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_};
253 
254             \textcolor{keywordflow}{if} (abs\_angle\_error < this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}) \textcolor{comment}{// 5cm}
255             \{
256                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
257             \}
258 
259             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
260         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal@{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal}}
\index{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal@{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose,  }\item[{double \&}]{dist,  }\item[{double \&}]{angular\+\_\+error }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 99 of file backward\+\_\+local\+\_\+planner.\+cpp.



References backwards\+Plan\+Path\+\_\+, and current\+Carrot\+Pose\+Index\+\_\+.



Referenced by divergence\+Detection\+Update(), find\+Initial\+Carrot\+Goal(), and update\+Carrot\+Goal().


\begin{DoxyCode}
100         \{
101             \textcolor{keywordtype}{double} angle = tf::getYaw(tfpose.getRotation());
102             \textcolor{keyword}{auto} &carrot\_pose = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}[
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}];
103             \textcolor{keyword}{const} geometry\_msgs::Point &carrot\_point = carrot\_pose.pose.position;
104 
105             tf::Quaternion carrot\_orientation;
106             tf::quaternionMsgToTF(carrot\_pose.pose.orientation, carrot\_orientation);
107 
108             geometry\_msgs::Pose currentPoseDebugMsg;
109             tf::poseTFToMsg(tfpose, currentPoseDebugMsg);
110 
111             \textcolor{comment}{// take error from the current position to the path point}
112             \textcolor{keywordtype}{double} dx = carrot\_point.x - tfpose.getOrigin().x();
113             \textcolor{keywordtype}{double} dy = carrot\_point.y - tfpose.getOrigin().y();
114             dist = sqrt(dx * dx + dy * dy);
115 
116             \textcolor{keywordtype}{double} pangle = tf::getYaw(carrot\_orientation);
117             angular\_error = fabs(angles::shortest\_angular\_distance(pangle, angle));
118 
119             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] Compute carrot errors. (linear "} << dist << \textcolor{stringliteral}{")(angular
       "} << angular\_error << \textcolor{stringliteral}{")"} << std::endl
120                                                                                       << \textcolor{stringliteral}{"Current carrot
       pose: "} << std::endl
121                                                                                       << carrot\_pose << 
      std::endl
122                                                                                       << \textcolor{stringliteral}{"Current actual
       pose:"} << std::endl
123                                                                                       << 
      currentPoseDebugMsg);
124         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!compute\+New\+Positions@{compute\+New\+Positions}}
\index{compute\+New\+Positions@{compute\+New\+Positions}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{compute\+New\+Positions()}{computeNewPositions()}}
{\footnotesize\ttfamily Eigen\+::\+Vector3f cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+New\+Positions (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3f \&}]{pos,  }\item[{const Eigen\+::\+Vector3f \&}]{vel,  }\item[{double}]{dt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 862 of file backward\+\_\+local\+\_\+planner.\+cpp.



Referenced by generate\+Trajectory().


\begin{DoxyCode}
863         \{
864             Eigen::Vector3f new\_pos = Eigen::Vector3f::Zero();
865             new\_pos[0] = pos[0] + (vel[0] * cos(pos[2]) + vel[1] * cos(M\_PI\_2 + pos[2])) * dt;
866             new\_pos[1] = pos[1] + (vel[0] * sin(pos[2]) + vel[1] * sin(M\_PI\_2 + pos[2])) * dt;
867             new\_pos[2] = pos[2] + vel[2] * dt;
868             \textcolor{keywordflow}{return} new\_pos;
869         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!compute\+Velocity\+Commands@{compute\+Velocity\+Commands}}
\index{compute\+Velocity\+Commands@{compute\+Velocity\+Commands}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{compute\+Velocity\+Commands()}{computeVelocityCommands()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+Velocity\+Commands (\begin{DoxyParamCaption}\item[{geometry\+\_\+msgs\+::\+Twist \&}]{cmd\+\_\+vel }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Given the current position, orientation, and velocity of the robot\+: compute velocity commands to send to the robot mobile base. 


\begin{DoxyParams}{Parameters}
{\em cmd\+\_\+vel} & Will be filled with the velocity command to be passed to the robot base \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid velocity command was found, false otherwise
\end{DoxyReturn}
\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988}{compute\+Velocity\+Commands()} 

Definition at line 331 of file backward\+\_\+local\+\_\+planner.\+cpp.



References alpha\+\_\+offset\+\_\+, backwards\+Plan\+Path\+\_\+, betta\+\_\+offset\+\_\+, check\+Carrot\+Half\+Plain\+Constraint(), check\+Current\+Pose\+In\+Goal\+Range(), costmap\+Ros\+\_\+, current\+Carrot\+Pose\+Index\+\_\+, default\+Backward\+Cmd(), enable\+\_\+obstacle\+\_\+checking\+\_\+, generate\+Trajectory(), goal\+Reached\+\_\+, in\+Goal\+Pure\+Spinning\+State\+\_\+, k\+\_\+alpha\+\_\+, k\+\_\+betta\+\_\+, k\+\_\+rho\+\_\+, max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+, max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+, cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::optional\+Robot\+Pose(), publish\+Goal\+Marker(), straight\+Backwards\+And\+Pure\+Spin\+Cmd(), straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+, update\+Carrot\+Goal(), waiting\+\_\+, waiting\+Stamp\+\_\+, waiting\+Timeout\+\_\+, and xy\+\_\+goal\+\_\+tolerance\+\_\+.


\begin{DoxyCode}
332         \{
333             ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardLocalPlanner] ------------------- LOCAL PLANNER LOOP -----------------"});
334             geometry\_msgs::PoseStamped paux;
335             tf::Stamped<tf::Pose> tfpose = \hyperlink{namespacecl__move__base__z_1_1backward__local__planner_afd5bb2a0d144f7b89f4215fbcb1fbe69}{optionalRobotPose}(
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_});
336 
337             \textcolor{comment}{//bool divergenceDetected = this->divergenceDetectionUpdate(tfpose);}
338             \textcolor{comment}{// it is not working in the pure spinning reel example, maybe the hyperplane check is enough}
339             \textcolor{keywordtype}{bool} divergenceDetected = \textcolor{keyword}{false};
340 
341             \textcolor{keywordtype}{bool} emergency\_stop = \textcolor{keyword}{false};
342             \textcolor{keywordflow}{if} (divergenceDetected)
343             \{
344                 ROS\_ERROR(\textcolor{stringliteral}{"[BackwardLocalPlanner] Divergence detected. Sending emergency stop."});
345                 emergency\_stop = \textcolor{keyword}{true};
346             \}
347 
348             \textcolor{keywordtype}{bool} carrotInLinearGoalRange = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}{updateCarrotGoal}(tfpose);
349             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] carrot goal created"});
350 
351             \textcolor{keywordflow}{if} (emergency\_stop)
352             \{
353                 cmd\_vel.linear.x = 0;
354                 cmd\_vel.angular.z = 0;
355                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] emergency stop, exit compute commands"});
356                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
357             \}
358 
359             \textcolor{comment}{// ------ Evaluate the current context ----}
360             \textcolor{keywordtype}{double} rho\_error, betta\_error, alpha\_error;
361             
362 
363                 \textcolor{comment}{// getting carrot goal information}
364                 tf::Quaternion q = tfpose.getRotation();
365                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] carrot goal: "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} << \textcolor{stringliteral}{"/"} << \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size());
366                 \textcolor{keyword}{const} geometry\_msgs::PoseStamped &carrotgoalpose = 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}[\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}];
367                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] carrot goal pose current index: "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} << \textcolor{stringliteral}{"/"} << \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() << \textcolor{stringliteral}{": 
      "} << carrotgoalpose);
368                 \textcolor{keyword}{const} geometry\_msgs::Point &carrotGoalPosition = carrotgoalpose.pose.position;
369 
370                 tf::Quaternion goalQ;
371                 tf::quaternionMsgToTF(carrotgoalpose.pose.orientation, goalQ);
372                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] goal orientation: "} << goalQ);
373 
374                 \textcolor{comment}{//goal orientation (global frame)}
375                 \textcolor{keywordtype}{double} betta = tf::getYaw(goalQ);
376                 betta = betta + \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a07e5f16f6951cca1e6d3483f345d0bb1}{betta\_offset\_};
377 
378                 \textcolor{keywordtype}{double} dx = carrotGoalPosition.x - tfpose.getOrigin().x();
379                 \textcolor{keywordtype}{double} dy = carrotGoalPosition.y - tfpose.getOrigin().y();
380 
381                 \textcolor{comment}{//distance error to the targetpoint}
382                 rho\_error = sqrt(dx * dx + dy * dy);
383 
384                 \textcolor{comment}{//heading to goal angle}
385                 \textcolor{keywordtype}{double} theta = tf::getYaw(q);
386                 \textcolor{keywordtype}{double} alpha = atan2(dy, dx);
387                 alpha = alpha + \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a09765b08935d9355447c44776e1b1c3a}{alpha\_offset\_};
388 
389                 alpha\_error = angles::shortest\_angular\_distance(alpha, theta);
390                 betta\_error = angles::shortest\_angular\_distance(betta, theta);
391             \textcolor{comment}{//------------- END CONTEXT EVAL ----------}
392 
393             \textcolor{keywordtype}{bool} linearGoalReached;
394             \textcolor{keywordtype}{bool} currentPoseInGoal = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112}{checkCurrentPoseInGoalRange}(tfpose,
      betta\_error, linearGoalReached);
395 
396             \textcolor{keywordtype}{bool} carrotInFinalGoal = carrotInLinearGoalRange && 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} == \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() - 1;
397 
398             \textcolor{keywordflow}{if}(currentPoseInGoal && carrotInFinalGoal)
399             \{
400                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goalReached\_} = \textcolor{keyword}{true};
401                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.clear();
402                 ROS\_INFO\_STREAM(\textcolor{stringliteral}{" [BackwardLocalPlanner] GOAL REACHED. Send stop command and skipping
       trajectory collision: "} << cmd\_vel);
403                 cmd\_vel.linear.x =0;
404                 cmd\_vel.angular.z = 0;
405                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
406             \}
407 
408             \textcolor{keywordflow}{if} (carrotInLinearGoalRange && linearGoalReached) \textcolor{comment}{// we miss here and not any carrot ahead is
       outside goal, replacing carrotInLinearGoalRange to carrotInFinalLinearGoalRange}
409             \{
410                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_} = \textcolor{keyword}{true};
411             \}
412 
413 
414                 \textcolor{keywordtype}{double} vetta = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_} * rho\_error;
415                 \textcolor{keywordtype}{double} gamma = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\_alpha\_} * alpha\_error + \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_} * betta\_error;
416                 \textcolor{comment}{// --------------------}
417 
418                 \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straightBackwardsAndPureSpinningMode\_})
419                 \{
420                     this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8}{straightBackwardsAndPureSpinCmd}(tfpose, vetta, 
      gamma, alpha\_error, betta\_error, rho\_error, cmd\_vel);
421                 \}
422                 \textcolor{keywordflow}{else} \textcolor{comment}{// default curved backward-free motion mode}
423                 \{
424                     \textcolor{comment}{// case B: goal position reached but orientation not yet reached. deactivate linear
       motion.}
425                     \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_})
426                     \{
427                         ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardLocalPlanner] we entered in a pure spinning state even in not
       pure-spining configuration, carrotDistanceGoalReached: %d"}, carrotInLinearGoalRange);
428                         gamma = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_} * betta\_error;
429                         vetta = 0;
430                     \}
431 
432                     \textcolor{comment}{//clasical control to reach a goal backwards}
433                     this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}{defaultBackwardCmd}(tfpose, vetta, gamma, alpha\_error, 
      betta\_error, cmd\_vel);
434                 \}
435 
436                 \textcolor{keywordflow}{if} (cmd\_vel.linear.x > \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_})
437                 \{
438                     cmd\_vel.linear.x = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_};
439                 \}
440                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cmd\_vel.linear.x < -\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_})
441                 \{
442                     cmd\_vel.linear.x = -\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_};
443                 \}
444 
445                 \textcolor{keywordflow}{if} (cmd\_vel.angular.z > \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_})
446                 \{
447                     cmd\_vel.angular.z = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_};
448                 \}
449                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cmd\_vel.angular.z < -\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_})
450                 \{
451                     cmd\_vel.angular.z = -\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_};
452                 \}
453 
454                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}{publishGoalMarker}(carrotGoalPosition.x, carrotGoalPosition.y, betta);
455 
456                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] local planner,"} << std::endl
457                                                                          << \textcolor{stringliteral}{" straightAnPureSpiningMode: "} 
      << \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straightBackwardsAndPureSpinningMode\_} << std::endl
458                                                                          << \textcolor{stringliteral}{" inGoalPureSpinningState: "} <<
       \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_} << std::endl
459                                                                          << \textcolor{stringliteral}{"carrotInLinearGoalRange: "} << 
      carrotInLinearGoalRange << std::endl
460                                                                          << \textcolor{stringliteral}{" theta: "} << theta << 
      std::endl
461                                                                          << \textcolor{stringliteral}{" betta: "} << theta << 
      std::endl
462                                                                          << \textcolor{stringliteral}{" err\_x: "} << dx << std::endl
463                                                                          << \textcolor{stringliteral}{" err\_y:"} << dy << std::endl
464                                                                          << \textcolor{stringliteral}{" rho\_error:"} << rho\_error << 
      std::endl
465                                                                          << \textcolor{stringliteral}{" alpha\_error:"} << alpha\_error 
      << std::endl
466                                                                          << \textcolor{stringliteral}{" betta\_error:"} << betta\_error 
      << std::endl
467                                                                          << \textcolor{stringliteral}{" vetta:"} << vetta << std::endl
468                                                                          << \textcolor{stringliteral}{" gamma:"} << gamma << std::endl
469                                                                          << \textcolor{stringliteral}{" cmd\_vel.lin.x:"} << cmd\_vel.
      linear.x << std::endl
470                                                                          << \textcolor{stringliteral}{" cmd\_vel.ang.z:"} << cmd\_vel.
      angular.z);
471 
472                 \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_})
473                 \{
474                     \textcolor{keywordtype}{bool} carrotHalfPlaneConstraintFailure = 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6}{checkCarrotHalfPlainConstraint}(tfpose);
475 
476                     \textcolor{keywordflow}{if} (carrotHalfPlaneConstraintFailure)
477                     \{
478                         ROS\_ERROR(\textcolor{stringliteral}{"[BackwardLocalPlanner] CarrotHalfPlaneConstraintFailure detected.
       Sending emergency stop and success to the planner."});
479                         cmd\_vel.linear.x = 0;
480                     \}
481                 \}
482         
483 
484             \textcolor{comment}{// ---------------------- TRAJECTORY PREDICTION AND COLLISION AVOIDANCE ---------------------}
485             \textcolor{comment}{//cmd\_vel.linear.x=0;}
486             \textcolor{comment}{//cmd\_vel.angular.z = 0;}
487             tf::Stamped<tf::Pose> global\_pose = \hyperlink{namespacecl__move__base__z_1_1backward__local__planner_afd5bb2a0d144f7b89f4215fbcb1fbe69}{optionalRobotPose}(
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_});
488 
489             \textcolor{keyword}{auto} *costmap2d = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}->getCostmap();
490             \textcolor{keyword}{auto} yaw = tf::getYaw(global\_pose.getRotation());
491 
492             \textcolor{keyword}{auto} &pos = global\_pose.getOrigin();
493 
494             Eigen::Vector3f currentpose(pos.x(), pos.y(), yaw);
495             Eigen::Vector3f currentvel(cmd\_vel.linear.x, cmd\_vel.linear.y, cmd\_vel.angular.z);
496             std::vector<Eigen::Vector3f> trajectory;
497             this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc}{generateTrajectory}(currentpose, currentvel, 0.8 \textcolor{comment}{/*meters*/}, M\_PI / 8 \textcolor{comment}{/*
      rads*/}, 3.0 \textcolor{comment}{/*seconds*/}, 0.05 \textcolor{comment}{/*seconds*/}, trajectory);
498 
499             \textcolor{comment}{// check plan rejection}
500             \textcolor{keywordtype}{bool} acceptedLocalTrajectoryFreeOfObstacles = \textcolor{keyword}{true};
501 
502             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} mx, my;
503 
504             \textcolor{keywordflow}{if} (this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\_obstacle\_checking\_})
505             \{
506                 \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() > 0)
507                 \{
508                     \textcolor{keyword}{auto} &finalgoalpose = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.back();
509 
510                     \textcolor{keywordtype}{int} i = 0;
511                     \textcolor{comment}{// ROS\_INFO\_STREAM("lplanner goal: " << finalgoalpose.pose.position);}
512                     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &p : trajectory)
513                     \{
514                         \textcolor{keywordtype}{float} dx = p[0] - finalgoalpose.pose.position.x;
515                         \textcolor{keywordtype}{float} dy = p[1] - finalgoalpose.pose.position.y;
516 
517                         \textcolor{keywordtype}{float} dst = sqrt(dx * dx + dy * dy);
518                         \textcolor{keywordflow}{if} (dst < \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_})
519                         \{
520                             ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardLocalPlanner] trajectory simulation for collision checking:
       goal reached with no collision"});
521                             \textcolor{keywordflow}{break};
522                         \}
523 
524                         costmap2d->worldToMap(p[0], p[1], mx, my);
525                         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cost = costmap2d->getCost(mx, my);
526 
527                         \textcolor{comment}{// ROS\_DEBUG("[BackwardLocalPlanner] checking cost pt %d [%lf, %lf] cell[%d,%d] =
       %d", i, p[0], p[1], mx, my, cost);}
528                         \textcolor{comment}{// ROS\_DEBUG\_STREAM("[BackwardLocalPlanner] cost: " << cost);}
529 
530                         \textcolor{comment}{// static const unsigned char NO\_INFORMATION = 255;}
531                         \textcolor{comment}{// static const unsigned char LETHAL\_OBSTACLE = 254;}
532                         \textcolor{comment}{// static const unsigned char INSCRIBED\_INFLATED\_OBSTACLE = 253;}
533                         \textcolor{comment}{// static const unsigned char FREE\_SPACE = 0;}
534 
535                         \textcolor{keywordflow}{if} (costmap2d->getCost(mx, my) >= costmap\_2d::INSCRIBED\_INFLATED\_OBSTACLE)
536                         \{
537                             acceptedLocalTrajectoryFreeOfObstacles = \textcolor{keyword}{false};
538                             ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] ABORTED LOCAL PLAN BECAUSE OBSTACLE
       DETEDTED at point "} << i << \textcolor{stringliteral}{"/"} << trajectory.size() << std::endl
539                                                                                                            
                       << p[0] << \textcolor{stringliteral}{", "} << p[1]);
540                             \textcolor{keywordflow}{break};
541                         \}
542                         i++;
543                     \}
544                 \}
545                 \textcolor{keywordflow}{else}
546                 \{
547                     ROS\_WARN(\textcolor{stringliteral}{"[BackwardLocalPlanner] Abort local - Backwards global plan size: %ld"}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size());
548                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
549                 \}
550             \}
551 
552             \textcolor{keywordflow}{if} (acceptedLocalTrajectoryFreeOfObstacles)
553             \{
554                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}{waiting\_} = \textcolor{keyword}{false};
555                 ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardLocalPlanner] accepted local trajectory free of obstacle. Local planner
       continues."});
556                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
557             \}
558             \textcolor{keywordflow}{else} \textcolor{comment}{// that is not appceted because existence of obstacles}
559             \{
560                 \textcolor{comment}{// emergency stop for collision: waiting a while before sending error}
561                 cmd\_vel.linear.x = 0;
562                 cmd\_vel.angular.z = 0;
563 
564                 \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}{waiting\_} == \textcolor{keyword}{false})
565                 \{
566                     \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}{waiting\_} = \textcolor{keyword}{true};
567                     \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}{waitingStamp\_} = ros::Time::now();
568                     ROS\_WARN(\textcolor{stringliteral}{"[BackwardLocalPlanner][Not accepted local plan] starting countdown"});
569                 \}
570                 \textcolor{keywordflow}{else}
571                 \{
572                     \textcolor{keyword}{auto} waitingduration = ros::Time::now() - \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}{waitingStamp\_};
573 
574                     \textcolor{keywordflow}{if} (waitingduration > this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}{waitingTimeout\_})
575                     \{
576                         ROS\_WARN(\textcolor{stringliteral}{"[BackwardLocalPlanner][Abort local] timeout! duration %lf/%f"}, 
      waitingduration.toSec(), \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}{waitingTimeout\_}.toSec());
577                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
578                     \}
579                 \}
580 
581                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
582             \}
583         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!default\+Backward\+Cmd@{default\+Backward\+Cmd}}
\index{default\+Backward\+Cmd@{default\+Backward\+Cmd}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{default\+Backward\+Cmd()}{defaultBackwardCmd()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::default\+Backward\+Cmd (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose,  }\item[{double}]{vetta,  }\item[{double}]{gamma,  }\item[{double}]{alpha\+\_\+error,  }\item[{double}]{betta\+\_\+error,  }\item[{geometry\+\_\+msgs\+::\+Twist \&}]{cmd\+\_\+vel }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}{default\+Backward\+Cmd()} 

Definition at line 266 of file backward\+\_\+local\+\_\+planner.\+cpp.



Referenced by compute\+Velocity\+Commands().


\begin{DoxyCode}
267         \{
268             cmd\_vel.linear.x = vetta;
269             cmd\_vel.angular.z = gamma;
270         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!divergence\+Detection\+Update@{divergence\+Detection\+Update}}
\index{divergence\+Detection\+Update@{divergence\+Detection\+Update}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{divergence\+Detection\+Update()}{divergenceDetectionUpdate()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::divergence\+Detection\+Update (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 181 of file backward\+\_\+local\+\_\+planner.\+cpp.



References compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal(), and divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+.



Referenced by set\+Plan().


\begin{DoxyCode}
182         \{
183             \textcolor{keywordtype}{double} disterr = 0, angleerr = 0;
184             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}
      (tfpose, disterr, angleerr);
185 
186             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] Divergence check. carrot goal distance. was: "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_} << \textcolor{stringliteral}{", now it is: "}
       << disterr);
187             \textcolor{keywordflow}{if} (disterr > \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_}
      )
188             \{
189                 \textcolor{comment}{// candidate of divergence, we do not throw the divergence alarm yet}
190                 \textcolor{comment}{// but we neither update the distance since it is worse than the one}
191                 \textcolor{comment}{// we had previously with the same carrot.}
192                 \textcolor{keyword}{const} \textcolor{keywordtype}{double} MARGIN\_FACTOR = 1.2;
193                 \textcolor{keywordflow}{if} (disterr > MARGIN\_FACTOR * 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_})
194                 \{
195                     ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] Divergence detected. The same carrot goal
       distance was previously: "} << divergenceDetectionLastCarrotLinearDistance\_ << \textcolor{stringliteral}{"but now it is: "} << disterr);
196                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
197                 \}
198                 \textcolor{keywordflow}{else}
199                 \{
200                     \textcolor{comment}{// divergence candidate}
201                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
202                 \}
203             \}
204             \textcolor{keywordflow}{else}
205             \{
206                 \textcolor{comment}{//update:}
207                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_} = 
      disterr;
208                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
209             \}
210         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!find\+Initial\+Carrot\+Goal@{find\+Initial\+Carrot\+Goal}}
\index{find\+Initial\+Carrot\+Goal@{find\+Initial\+Carrot\+Goal}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{find\+Initial\+Carrot\+Goal()}{findInitialCarrotGoal()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::find\+Initial\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{pose }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 633 of file backward\+\_\+local\+\_\+planner.\+cpp.



References backwards\+Plan\+Path\+\_\+, carrot\+\_\+angular\+\_\+distance\+\_\+, carrot\+\_\+distance\+\_\+, compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal(), and current\+Carrot\+Pose\+Index\+\_\+.



Referenced by set\+Plan().


\begin{DoxyCode}
634         \{
635             \textcolor{keywordtype}{double} lineardisterr, angleerr;
636             \textcolor{keywordtype}{bool} inCarrotRange = \textcolor{keyword}{false};
637 
638             \textcolor{comment}{// initial state check}
639             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}
      (tfpose, lineardisterr, angleerr);
640 
641             \textcolor{keywordtype}{int} closestIndex = -1;
642             \textcolor{keywordtype}{double} minpointdist = std::numeric\_limits<double>::max();
643 
644             \textcolor{comment}{// lets set the carrot-goal in the corret place with this loop}
645             \textcolor{keywordflow}{while} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} < 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() && !inCarrotRange)
646             \{
647                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}
      (tfpose, lineardisterr, angleerr);
648 
649                 ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardLocalPlanner] Finding initial carrot goal i=%d - error to carrot,
       linear = %lf (%lf), angular : %lf (%lf)"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}, lineardisterr, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}, angleerr, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_});
650 
651                 \textcolor{comment}{// current path point is inside the carrot distance range, goal carrot tries to escape!}
652                 \textcolor{keywordflow}{if} (lineardisterr < \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} && angleerr < 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_})
653                 \{
654                     ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardLocalPlanner] Finding initial carrot goal i=%d - in carrot Range"}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_});
655                     inCarrotRange = \textcolor{keyword}{true};
656                     \textcolor{comment}{// we are inside the goal range}
657                 \}
658                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inCarrotRange && (lineardisterr > \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} || angleerr > 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}))
659                 \{
660                     \textcolor{comment}{// we were inside the carrot range but not anymore, now we are just leaving. we want to
       continue forward (currentCarrotPoseIndex\_++)}
661                     \textcolor{comment}{// unless we go out of the carrot range}
662 
663                     \textcolor{comment}{// but we rollback last index increment (to go back inside the carrot goal scope) and
       start motion with that carrot goal we found}
664                     \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}--;
665                     \textcolor{keywordflow}{break};
666                 \}
667                 \textcolor{keywordflow}{else}
668                 \{
669                     ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardLocalPlanner] Finding initial carrot goal i=%d - carrot out of
       range, searching coincidence..."}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_});
670                 \}
671 
672                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}++;
673                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] setPlan: fw"} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_});
674             \}
675 
676             ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] setPlan: (found first carrot:"} << inCarrotRange << \textcolor{stringliteral}{")
       initial carrot point index: "} << \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} << \textcolor{stringliteral}{"/"} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size());
677 
678             \textcolor{keywordflow}{return} inCarrotRange;
679         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!generate\+Trajectory@{generate\+Trajectory}}
\index{generate\+Trajectory@{generate\+Trajectory}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{generate\+Trajectory()}{generateTrajectory()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::generate\+Trajectory (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3f \&}]{pos,  }\item[{const Eigen\+::\+Vector3f \&}]{vel,  }\item[{float}]{maxdist,  }\item[{float}]{maxangle,  }\item[{float}]{maxtime,  }\item[{float}]{dt,  }\item[{std\+::vector$<$ Eigen\+::\+Vector3f $>$ \&}]{outtraj }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 800 of file backward\+\_\+local\+\_\+planner.\+cpp.



References compute\+New\+Positions().



Referenced by compute\+Velocity\+Commands().


\begin{DoxyCode}
801         \{
802             \textcolor{comment}{//simulate the trajectory and check for collisions, updating costs along the way}
803             \textcolor{keywordtype}{bool} end = \textcolor{keyword}{false};
804             \textcolor{keywordtype}{float} time = 0;
805             Eigen::Vector3f currentpos = pos;
806             \textcolor{keywordtype}{int} i = 0;
807             \textcolor{keywordflow}{while} (!end)
808             \{
809                 \textcolor{comment}{//add the point to the trajectory so we can draw it later if we want}
810                 \textcolor{comment}{//traj.addPoint(pos[0], pos[1], pos[2]);}
811 
812                 \textcolor{comment}{// if (continued\_acceleration\_) \{}
813                 \textcolor{comment}{//   //calculate velocities}
814                 \textcolor{comment}{//   loop\_vel = computeNewVelocities(sample\_target\_vel, loop\_vel, limits\_->getAccLimits(),
       dt);}
815                 \textcolor{comment}{//   //ROS\_WARN\_NAMED("Generator", "Flag: %d, Loop\_Vel %f, %f, %f",
       continued\_acceleration\_, loop\_vel[0], loop\_vel[1], loop\_vel[2]);}
816                 \textcolor{comment}{// \}}
817 
818                 \textcolor{keyword}{auto} loop\_vel = vel;
819                 \textcolor{comment}{//update the position of the robot using the velocities passed in}
820                 \textcolor{keyword}{auto} newpos = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14}{computeNewPositions}(currentpos, loop\_vel, dt);
821 
822                 \textcolor{keyword}{auto} dx = newpos[0] - currentpos[0];
823                 \textcolor{keyword}{auto} dy = newpos[1] - currentpos[1];
824                 \textcolor{keywordtype}{float} dist, angledist;
825 
826                 \textcolor{comment}{//ROS\_INFO("traj point %d", i);}
827                 dist = sqrt(dx * dx + dy * dy);
828                 \textcolor{keywordflow}{if} (dist > maxdist)
829                 \{
830                     end = \textcolor{keyword}{true};
831                     \textcolor{comment}{//ROS\_INFO("dist break: %f", dist);}
832                 \}
833                 \textcolor{keywordflow}{else}
834                 \{
835                     \textcolor{comment}{// ouble from, double to}
836                     angledist = angles::shortest\_angular\_distance(currentpos[2], newpos[2]);
837                     \textcolor{keywordflow}{if} (angledist > maxanglediff)
838                     \{
839                         end = \textcolor{keyword}{true};
840                         \textcolor{comment}{//ROS\_INFO("angle dist break: %f", angledist);}
841                     \}
842                     \textcolor{keywordflow}{else}
843                     \{
844                         outtraj.push\_back(newpos);
845 
846                         time += dt;
847                         \textcolor{keywordflow}{if} (time > maxtime)
848                         \{
849                             end = \textcolor{keyword}{true};
850                             \textcolor{comment}{//ROS\_INFO("time break: %f", time);}
851                         \}
852 
853                         \textcolor{comment}{//ROS\_INFO("dist: %f, angledist: %f, time: %f", dist, angledist, time);}
854                     \}
855                 \}
856 
857                 currentpos = newpos;
858                 i++;
859             \} \textcolor{comment}{// end for simulation steps}
860         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae7659aa099ce5a329a9ef046dabcc599}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae7659aa099ce5a329a9ef046dabcc599}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!initialize@{initialize}}
\index{initialize@{initialize}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{initialize()}{initialize()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initialize (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{tf\+::\+Transform\+Listener $\ast$}]{tf,  }\item[{costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$}]{costmap\+\_\+ros }\end{DoxyParamCaption})}



Constructs the local planner. 


\begin{DoxyParams}{Parameters}
{\em name} & The name to give this instance of the local planner \\
\hline
{\em tf} & A pointer to a transform listener \\
\hline
{\em costmap\+\_\+ros} & The cost map to use for assigning costs to local plans\\
\hline
\end{DoxyParams}
\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}{initialize()} 

Definition at line 93 of file backward\+\_\+local\+\_\+planner.\+cpp.



References costmap\+Ros\+\_\+, and initialize().


\begin{DoxyCode}
94         \{
95             this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_} = costmap\_ros;
96             this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}{initialize}();
97         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae7659aa099ce5a329a9ef046dabcc599_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9a854ad7d93c5db2efda316358aa845c}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9a854ad7d93c5db2efda316358aa845c}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!initialize@{initialize}}
\index{initialize@{initialize}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{initialize()}{initialize()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initialize (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{tf2\+\_\+ros\+::\+Buffer $\ast$}]{tf,  }\item[{costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$}]{costmap\+Ros\+\_\+ }\end{DoxyParamCaption})}



Definition at line 34 of file backward\+\_\+local\+\_\+planner.\+cpp.



References costmap\+Ros\+\_\+, and initialize().


\begin{DoxyCode}
35         \{
36             this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_} = costmap\_ros;
37             this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}{initialize}();
38         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9a854ad7d93c5db2efda316358aa845c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!initialize@{initialize}}
\index{initialize@{initialize}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{initialize()}{initialize()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initialize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 40 of file backward\+\_\+local\+\_\+planner.\+cpp.



References carrot\+\_\+angular\+\_\+distance\+\_\+, carrot\+\_\+distance\+\_\+, current\+Carrot\+Pose\+Index\+\_\+, enable\+\_\+obstacle\+\_\+checking\+\_\+, f, goal\+Marker\+Publisher\+\_\+, k\+\_\+alpha\+\_\+, k\+\_\+betta\+\_\+, k\+\_\+rho\+\_\+, linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+, max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+, max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+, param\+Server\+\_\+, reconfig\+C\+B(), straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+, waiting\+Timeout\+\_\+, xy\+\_\+goal\+\_\+tolerance\+\_\+, and yaw\+\_\+goal\+\_\+tolerance\+\_\+.



Referenced by initialize().


\begin{DoxyCode}
41         \{
42             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_} = -1.0;
43             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\_alpha\_} = 0.5;
44             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_} = -1.0; \textcolor{comment}{// set to zero means that orientation is not important}
45             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_} = 0.4;
46             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\_mode\_rho\_error\_threshold\_} = 0.02;
47 
48             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}{f} = boost::bind(&\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}{BackwardLocalPlanner::reconfigCB}, \textcolor{keyword}{this}, \_1, 
      \_2);
49             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}{paramServer\_}.setCallback(\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}{f});
50             this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} = 0;
51 
52             ros::NodeHandle nh(\textcolor{stringliteral}{"~/BackwardLocalPlanner"});
53             nh.param(\textcolor{stringliteral}{"pure\_spinning\_straight\_line\_mode"}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straightBackwardsAndPureSpinningMode\_}, \textcolor{keyword}{true});
54             nh.param(\textcolor{stringliteral}{"yaw\_goal\_tolerance"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}, 0.05);
55             nh.param(\textcolor{stringliteral}{"xy\_goal\_tolerance"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}, 0.10);
56             nh.param(\textcolor{stringliteral}{"k\_rho"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_});
57             nh.param(\textcolor{stringliteral}{"k\_betta"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_});
58             nh.param(\textcolor{stringliteral}{"linear\_mode\_rho\_error\_threshold"}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\_mode\_rho\_error\_threshold\_}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\_mode\_rho\_error\_threshold\_});
59 
60             nh.param(\textcolor{stringliteral}{"carrot\_distance"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_});
61             nh.param(\textcolor{stringliteral}{"carrot\_angular\_distance"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_});
62             nh.param(\textcolor{stringliteral}{"enable\_obstacle\_checking"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\_obstacle\_checking\_}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\_obstacle\_checking\_});
63 
64             nh.param(\textcolor{stringliteral}{"max\_linear\_x\_speed"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_}, 1.0);
65             nh.param(\textcolor{stringliteral}{"max\_angular\_z\_speed"}, \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_}, 2.0);
66 
67             \textcolor{comment}{// we have to do this, for example for the case we are refining the final orientation.}
68             \textcolor{comment}{// se check at some point if the carrot is reached in "goal linear distance", then we go into}
69             \textcolor{comment}{// some automatic pure-spinning mode where we only update the orientation}
70             \textcolor{comment}{// This means that if we reach the carrot with precission we go into pure spinning mode but we
       cannot}
71             \textcolor{comment}{// leave that point (maybe this could be improved)}
72             \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_} < 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_})
73             \{
74                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] carrot\_angular\_distance ("} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_} << \textcolor{stringliteral}{") cannot be lower than yaw\_goal\_tolerance ("} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_} << \textcolor{stringliteral}{") setting carrot\_angular\_distance = "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_});
75                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_} = 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_};
76             \}
77 
78             \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} < \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_})
79             \{
80                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] carrot\_linear\_distance ("} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} << \textcolor{stringliteral}{") cannot be lower than xy\_goal\_tolerance\_ ("} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_} << \textcolor{stringliteral}{") setting carrot\_angular\_distance = "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_});
81                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_};
82             \}
83 
84             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}{goalMarkerPublisher\_} = nh.advertise<visualization\_msgs::MarkerArray>(\textcolor{stringliteral}{"
      goal\_marker"}, 1);
85             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}{waitingTimeout\_} = ros::Duration(10);
86         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06a99e609ed31b97f765351dd6827722}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06a99e609ed31b97f765351dd6827722}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!is\+Goal\+Reached@{is\+Goal\+Reached}}
\index{is\+Goal\+Reached@{is\+Goal\+Reached}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{is\+Goal\+Reached()}{isGoalReached()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::is\+Goal\+Reached (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Check if the goal pose has been achieved by the local planner. 

\begin{DoxyReturn}{Returns}
True if achieved, false otherwise
\end{DoxyReturn}
\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06a99e609ed31b97f765351dd6827722}{is\+Goal\+Reached()} 

Definition at line 627 of file backward\+\_\+local\+\_\+planner.\+cpp.



References goal\+Reached\+\_\+.


\begin{DoxyCode}
628         \{
629             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] isGoalReached call: "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goalReached\_});
630             \textcolor{keywordflow}{return} \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goalReached\_};
631         \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!publish\+Goal\+Marker@{publish\+Goal\+Marker}}
\index{publish\+Goal\+Marker@{publish\+Goal\+Marker}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{publish\+Goal\+Marker()}{publishGoalMarker()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::publish\+Goal\+Marker (\begin{DoxyParamCaption}\item[{double}]{x,  }\item[{double}]{y,  }\item[{double}]{phi }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}{publish\+Goal\+Marker()} 

Definition at line 876 of file backward\+\_\+local\+\_\+planner.\+cpp.



References costmap\+Ros\+\_\+, and goal\+Marker\+Publisher\+\_\+.



Referenced by compute\+Velocity\+Commands().


\begin{DoxyCode}
877         \{
878             visualization\_msgs::Marker marker;
879             marker.header.frame\_id = this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}->getGlobalFrameID();
880             marker.header.stamp = ros::Time::now();
881 
882             marker.ns = \textcolor{stringliteral}{"my\_namespace2"};
883             marker.id = 0;
884             marker.type = visualization\_msgs::Marker::ARROW;
885             marker.action = visualization\_msgs::Marker::ADD;
886             marker.pose.orientation.w = 1;
887 
888             marker.scale.x = 0.05;
889             marker.scale.y = 0.15;
890             marker.scale.z = 0.05;
891             marker.color.a = 1.0;
892 
893             marker.color.r = 1;
894             marker.color.g = 0;
895             marker.color.b = 0;
896 
897             geometry\_msgs::Point start, end;
898             start.x = x;
899             start.y = y;
900 
901             end.x = x + 0.5 * cos(phi);
902             end.y = y + 0.5 * sin(phi);
903 
904             marker.points.push\_back(start);
905             marker.points.push\_back(end);
906 
907             visualization\_msgs::MarkerArray ma;
908             ma.markers.push\_back(marker);
909 
910             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}{goalMarkerPublisher\_}.publish(ma);
911         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!reconfig\+CB@{reconfig\+CB}}
\index{reconfig\+CB@{reconfig\+CB}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{reconfig\+C\+B()}{reconfigCB()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::reconfig\+CB (\begin{DoxyParamCaption}\item[{\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config \&}]{config,  }\item[{uint32\+\_\+t}]{level }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}{reconfig\+C\+B()} 

Definition at line 590 of file backward\+\_\+local\+\_\+planner.\+cpp.



References carrot\+\_\+angular\+\_\+distance\+\_\+, carrot\+\_\+distance\+\_\+, enable\+\_\+obstacle\+\_\+checking\+\_\+, k\+\_\+alpha\+\_\+, k\+\_\+betta\+\_\+, k\+\_\+rho\+\_\+, straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+, xy\+\_\+goal\+\_\+tolerance\+\_\+, and yaw\+\_\+goal\+\_\+tolerance\+\_\+.



Referenced by initialize().


\begin{DoxyCode}
591         \{
592             ROS\_INFO(\textcolor{stringliteral}{"[BackwardLocalPlanner] reconfigure Request"});
593             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\_alpha\_} = config.k\_alpha;
594             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_} = config.k\_betta;
595             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_} = config.k\_rho;
596             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\_obstacle\_checking\_} = config.enable\_obstacle\_checking;
597 
598             \textcolor{comment}{//alpha\_offset\_ = config.alpha\_offset;}
599             \textcolor{comment}{//betta\_offset\_ = config.betta\_offset;}
600 
601             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} = config.carrot\_distance;
602             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_} = config.carrot\_angular\_distance;
603             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_} = config.xy\_goal\_tolerance;
604             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_} = config.yaw\_goal\_tolerance;
605             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straightBackwardsAndPureSpinningMode\_} = config.
      pure\_spinning\_straight\_line\_mode;
606 
607             \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_} < 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_})
608             \{
609                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] carrot\_angular\_distance ("} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_} << \textcolor{stringliteral}{") cannot be lower than yaw\_goal\_tolerance ("} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_} << \textcolor{stringliteral}{") setting carrot\_angular\_distance = "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_});
610                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_} = 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_};
611                 config.carrot\_angular\_distance = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_};
612             \}
613 
614             \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} < \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_})
615             \{
616                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] carrot\_linear\_distance ("} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} << \textcolor{stringliteral}{") cannot be lower than xy\_goal\_tolerance\_ ("} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_} << \textcolor{stringliteral}{") setting carrot\_angular\_distance = "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_});
617                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_};
618                 config.carrot\_distance = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_};
619             \}
620         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!resample\+Precise\+Plan@{resample\+Precise\+Plan}}
\index{resample\+Precise\+Plan@{resample\+Precise\+Plan}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{resample\+Precise\+Plan()}{resamplePrecisePlan()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::resample\+Precise\+Plan (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 681 of file backward\+\_\+local\+\_\+planner.\+cpp.



References backwards\+Plan\+Path\+\_\+, carrot\+\_\+angular\+\_\+distance\+\_\+, and carrot\+\_\+distance\+\_\+.



Referenced by set\+Plan().


\begin{DoxyCode}
682         \{
683             \textcolor{comment}{// this algorithm is really important to have a precise carrot (linear or angular)}
684             \textcolor{comment}{// and not being considered as a divergence from the path}
685 
686             ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardLocalPlanner] resample precise"});
687             \textcolor{keywordflow}{if}(\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() <=1)
688             \{
689                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] resample precise skipping, size: "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size());
690                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
691             \}
692 
693             \textcolor{keywordtype}{int} counter = 0;
694             \textcolor{keywordtype}{double} maxallowedAngularError = 0.45 * this->
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}; \textcolor{comment}{// nyquist}
695             \textcolor{keywordtype}{double} maxallowedLinearError = 0.45 * this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_};          \textcolor{comment}{//
       nyquist}
696 
697             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() - 1; i++)
698             \{
699                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] resample precise, check: "} << i);
700                 \textcolor{keyword}{auto} &currpose = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}[i];
701                 \textcolor{keyword}{auto} &nextpose = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}[i + 1];
702 
703                 tf::Quaternion qCurrent, qNext;
704                 tf::quaternionMsgToTF(currpose.pose.orientation, qCurrent);
705                 tf::quaternionMsgToTF(nextpose.pose.orientation, qNext);
706 
707                 \textcolor{keywordtype}{double} dx = nextpose.pose.position.x - currpose.pose.position.x;
708                 \textcolor{keywordtype}{double} dy = nextpose.pose.position.y - currpose.pose.position.y;
709                 \textcolor{keywordtype}{double} dist = sqrt(dx * dx + dy * dy);
710 
711                 \textcolor{keywordtype}{bool} resample = \textcolor{keyword}{false};
712                 \textcolor{keywordflow}{if} (dist > maxallowedLinearError)
713                 \{
714                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] resampling point, linear distance:"} << dist <<
       \textcolor{stringliteral}{"("} << maxallowedLinearError << \textcolor{stringliteral}{")"} << i);
715                     resample = \textcolor{keyword}{true};
716                 \}
717                 \textcolor{keywordflow}{else}
718                 \{
719                     \textcolor{keywordtype}{double} currentAngle = tf::getYaw(qCurrent);
720                     \textcolor{keywordtype}{double} nextAngle = tf::getYaw(qNext);
721 
722                     \textcolor{keywordtype}{double} angularError = fabs(angles::shortest\_angular\_distance(currentAngle, nextAngle));
723                     \textcolor{keywordflow}{if} (angularError > maxallowedAngularError)
724                     \{
725                         resample = \textcolor{keyword}{true};
726                         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] resampling point, angular distance:"} << 
      angularError << \textcolor{stringliteral}{"("} << maxallowedAngularError << \textcolor{stringliteral}{")"} << i);
727                     \}
728                 \}
729 
730                 \textcolor{keywordflow}{if} (resample)
731                 \{
732                     geometry\_msgs::PoseStamped pintermediate;
733                     \textcolor{keyword}{auto} duration = nextpose.header.stamp - currpose.header.stamp;
734                     pintermediate.header.frame\_id = currpose.header.frame\_id;
735                     pintermediate.header.stamp = currpose.header.stamp + duration *0.5;
736 
737                     pintermediate.pose.position.x = 0.5 * (currpose.pose.position.x + nextpose.pose.
      position.x);
738                     pintermediate.pose.position.y = 0.5 * (currpose.pose.position.y + nextpose.pose.
      position.y);
739                     pintermediate.pose.position.z = 0.5 * (currpose.pose.position.z + nextpose.pose.
      position.z);
740                     tf::Quaternion intermediateQuat = tf::slerp(qCurrent, qNext, 0.5);
741                     tf::quaternionTFToMsg(intermediateQuat, pintermediate.pose.orientation);
742 
743                     this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.insert(this->
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.begin() + i + 1, pintermediate);
744 
745                     \textcolor{comment}{// retry this point}
746                     i--;
747                     counter++;
748                 \}
749             \}
750 
751             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] End resampling. resampled:"} << counter << \textcolor{stringliteral}{" new
       inserted poses during precise resmapling."});
752             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
753         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!reset\+Divergence\+Detection@{reset\+Divergence\+Detection}}
\index{reset\+Divergence\+Detection@{reset\+Divergence\+Detection}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{reset\+Divergence\+Detection()}{resetDivergenceDetection()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::reset\+Divergence\+Detection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 174 of file backward\+\_\+local\+\_\+planner.\+cpp.



References divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+.



Referenced by set\+Plan(), and update\+Carrot\+Goal().


\begin{DoxyCode}
175         \{
176             \textcolor{comment}{// this function should be called always the carrot is updated}
177             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_} = 
      std::numeric\_limits<double>::max();
178             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
179         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!set\+Plan@{set\+Plan}}
\index{set\+Plan@{set\+Plan}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{set\+Plan()}{setPlan()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::set\+Plan (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{plan }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Set the plan that the local planner is following. 


\begin{DoxyParams}{Parameters}
{\em plan} & The plan to pass to the local planner \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the plan was updated successfully, false otherwise
\end{DoxyReturn}
\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4}{set\+Plan()} 

Definition at line 760 of file backward\+\_\+local\+\_\+planner.\+cpp.



References backwards\+Plan\+Path\+\_\+, costmap\+Ros\+\_\+, current\+Carrot\+Pose\+Index\+\_\+, divergence\+Detection\+Update(), find\+Initial\+Carrot\+Goal(), goal\+Reached\+\_\+, in\+Goal\+Pure\+Spinning\+State\+\_\+, initial\+Pure\+Spinning\+Stage\+\_\+, cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::optional\+Robot\+Pose(), resample\+Precise\+Plan(), and reset\+Divergence\+Detection().


\begin{DoxyCode}
761         \{
762             ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[BackwardLocalPlanner] setPlan: new global plan received ("} << plan.size() << \textcolor{stringliteral}{
      ")"});
763             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0e2b0589fce0bb228eb87751528e822}{initialPureSpinningStage\_} = \textcolor{keyword}{true};
764             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goalReached\_} = \textcolor{keyword}{false};
765             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_} = plan;
766             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_} =\textcolor{keyword}{false};
767 
768             \textcolor{comment}{// find again the new carrot goal, from the destiny direction}
769             tf::Stamped<tf::Pose> tfpose = \hyperlink{namespacecl__move__base__z_1_1backward__local__planner_afd5bb2a0d144f7b89f4215fbcb1fbe69}{optionalRobotPose}(
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_});
770 
771             geometry\_msgs::PoseStamped posestamped;
772             tf::poseStampedTFToMsg(tfpose,posestamped);
773             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.insert(\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.begin(), 
      posestamped);
774 
775             this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed}{resamplePrecisePlan}();
776 
777             \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} = 0;
778             this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}{resetDivergenceDetection}();
779 
780             \textcolor{keywordflow}{if} (plan.size() == 0)
781             \{
782                 ROS\_WARN(\textcolor{stringliteral}{"[BackwardLocalPlanner] received plan without any pose"});
783                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
784             \}
785 
786             \textcolor{keywordtype}{bool} foundInitialCarrotGoal = this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1}{findInitialCarrotGoal}(tfpose);
787             \textcolor{keywordflow}{if} (!foundInitialCarrotGoal)
788             \{
789                 ROS\_ERROR(\textcolor{stringliteral}{"[BackwardLocalPlanner] new plan rejected. The initial point in the global path
       is too much far away from the current state (according to carrot\_distance parameter)"});
790                 \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \textcolor{comment}{// in this case, the new plan broke the current execution}
791             \}
792             \textcolor{keywordflow}{else}
793             \{
794                 this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b}{divergenceDetectionUpdate}(tfpose);
795                 \textcolor{comment}{// SANDARD AND PREFERED CASE ON NEW PLAN}
796                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
797             \}
798         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!straight\+Backwards\+And\+Pure\+Spin\+Cmd@{straight\+Backwards\+And\+Pure\+Spin\+Cmd}}
\index{straight\+Backwards\+And\+Pure\+Spin\+Cmd@{straight\+Backwards\+And\+Pure\+Spin\+Cmd}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}{straightBackwardsAndPureSpinCmd()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::straight\+Backwards\+And\+Pure\+Spin\+Cmd (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose,  }\item[{double}]{vetta,  }\item[{double}]{gamma,  }\item[{double}]{alpha\+\_\+error,  }\item[{double}]{betta\+\_\+error,  }\item[{double}]{rho\+\_\+error,  }\item[{geometry\+\_\+msgs\+::\+Twist \&}]{cmd\+\_\+vel }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

pure\+Spinning\+Cmd() 

Definition at line 276 of file backward\+\_\+local\+\_\+planner.\+cpp.



References k\+\_\+alpha\+\_\+, k\+\_\+betta\+\_\+, k\+\_\+rho\+\_\+, linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+, cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::optional\+Robot\+Pose(), and yaw\+\_\+goal\+\_\+tolerance\+\_\+.



Referenced by compute\+Velocity\+Commands().


\begin{DoxyCode}
277         \{
278             \textcolor{keywordflow}{if} (rho\_error > \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\_mode\_rho\_error\_threshold\_}) \textcolor{comment}{// works in
       straight motion mode}
279             \{
280                 vetta = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_} * rho\_error;
281                 gamma = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\_alpha\_} * alpha\_error;
282             \}
283             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fabs(betta\_error) >= this->\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}) \textcolor{comment}{// works in pure
       spinning mode}
284             \{
285                 vetta = 0;
286                 gamma = \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_} * betta\_error;
287             \}
288             \textcolor{comment}{/*}
289 \textcolor{comment}{            // THIS IS NOT TRUE, IF THE CARROT REACHES THE GOAL DOES NOT MEAN THE ROBOT IS}
290 \textcolor{comment}{            // IN THE CORRECT POSITION}
291 \textcolor{comment}{            else if (currentCarrotPoseIndex\_ >= backwardsPlanPath\_.size() - 1)}
292 \textcolor{comment}{            \{}
293 \textcolor{comment}{                vetta = 0;}
294 \textcolor{comment}{                gamma = 0;}
295 \textcolor{comment}{                goalReached\_ = true;}
296 \textcolor{comment}{                backwardsPlanPath\_.clear();}
297 \textcolor{comment}{}
298 \textcolor{comment}{                ROS\_INFO\_STREAM("BACKWARD LOCAL PLANNER END: Goal Reached. Stop action [rhoerror: " <<
       rho\_error<<"]");}
299 \textcolor{comment}{            \}*/}
300 
301             cmd\_vel.linear.x = vetta;
302             cmd\_vel.angular.z = gamma;
303         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!update\+Carrot\+Goal@{update\+Carrot\+Goal}}
\index{update\+Carrot\+Goal@{update\+Carrot\+Goal}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{update\+Carrot\+Goal()}{updateCarrotGoal()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::update\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}{update\+Carrot\+Goal()} 

Definition at line 131 of file backward\+\_\+local\+\_\+planner.\+cpp.



References backwards\+Plan\+Path\+\_\+, carrot\+\_\+angular\+\_\+distance\+\_\+, carrot\+\_\+distance\+\_\+, compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal(), current\+Carrot\+Pose\+Index\+\_\+, reset\+Divergence\+Detection(), and xy\+\_\+goal\+\_\+tolerance\+\_\+.



Referenced by compute\+Velocity\+Commands().


\begin{DoxyCode}
132         \{
133             ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardsLocalPlanner] --- Computing carrot pose ---"});
134             \textcolor{keywordtype}{double} disterr = 0, angleerr = 0;
135             \textcolor{comment}{// iterate the point from the current position and backward until reaching a new goal point in
       the path}
136             \textcolor{comment}{// this algorithm among other advantages has that skip the looping with an eager global planner}
137             \textcolor{comment}{// that recalls the same plan (the already performed part of the plan in the current pose is
       skipped)}
138             \textcolor{keywordflow}{while} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} < 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size())
139             \{
140                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}
      (tfpose, disterr, angleerr);
141 
142                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardsLocalPlanner] update carrot goal: Current index: "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} << \textcolor{stringliteral}{"/"} << \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size());
143                 ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardsLocalPlanner] update carrot goal: linear error %lf, angular error: %lf
      "}, disterr, angleerr);
144 
145                 \textcolor{comment}{// target pose found, goal carrot tries to escape!}
146                 \textcolor{keywordflow}{if} (disterr < \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_} && angleerr < 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_})
147                 \{
148                     \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}++;
149                     \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}{resetDivergenceDetection}();
150                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[BackwardsLocalPlanner] fw "} << 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} << \textcolor{stringliteral}{"/"} << \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size());
151                 \}
152                 \textcolor{keywordflow}{else}
153                 \{
154                     \textcolor{keywordflow}{break};
155                 \}
156             \}
157             \textcolor{comment}{//ROS\_DEBUG("[BackwardsLocalPlanner] computing angular error");}
158             \textcolor{keywordflow}{if} (\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} >= 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() && \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() > 0)
159             \{
160                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_} = 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}.size() - 1;
161                 \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}
      (tfpose, disterr, angleerr);
162             \}
163 
164             ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardsLocalPlanner] Current index carrot goal: %d"}, 
      \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_});
165             ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardsLocalPlanner] Update carrot goal: linear error  %lf, angular error: %lf"}, 
      disterr, angleerr);
166             \textcolor{keywordtype}{bool} carrotInGoalLinear = disterr < \hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_};
167             ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardsLocalPlanner] carrot in goal radius: %d"}, carrotInGoalLinear);
168 
169             ROS\_DEBUG(\textcolor{stringliteral}{"[BackwardsLocalPlanner] --- Computing carrot pose ---"});
170 
171             \textcolor{keywordflow}{return} carrotInGoalLinear;
172         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a09765b08935d9355447c44776e1b1c3a}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a09765b08935d9355447c44776e1b1c3a}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!alpha\+\_\+offset\+\_\+@{alpha\+\_\+offset\+\_\+}}
\index{alpha\+\_\+offset\+\_\+@{alpha\+\_\+offset\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{alpha\+\_\+offset\+\_\+}{alpha\_offset\_}}
{\footnotesize\ttfamily const double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::alpha\+\_\+offset\+\_\+ = M\+\_\+\+PI\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 113 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!backwards\+Plan\+Path\+\_\+@{backwards\+Plan\+Path\+\_\+}}
\index{backwards\+Plan\+Path\+\_\+@{backwards\+Plan\+Path\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{backwards\+Plan\+Path\+\_\+}{backwardsPlanPath\_}}
{\footnotesize\ttfamily std\+::vector$<$geometry\+\_\+msgs\+::\+Pose\+Stamped$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::backwards\+Plan\+Path\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 96 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by check\+Carrot\+Half\+Plain\+Constraint(), check\+Current\+Pose\+In\+Goal\+Range(), compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal(), compute\+Velocity\+Commands(), find\+Initial\+Carrot\+Goal(), resample\+Precise\+Plan(), set\+Plan(), and update\+Carrot\+Goal().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a07e5f16f6951cca1e6d3483f345d0bb1}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a07e5f16f6951cca1e6d3483f345d0bb1}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!betta\+\_\+offset\+\_\+@{betta\+\_\+offset\+\_\+}}
\index{betta\+\_\+offset\+\_\+@{betta\+\_\+offset\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{betta\+\_\+offset\+\_\+}{betta\_offset\_}}
{\footnotesize\ttfamily const double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::betta\+\_\+offset\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 114 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!carrot\+\_\+angular\+\_\+distance\+\_\+@{carrot\+\_\+angular\+\_\+distance\+\_\+}}
\index{carrot\+\_\+angular\+\_\+distance\+\_\+@{carrot\+\_\+angular\+\_\+distance\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{carrot\+\_\+angular\+\_\+distance\+\_\+}{carrot\_angular\_distance\_}}
{\footnotesize\ttfamily \hyperlink{backward__local__planner_8h_a640effbe91ae9b25d698a883a9e80d96}{rad} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::carrot\+\_\+angular\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 120 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by find\+Initial\+Carrot\+Goal(), initialize(), reconfig\+C\+B(), resample\+Precise\+Plan(), and update\+Carrot\+Goal().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!carrot\+\_\+distance\+\_\+@{carrot\+\_\+distance\+\_\+}}
\index{carrot\+\_\+distance\+\_\+@{carrot\+\_\+distance\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{carrot\+\_\+distance\+\_\+}{carrot\_distance\_}}
{\footnotesize\ttfamily \hyperlink{backward__local__planner_8h_ab6024a26b088c11b8a5218a469ae5a57}{meter} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::carrot\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 119 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by find\+Initial\+Carrot\+Goal(), initialize(), reconfig\+C\+B(), resample\+Precise\+Plan(), and update\+Carrot\+Goal().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!costmap\+Ros\+\_\+@{costmap\+Ros\+\_\+}}
\index{costmap\+Ros\+\_\+@{costmap\+Ros\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{costmap\+Ros\+\_\+}{costmapRos\_}}
{\footnotesize\ttfamily costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS$\ast$ cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::costmap\+Ros\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 97 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), initialize(), publish\+Goal\+Marker(), and set\+Plan().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!current\+Carrot\+Pose\+Index\+\_\+@{current\+Carrot\+Pose\+Index\+\_\+}}
\index{current\+Carrot\+Pose\+Index\+\_\+@{current\+Carrot\+Pose\+Index\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{current\+Carrot\+Pose\+Index\+\_\+}{currentCarrotPoseIndex\_}}
{\footnotesize\ttfamily int cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::current\+Carrot\+Pose\+Index\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 127 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by check\+Carrot\+Half\+Plain\+Constraint(), compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal(), compute\+Velocity\+Commands(), find\+Initial\+Carrot\+Goal(), initialize(), set\+Plan(), and update\+Carrot\+Goal().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+@{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}}
\index{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+@{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}{divergenceDetectionLastCarrotLinearDistance\_}}
{\footnotesize\ttfamily \hyperlink{backward__local__planner_8h_ab6024a26b088c11b8a5218a469ae5a57}{meter} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 121 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by divergence\+Detection\+Update(), and reset\+Divergence\+Detection().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!enable\+\_\+obstacle\+\_\+checking\+\_\+@{enable\+\_\+obstacle\+\_\+checking\+\_\+}}
\index{enable\+\_\+obstacle\+\_\+checking\+\_\+@{enable\+\_\+obstacle\+\_\+checking\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{enable\+\_\+obstacle\+\_\+checking\+\_\+}{enable\_obstacle\_checking\_}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::enable\+\_\+obstacle\+\_\+checking\+\_\+ = true\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 110 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), initialize(), and reconfig\+C\+B().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!f@{f}}
\index{f@{f}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{f}{f}}
{\footnotesize\ttfamily \hyperlink{strikes__back_2servers_2led__action__server_2src_2led__action__server__node_8cpp_a2036ae39d23f8e14a2cc8ddcd46dea5a}{dynamic\+\_\+reconfigure\+::\+Server}$<$\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config$>$\+::Callback\+Type cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::f\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 94 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by initialize().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!goal\+Marker\+Publisher\+\_\+@{goal\+Marker\+Publisher\+\_\+}}
\index{goal\+Marker\+Publisher\+\_\+@{goal\+Marker\+Publisher\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{goal\+Marker\+Publisher\+\_\+}{goalMarkerPublisher\_}}
{\footnotesize\ttfamily ros\+::\+Publisher cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::goal\+Marker\+Publisher\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 99 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by initialize(), and publish\+Goal\+Marker().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!goal\+Reached\+\_\+@{goal\+Reached\+\_\+}}
\index{goal\+Reached\+\_\+@{goal\+Reached\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{goal\+Reached\+\_\+}{goalReached\_}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::goal\+Reached\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 107 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), is\+Goal\+Reached(), and set\+Plan().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!in\+Goal\+Pure\+Spinning\+State\+\_\+@{in\+Goal\+Pure\+Spinning\+State\+\_\+}}
\index{in\+Goal\+Pure\+Spinning\+State\+\_\+@{in\+Goal\+Pure\+Spinning\+State\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{in\+Goal\+Pure\+Spinning\+State\+\_\+}{inGoalPureSpinningState\_}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::in\+Goal\+Pure\+Spinning\+State\+\_\+ = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 111 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), and set\+Plan().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0e2b0589fce0bb228eb87751528e822}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0e2b0589fce0bb228eb87751528e822}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!initial\+Pure\+Spinning\+Stage\+\_\+@{initial\+Pure\+Spinning\+Stage\+\_\+}}
\index{initial\+Pure\+Spinning\+Stage\+\_\+@{initial\+Pure\+Spinning\+Stage\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{initial\+Pure\+Spinning\+Stage\+\_\+}{initialPureSpinningStage\_}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initial\+Pure\+Spinning\+Stage\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 108 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by set\+Plan().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!k\+\_\+alpha\+\_\+@{k\+\_\+alpha\+\_\+}}
\index{k\+\_\+alpha\+\_\+@{k\+\_\+alpha\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{k\+\_\+alpha\+\_\+}{k\_alpha\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+alpha\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 102 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), initialize(), reconfig\+C\+B(), and straight\+Backwards\+And\+Pure\+Spin\+Cmd().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!k\+\_\+betta\+\_\+@{k\+\_\+betta\+\_\+}}
\index{k\+\_\+betta\+\_\+@{k\+\_\+betta\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{k\+\_\+betta\+\_\+}{k\_betta\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+betta\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 103 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), initialize(), reconfig\+C\+B(), and straight\+Backwards\+And\+Pure\+Spin\+Cmd().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!k\+\_\+rho\+\_\+@{k\+\_\+rho\+\_\+}}
\index{k\+\_\+rho\+\_\+@{k\+\_\+rho\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{k\+\_\+rho\+\_\+}{k\_rho\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+rho\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 101 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), initialize(), reconfig\+C\+B(), and straight\+Backwards\+And\+Pure\+Spin\+Cmd().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+@{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}}
\index{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+@{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}{linear\_mode\_rho\_error\_threshold\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 105 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by initialize(), and straight\+Backwards\+And\+Pure\+Spin\+Cmd().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+@{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}}
\index{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+@{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}{max\_angular\_z\_speed\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 124 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), and initialize().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+@{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}}
\index{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+@{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}{max\_linear\_x\_speed\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 123 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), and initialize().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!param\+Server\+\_\+@{param\+Server\+\_\+}}
\index{param\+Server\+\_\+@{param\+Server\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{param\+Server\+\_\+}{paramServer\_}}
{\footnotesize\ttfamily \hyperlink{strikes__back_2servers_2led__action__server_2src_2led__action__server__node_8cpp_a2036ae39d23f8e14a2cc8ddcd46dea5a}{dynamic\+\_\+reconfigure\+::\+Server}$<$\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::param\+Server\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 93 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by initialize().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a957d163366cfeaf20d5534a7208fc326}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a957d163366cfeaf20d5534a7208fc326}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+@{pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+}}
\index{pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+@{pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+}{pure\_spinning\_allowed\_betta\_error\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 104 of file backward\+\_\+local\+\_\+planner.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+@{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}}
\index{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+@{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}{straightBackwardsAndPureSpinningMode\_}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+ = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 109 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), initialize(), and reconfig\+C\+B().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!waiting\+\_\+@{waiting\+\_\+}}
\index{waiting\+\_\+@{waiting\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{waiting\+\_\+}{waiting\_}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 133 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!waiting\+Stamp\+\_\+@{waiting\+Stamp\+\_\+}}
\index{waiting\+Stamp\+\_\+@{waiting\+Stamp\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{waiting\+Stamp\+\_\+}{waitingStamp\_}}
{\footnotesize\ttfamily ros\+::\+Time cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+Stamp\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 135 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!waiting\+Timeout\+\_\+@{waiting\+Timeout\+\_\+}}
\index{waiting\+Timeout\+\_\+@{waiting\+Timeout\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{waiting\+Timeout\+\_\+}{waitingTimeout\_}}
{\footnotesize\ttfamily ros\+::\+Duration cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+Timeout\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 134 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by compute\+Velocity\+Commands(), and initialize().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!xy\+\_\+goal\+\_\+tolerance\+\_\+@{xy\+\_\+goal\+\_\+tolerance\+\_\+}}
\index{xy\+\_\+goal\+\_\+tolerance\+\_\+@{xy\+\_\+goal\+\_\+tolerance\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{xy\+\_\+goal\+\_\+tolerance\+\_\+}{xy\_goal\_tolerance\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::xy\+\_\+goal\+\_\+tolerance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 117 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by check\+Current\+Pose\+In\+Goal\+Range(), compute\+Velocity\+Commands(), initialize(), reconfig\+C\+B(), and update\+Carrot\+Goal().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}!yaw\+\_\+goal\+\_\+tolerance\+\_\+@{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}
\index{yaw\+\_\+goal\+\_\+tolerance\+\_\+@{yaw\+\_\+goal\+\_\+tolerance\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner}}
\subsubsection{\texorpdfstring{yaw\+\_\+goal\+\_\+tolerance\+\_\+}{yaw\_goal\_tolerance\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::yaw\+\_\+goal\+\_\+tolerance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 116 of file backward\+\_\+local\+\_\+planner.\+h.



Referenced by check\+Current\+Pose\+In\+Goal\+Range(), initialize(), reconfig\+C\+B(), and straight\+Backwards\+And\+Pure\+Spin\+Cmd().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/backward\+\_\+local\+\_\+planner/include/backward\+\_\+local\+\_\+planner/\hyperlink{backward__local__planner_8h}{backward\+\_\+local\+\_\+planner.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/backward\+\_\+local\+\_\+planner/src/\hyperlink{backward__local__planner_8cpp}{backward\+\_\+local\+\_\+planner.\+cpp}\end{DoxyCompactItemize}
