\hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion}{}\section{cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Circular\+Pouring\+Motion Class Reference}
\label{classcl__move__group__interface_1_1CbCircularPouringMotion}\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}


{\ttfamily \#include $<$cb\+\_\+pouring\+\_\+motion.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Circular\+Pouring\+Motion\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__move__group__interface_1_1CbCircularPouringMotion__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Circular\+Pouring\+Motion\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbCircularPouringMotion__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4cd0be54e68f5c25d837064a2369f1a1}{Cb\+Circular\+Pouring\+Motion} (std\+::string tip\+Link=\char`\"{}\char`\"{})
\item 
\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a1cc07fa14aa37639cf08bfc783a6a91f}{Cb\+Circular\+Pouring\+Motion} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&plane\+Pivot\+Pose, double delta\+Height, std\+::string tip\+Link=\char`\"{}\char`\"{})
\item 
\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a6ee291bffe6f492730db93e20be240d1}{Cb\+Circular\+Pouring\+Motion} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&plane\+Pivot\+Pose, const geometry\+\_\+msgs\+::\+Pose \&relative\+Initial\+Pose, double delta\+Height, std\+::string tip\+Link=\char`\"{}\char`\"{})
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344}{generate\+Trajectory} () override
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322}{create\+Markers} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
boost\+::optional$<$ double $>$ \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7f69b3f95281fc14902117d637b59972}{angular\+Speed\+\_\+rad\+\_\+s\+\_\+}
\item 
boost\+::optional$<$ double $>$ \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}{linear\+Speed\+\_\+m\+\_\+s\+\_\+}
\item 
boost\+::optional$<$ geometry\+\_\+msgs\+::\+Pose $>$ \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relative\+Initial\+Pose\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
geometry\+\_\+msgs\+::\+Pose\+Stamped \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivot\+Pose\+\_\+}
\item 
geometry\+\_\+msgs\+::\+Pose\+Stamped \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a23f3e511fbb975b090aa96873f18700a}{target\+Pose\+\_\+}
\item 
double \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{delta\+Height\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4986b396e0ba318a0046feea3f6eede6}{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 14 of file cb\+\_\+pouring\+\_\+motion.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a4cd0be54e68f5c25d837064a2369f1a1}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a4cd0be54e68f5c25d837064a2369f1a1}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!Cb\+Circular\+Pouring\+Motion@{Cb\+Circular\+Pouring\+Motion}}
\index{Cb\+Circular\+Pouring\+Motion@{Cb\+Circular\+Pouring\+Motion}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{Cb\+Circular\+Pouring\+Motion()}{CbCircularPouringMotion()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::\+Cb\+Circular\+Pouring\+Motion (\begin{DoxyParamCaption}\item[{std\+::string}]{tip\+Link = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Definition at line 13 of file cb\+\_\+pouring\+\_\+motion.\+cpp.


\begin{DoxyCode}
14         : \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}{CbMoveEndEffectorTrajectory}(tipLink)
15     \{
16     \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a1cc07fa14aa37639cf08bfc783a6a91f}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a1cc07fa14aa37639cf08bfc783a6a91f}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!Cb\+Circular\+Pouring\+Motion@{Cb\+Circular\+Pouring\+Motion}}
\index{Cb\+Circular\+Pouring\+Motion@{Cb\+Circular\+Pouring\+Motion}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{Cb\+Circular\+Pouring\+Motion()}{CbCircularPouringMotion()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::\+Cb\+Circular\+Pouring\+Motion (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{plane\+Pivot\+Pose,  }\item[{double}]{delta\+Height,  }\item[{std\+::string}]{tip\+Link = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Definition at line 18 of file cb\+\_\+pouring\+\_\+motion.\+cpp.


\begin{DoxyCode}
19         : \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}(planePivotPose), \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{deltaHeight\_}(deltaHeight), 
      \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}{CbMoveEndEffectorTrajectory}(tipLink)
20     \{
21     \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a6ee291bffe6f492730db93e20be240d1}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a6ee291bffe6f492730db93e20be240d1}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!Cb\+Circular\+Pouring\+Motion@{Cb\+Circular\+Pouring\+Motion}}
\index{Cb\+Circular\+Pouring\+Motion@{Cb\+Circular\+Pouring\+Motion}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{Cb\+Circular\+Pouring\+Motion()}{CbCircularPouringMotion()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::\+Cb\+Circular\+Pouring\+Motion (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{plane\+Pivot\+Pose,  }\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{relative\+Initial\+Pose,  }\item[{double}]{delta\+Height,  }\item[{std\+::string}]{tip\+Link = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Definition at line 23 of file cb\+\_\+pouring\+\_\+motion.\+cpp.


\begin{DoxyCode}
24         : \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}(planePivotPose), \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_}(
      relativeInitialPose), \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{deltaHeight\_}(deltaHeight), \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}{CbMoveEndEffectorTrajectory}(tipLink)
25     \{
26     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a4986b396e0ba318a0046feea3f6eede6}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a4986b396e0ba318a0046feea3f6eede6}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot@{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot}}
\index{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot@{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot()}{computeCurrentEndEffectorPoseRelativeToPivot()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 123 of file cb\+\_\+pouring\+\_\+motion.\+cpp.



References cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::move\+Group\+Client\+Interface, pivot\+Pose\+\_\+, relative\+Initial\+Pose\+\_\+, and cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::tip\+Link\+\_\+.



Referenced by generate\+Trajectory().


\begin{DoxyCode}
124     \{
125         \textcolor{comment}{//auto currentRobotEndEffectorPose =
       this->movegroupClient\_->moveGroupClientInterface.getCurrentPose();}
126 
127         tf::TransformListener tfListener;
128         \textcolor{comment}{// tf::StampedTransform globalBaseLink;}
129         tf::StampedTransform endEffectorInPivotFrame;
130 
131         \textcolor{keywordflow}{try}
132         \{
133             \textcolor{keywordflow}{if} (!\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} || *\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} == \textcolor{stringliteral}{""})
134             \{
135                 \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} = this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->
      \hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}.getEndEffectorLink();
136             \}
137 
138             tfListener.waitForTransform(this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.header.frame\_id, *
      \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_}, ros::Time(0), ros::Duration(10));
139             tfListener.lookupTransform(this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.header.frame\_id, *
      \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_}, ros::Time(0), endEffectorInPivotFrame);
140 
141             \textcolor{comment}{// we define here the global frame as the pivot frame id}
142             \textcolor{comment}{// tfListener.waitForTransform(currentRobotEndEffectorPose.header.frame\_id,
       this->pivotPose\_.header.frame\_id, ros::Time(0), ros::Duration(10));}
143             \textcolor{comment}{// tfListener.lookupTransform(currentRobotEndEffectorPose.header.frame\_id,
       this->pivotPose\_.header.frame\_id, ros::Time(0), globalBaseLink);}
144         \}
145         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception &e)
146         \{
147             std::cerr << e.what() << \textcolor{charliteral}{'\(\backslash\)n'};
148         \}
149 
150         \textcolor{comment}{// tf::Transform endEffectorInBaseLinkFrame;}
151         \textcolor{comment}{// tf::poseMsgToTF(currentRobotEndEffectorPose.pose, endEffectorInBaseLinkFrame);}
152 
153         \textcolor{comment}{// tf::Transform endEffectorInPivotFrame = globalBaseLink * endEffectorInBaseLinkFrame; // pose
       composition}
154 
155         \textcolor{comment}{// now pivot and EndEffector share a common reference frame (let say map)}
156         \textcolor{comment}{// now get the current pose from the pivot reference frame with inverse composition}
157         tf::Transform pivotTransform;
158         tf::poseMsgToTF(this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.pose, pivotTransform);
159         tf::Transform invertedNewReferenceFrame = pivotTransform.inverse();
160 
161         tf::Transform currentPoseRelativeToPivot = invertedNewReferenceFrame * endEffectorInPivotFrame;
162 
163         geometry\_msgs::Pose finalEndEffectorRelativePose;
164         tf::poseTFToMsg(currentPoseRelativeToPivot, finalEndEffectorRelativePose);
165         \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_} = finalEndEffectorRelativePose;
166     \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbCircularPouringMotion_a4986b396e0ba318a0046feea3f6eede6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!create\+Markers@{create\+Markers}}
\index{create\+Markers@{create\+Markers}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{create\+Markers()}{createMarkers()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::create\+Markers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}.



Definition at line 168 of file cb\+\_\+pouring\+\_\+motion.\+cpp.



References cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::beahior\+Markers\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::create\+Markers(), and pivot\+Pose\+\_\+.


\begin{DoxyCode}
169     \{
170         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}{CbMoveEndEffectorTrajectory::createMarkers}();
171 
172         tf::Transform localdirection;
173         localdirection.setIdentity();
174         localdirection.setOrigin(tf::Vector3(0.12, 0, 0));
175         \textcolor{keyword}{auto} frameid = this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.header.frame\_id;
176 
177         visualization\_msgs::Marker marker;
178         marker.header.frame\_id = frameid;
179         marker.header.stamp = ros::Time::now();
180         marker.ns = \textcolor{stringliteral}{"trajectory"};
181         marker.id = \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers.size();
182         marker.type = visualization\_msgs::Marker::ARROW;
183         marker.action = visualization\_msgs::Marker::ADD;
184         marker.scale.x = 0.01;
185         marker.scale.y = 0.02;
186         marker.scale.z = 0.02;
187         marker.color.a = 1.0;
188         marker.color.r = 0.0;
189         marker.color.g = 0;
190         marker.color.b = 1.0;
191 
192         geometry\_msgs::Point start, end;
193         start.x = this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.pose.position.x;
194         start.y = this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.pose.position.y;
195         start.z = this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.pose.position.z;
196 
197         tf::Transform basetransform;
198         tf::poseMsgToTF(this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.pose, basetransform);
199         tf::Transform endarrow = localdirection * basetransform;
200 
201         end.x = endarrow.getOrigin().x();
202         end.y = endarrow.getOrigin().y();
203         end.z = endarrow.getOrigin().z();
204 
205         marker.pose.orientation.w = 1;
206         marker.points.push\_back(start);
207         marker.points.push\_back(end);
208 
209         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers.push\_back(marker);
210     \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!generate\+Trajectory@{generate\+Trajectory}}
\index{generate\+Trajectory@{generate\+Trajectory}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{generate\+Trajectory()}{generateTrajectory()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::generate\+Trajectory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}.



Definition at line 28 of file cb\+\_\+pouring\+\_\+motion.\+cpp.



References angular\+Speed\+\_\+rad\+\_\+s\+\_\+, compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot(), delta\+Height\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::end\+Effector\+Trajectory\+\_\+, linear\+Speed\+\_\+m\+\_\+s\+\_\+, pivot\+Pose\+\_\+, and relative\+Initial\+Pose\+\_\+.


\begin{DoxyCode}
29     \{
30         \textcolor{keywordflow}{if} (!\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_})
31         \{
32             this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4986b396e0ba318a0046feea3f6eede6}{computeCurrentEndEffectorPoseRelativeToPivot}(
      );
33         \}
34 
35         \textcolor{comment}{// project offset into the xy-plane}
36         \textcolor{comment}{// get the radius}
37         \textcolor{keywordtype}{double} radius = sqrt(\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_}->position.z * 
      \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_}->position.z + \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_}->position.y
       * \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_}->position.y);
38         \textcolor{keywordtype}{double} initialAngle = atan2(\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_}->position.z, 
      \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_}->position.y);
39 
40         \textcolor{keywordtype}{double} totallineardist = radius * \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{deltaHeight\_};
41         \textcolor{keywordtype}{double} totalangulardist = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{deltaHeight\_};
42 
43         \textcolor{comment}{// at least 1 sample per centimeter (average)}
44         \textcolor{comment}{// at least 1 sample per ~1.1 degrees (average)}
45 
46         \textcolor{keyword}{const} \textcolor{keywordtype}{double} RADS\_PER\_SAMPLE = 0.02;
47         \textcolor{keyword}{const} \textcolor{keywordtype}{double} METERS\_PER\_SAMPLE = 0.01;
48 
49         \textcolor{keywordtype}{int} totalSamplesCount = std::max(totallineardist / METERS\_PER\_SAMPLE, totalangulardist / 
      RADS\_PER\_SAMPLE);
50 
51         \textcolor{keywordtype}{double} linearSecondsPerSample;
52         \textcolor{keywordtype}{double} angularSecondsPerSamples;
53         \textcolor{keywordtype}{double} secondsPerSample;
54 
55         \textcolor{keywordflow}{if} (\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}{linearSpeed\_m\_s\_})
56         \{
57             linearSecondsPerSample = METERS\_PER\_SAMPLE / (*linearSpeed\_m\_s\_);
58         \}
59         \textcolor{keywordflow}{else}
60         \{
61             linearSecondsPerSample = std::numeric\_limits<double>::max();
62         \}
63 
64         \textcolor{keywordflow}{if} (\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7f69b3f95281fc14902117d637b59972}{angularSpeed\_rad\_s\_})
65         \{
66             angularSecondsPerSamples = RADS\_PER\_SAMPLE / (*angularSpeed\_rad\_s\_);
67         \}
68         \textcolor{keywordflow}{else}
69         \{
70             angularSecondsPerSamples = std::numeric\_limits<double>::max();
71         \}
72 
73         \textcolor{keywordflow}{if} (!\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}{linearSpeed\_m\_s\_} && !\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7f69b3f95281fc14902117d637b59972}{angularSpeed\_rad\_s\_})
74         \{
75             secondsPerSample = 0.5;
76         \}
77         \textcolor{keywordflow}{else}
78         \{
79             secondsPerSample = std::min(linearSecondsPerSample, angularSecondsPerSamples);
80         \}
81 
82         \textcolor{keywordtype}{double} currentAngle = initialAngle;
83 
84         \textcolor{keywordtype}{double} angleStep = deltaHeight\_ / (double)totalSamplesCount;
85 
86         tf::Transform tfBasePose;
87         tf::poseMsgToTF(\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.pose, tfBasePose);
88 
89         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < totalSamplesCount; i++)
90         \{
91             \textcolor{comment}{// relativePose i}
92             currentAngle += angleStep;
93             \textcolor{keywordtype}{double} y = radius * cos(currentAngle);
94             \textcolor{keywordtype}{double} z = radius * sin(currentAngle);
95 
96             geometry\_msgs::Pose relativeCurrentPose;
97 
98             relativeCurrentPose.position.x = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}{relativeInitialPose\_}->position.x;
99             relativeCurrentPose.position.y = y;
100             relativeCurrentPose.position.z = z;
101 
102             \textcolor{keyword}{auto} localquat = tf::createQuaternionFromRPY(currentAngle, 0, 0);
103             \textcolor{comment}{//relativeCurrentPose.orientation = relativeInitialPose\_.orientation;}
104             \textcolor{comment}{//tf::quaternionTFToMsg(localquat, relativeCurrentPose.orientation);}
105             relativeCurrentPose.orientation.w = 1;
106 
107             tf::Transform tfRelativeCurrentPose;
108             tf::poseMsgToTF(relativeCurrentPose, tfRelativeCurrentPose);
109 
110             tf::Transform tfGlobalPose = tfRelativeCurrentPose * tfBasePose;
111 
112             tfGlobalPose.setRotation(tfGlobalPose.getRotation() * localquat);
113 
114             geometry\_msgs::PoseStamped globalPose;
115             tf::poseTFToMsg(tfGlobalPose, globalPose.pose);
116             globalPose.header.frame\_id = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.header.frame\_id;
117             globalPose.header.stamp = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}{pivotPose\_}.header.stamp + ros::Duration(i * 
      secondsPerSample);
118 
119             this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}.push\_back(globalPose);
120         \}
121     \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a7f69b3f95281fc14902117d637b59972}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a7f69b3f95281fc14902117d637b59972}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!angular\+Speed\+\_\+rad\+\_\+s\+\_\+@{angular\+Speed\+\_\+rad\+\_\+s\+\_\+}}
\index{angular\+Speed\+\_\+rad\+\_\+s\+\_\+@{angular\+Speed\+\_\+rad\+\_\+s\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{angular\+Speed\+\_\+rad\+\_\+s\+\_\+}{angularSpeed\_rad\_s\_}}
{\footnotesize\ttfamily boost\+::optional$<$double$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::angular\+Speed\+\_\+rad\+\_\+s\+\_\+}



Definition at line 17 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by generate\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!delta\+Height\+\_\+@{delta\+Height\+\_\+}}
\index{delta\+Height\+\_\+@{delta\+Height\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{delta\+Height\+\_\+}{deltaHeight\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::delta\+Height\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 40 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by generate\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!linear\+Speed\+\_\+m\+\_\+s\+\_\+@{linear\+Speed\+\_\+m\+\_\+s\+\_\+}}
\index{linear\+Speed\+\_\+m\+\_\+s\+\_\+@{linear\+Speed\+\_\+m\+\_\+s\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{linear\+Speed\+\_\+m\+\_\+s\+\_\+}{linearSpeed\_m\_s\_}}
{\footnotesize\ttfamily boost\+::optional$<$double$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::linear\+Speed\+\_\+m\+\_\+s\+\_\+}



Definition at line 19 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by generate\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a58ce9c29e4ef8f09a7569d6d8f9df56b}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!pivot\+Pose\+\_\+@{pivot\+Pose\+\_\+}}
\index{pivot\+Pose\+\_\+@{pivot\+Pose\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{pivot\+Pose\+\_\+}{pivotPose\_}}
{\footnotesize\ttfamily geometry\+\_\+msgs\+::\+Pose\+Stamped cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::pivot\+Pose\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 35 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot(), create\+Markers(), and generate\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_ab6323315364e1f8bc60cbad3daa72fa9}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!relative\+Initial\+Pose\+\_\+@{relative\+Initial\+Pose\+\_\+}}
\index{relative\+Initial\+Pose\+\_\+@{relative\+Initial\+Pose\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{relative\+Initial\+Pose\+\_\+}{relativeInitialPose\_}}
{\footnotesize\ttfamily boost\+::optional$<$geometry\+\_\+msgs\+::\+Pose$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::relative\+Initial\+Pose\+\_\+}



Definition at line 22 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot(), and generate\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a23f3e511fbb975b090aa96873f18700a}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a23f3e511fbb975b090aa96873f18700a}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!target\+Pose\+\_\+@{target\+Pose\+\_\+}}
\index{target\+Pose\+\_\+@{target\+Pose\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{target\+Pose\+\_\+}{targetPose\_}}
{\footnotesize\ttfamily geometry\+\_\+msgs\+::\+Pose\+Stamped cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::target\+Pose\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 37 of file cb\+\_\+pouring\+\_\+motion.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\hyperlink{cb__pouring__motion_8h}{cb\+\_\+pouring\+\_\+motion.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/src/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\hyperlink{cb__pouring__motion_8cpp}{cb\+\_\+pouring\+\_\+motion.\+cpp}\end{DoxyCompactItemize}
