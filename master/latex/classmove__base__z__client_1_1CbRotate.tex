\hypertarget{classmove__base__z__client_1_1CbRotate}{}\section{move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Rotate Class Reference}
\label{classmove__base__z__client_1_1CbRotate}\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}


{\ttfamily \#include $<$cb\+\_\+rotate.\+h$>$}



Inheritance diagram for move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{classmove__base__z__client_1_1CbRotate__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmove__base__z__client_1_1CbRotate__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmove__base__z__client_1_1CbRotate_a38365918a9749d2ad85b584a2ab0a102}{Cb\+Rotate} ()
\item 
\hyperlink{classmove__base__z__client_1_1CbRotate_aca51890e44db143f216d9951ab2afaf3}{Cb\+Rotate} (float rotate\+\_\+degree)
\item 
virtual void \hyperlink{classmove__base__z__client_1_1CbRotate_a1528192ce89f2c1cbd9deffafecefb69}{on\+Entry} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
tf\+::\+Transform\+Listener \hyperlink{classmove__base__z__client_1_1CbRotate_ad9afe4d39997d7b44fc304f81f519cc5}{listener}
\item 
\hyperlink{classmove__base__z__client_1_1ClMoveBaseZ}{Cl\+Move\+BaseZ} $\ast$ \hyperlink{classmove__base__z__client_1_1CbRotate_a292c3739c4c1e668c0c6e241127b5c50}{move\+Base\+Client\+\_\+}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classmove__base__z__client_1_1CbRotate_a30d0f24b857149d78a023635562516b6}{rotate\+Degree}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 18 of file cb\+\_\+rotate.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!Cb\+Rotate@{Cb\+Rotate}}
\index{Cb\+Rotate@{Cb\+Rotate}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{Cb\+Rotate()}{CbRotate()}}]{\setlength{\rightskip}{0pt plus 5cm}move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::\+Cb\+Rotate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classmove__base__z__client_1_1CbRotate_a38365918a9749d2ad85b584a2ab0a102}{}\label{classmove__base__z__client_1_1CbRotate_a38365918a9749d2ad85b584a2ab0a102}


Definition at line 5 of file cb\+\_\+rotate.\+cpp.


\begin{DoxyCode}
6 \{
7 \}
\end{DoxyCode}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!Cb\+Rotate@{Cb\+Rotate}}
\index{Cb\+Rotate@{Cb\+Rotate}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{Cb\+Rotate(float rotate\+\_\+degree)}{CbRotate(float rotate_degree)}}]{\setlength{\rightskip}{0pt plus 5cm}move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::\+Cb\+Rotate (
\begin{DoxyParamCaption}
\item[{float}]{rotate\+\_\+degree}
\end{DoxyParamCaption}
)}\hypertarget{classmove__base__z__client_1_1CbRotate_aca51890e44db143f216d9951ab2afaf3}{}\label{classmove__base__z__client_1_1CbRotate_aca51890e44db143f216d9951ab2afaf3}


Definition at line 9 of file cb\+\_\+rotate.\+cpp.



References rotate\+Degree.


\begin{DoxyCode}
10 \{
11     \hyperlink{classmove__base__z__client_1_1CbRotate_a30d0f24b857149d78a023635562516b6}{rotateDegree} = rotate\_degree;
12 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{on\+Entry() override}{onEntry() override}}]{\setlength{\rightskip}{0pt plus 5cm}void move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::on\+Entry (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{classmove__base__z__client_1_1CbRotate_a1528192ce89f2c1cbd9deffafecefb69}{}\label{classmove__base__z__client_1_1CbRotate_a1528192ce89f2c1cbd9deffafecefb69}


Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_a7962382f93987c720ad432fef55b123f}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 14 of file cb\+\_\+rotate.\+cpp.



References smacc\+::\+Smacc\+Client\+Behavior\+::current\+State, smacc\+::\+I\+Smacc\+Client\+::get\+Component(), listener, move\+Base\+Client\+\_\+, smacc\+::\+I\+Smacc\+State\+::param(), smacc\+::\+Smacc\+Client\+Behavior\+::requires\+Client(), rotate\+Degree, smacc\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal(), and move\+\_\+base\+\_\+z\+\_\+client\+::\+Planner\+Switcher\+::set\+Default\+Planners().


\begin{DoxyCode}
15 \{
16     \textcolor{keywordtype}{double} angle\_increment\_degree;
17 
18     \textcolor{keywordflow}{if} (!\hyperlink{classmove__base__z__client_1_1CbRotate_a30d0f24b857149d78a023635562516b6}{rotateDegree})
19     \{
20         this->\hyperlink{classsmacc_1_1SmaccClientBehavior_af76fc9b877542ed5caf033f820c107d0}{currentState}->\hyperlink{classsmacc_1_1ISmaccState_a4982f2187ed6da337462721146e8ef70}{param}(\textcolor{stringliteral}{"angle\_increment\_degree"}, angle\_increment\_degree, 45.0);
21     \}
22     \textcolor{keywordflow}{else}
23     \{
24         angle\_increment\_degree = *\hyperlink{classmove__base__z__client_1_1CbRotate_a30d0f24b857149d78a023635562516b6}{rotateDegree};
25     \}
26 
27     this->\hyperlink{classsmacc_1_1SmaccClientBehavior_a917f001e763a1059af337bf4e164f542}{requiresClient}(\hyperlink{classmove__base__z__client_1_1CbRotate_a292c3739c4c1e668c0c6e241127b5c50}{moveBaseClient\_});
28 
29     \textcolor{keyword}{auto} plannerSwitcher = \hyperlink{classmove__base__z__client_1_1CbRotate_a292c3739c4c1e668c0c6e241127b5c50}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<PlannerSwitcher>();
30     \textcolor{comment}{//this should work better with a coroutine and await}
31     \textcolor{comment}{//this->plannerSwitcher\_->setForwardPlanner();}
32     plannerSwitcher->setDefaultPlanners();
33 
34     ros::Rate rate(10.0);
35     geometry\_msgs::Pose currentPoseMsg;
36     \textcolor{keywordflow}{while} (ros::ok())
37     \{
38         tf::StampedTransform currentPose;
39         \textcolor{keywordflow}{try}
40         \{
41             \hyperlink{classmove__base__z__client_1_1CbRotate_ad9afe4d39997d7b44fc304f81f519cc5}{listener}.lookupTransform(\textcolor{stringliteral}{"/odom"}, \textcolor{stringliteral}{"/base\_link"},
42                                      ros::Time(0), currentPose);
43 
44             tf::poseTFToMsg(currentPose, currentPoseMsg);
45             \textcolor{keywordflow}{break};
46         \}
47         \textcolor{keywordflow}{catch} (tf::TransformException ex)
48         \{
49             ROS\_ERROR(\textcolor{stringliteral}{"%s"}, ex.what());
50             ros::Duration(1.0).sleep();
51         \}
52     \}
53 
54     ClMoveBaseZ::Goal goal;
55     goal.target\_pose.header.frame\_id = \textcolor{stringliteral}{"/odom"};
56     goal.target\_pose.header.stamp = ros::Time::now();
57 
58     \textcolor{keyword}{auto} currentAngle = tf::getYaw(currentPoseMsg.orientation);
59     \textcolor{keyword}{auto} targetAngle = currentAngle + angle\_increment\_degree * M\_PI / 180.0;
60     goal.target\_pose.pose.position = currentPoseMsg.position;
61     goal.target\_pose.pose.orientation = tf::createQuaternionMsgFromYaw(targetAngle);
62 
63     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"current pose: "} << currentPoseMsg);
64     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"goal pose: "} << goal.target\_pose.pose);
65     \hyperlink{classmove__base__z__client_1_1CbRotate_a292c3739c4c1e668c0c6e241127b5c50}{moveBaseClient\_}->\hyperlink{classsmacc_1_1client__bases_1_1SmaccActionClientBase_a9c47a5094ac8afb01680307fe5eca922}{sendGoal}(goal);
66 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmove__base__z__client_1_1CbRotate_a1528192ce89f2c1cbd9deffafecefb69_cgraph}
\end{center}
\end{figure}




\subsection{Member Data Documentation}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!listener@{listener}}
\index{listener@{listener}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{listener}{listener}}]{\setlength{\rightskip}{0pt plus 5cm}tf\+::\+Transform\+Listener move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::listener}\hypertarget{classmove__base__z__client_1_1CbRotate_ad9afe4d39997d7b44fc304f81f519cc5}{}\label{classmove__base__z__client_1_1CbRotate_ad9afe4d39997d7b44fc304f81f519cc5}


Definition at line 21 of file cb\+\_\+rotate.\+h.



Referenced by on\+Entry().

\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}}
\index{move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{move\+Base\+Client\+\_\+}{moveBaseClient_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Cl\+Move\+BaseZ}$\ast$ move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::move\+Base\+Client\+\_\+}\hypertarget{classmove__base__z__client_1_1CbRotate_a292c3739c4c1e668c0c6e241127b5c50}{}\label{classmove__base__z__client_1_1CbRotate_a292c3739c4c1e668c0c6e241127b5c50}


Definition at line 23 of file cb\+\_\+rotate.\+h.



Referenced by on\+Entry().

\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}!rotate\+Degree@{rotate\+Degree}}
\index{rotate\+Degree@{rotate\+Degree}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate}}
\subsubsection[{\texorpdfstring{rotate\+Degree}{rotateDegree}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::optional$<$float$>$ move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Rotate\+::rotate\+Degree}\hypertarget{classmove__base__z__client_1_1CbRotate_a30d0f24b857149d78a023635562516b6}{}\label{classmove__base__z__client_1_1CbRotate_a30d0f24b857149d78a023635562516b6}


Definition at line 25 of file cb\+\_\+rotate.\+h.



Referenced by Cb\+Rotate(), and on\+Entry().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/include/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/client\+\_\+behaviors/\hyperlink{cb__rotate_8h}{cb\+\_\+rotate.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/src/client\+\_\+behaviors/\hyperlink{cb__rotate_8cpp}{cb\+\_\+rotate.\+cpp}\end{DoxyCompactItemize}
