\hypertarget{classsmacc_1_1SignalDetector}{}\section{smacc\+:\+:Signal\+Detector Class Reference}
\label{classsmacc_1_1SignalDetector}\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}


{\ttfamily \#include $<$smacc\+\_\+signal\+\_\+detector.\+h$>$}



Collaboration diagram for smacc\+:\+:Signal\+Detector\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsmacc_1_1SignalDetector_a24914014feb0ab01e2452af705ef2774}{Signal\+Detector} (\hyperlink{smacc__fifo__scheduler_8h_a0063e275231c80d5f97df21d17257bf7}{Smacc\+Fifo\+Scheduler} $\ast$scheduler)
\item 
void \hyperlink{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b}{initialize} (\hyperlink{classsmacc_1_1ISmaccStateMachine}{I\+Smacc\+State\+Machine} $\ast$state\+Machine)
\item 
void \hyperlink{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646}{set\+Processor\+Handle} (Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle processor\+Handle)
\item 
void \hyperlink{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39}{run\+Thread} ()
\item 
void \hyperlink{classsmacc_1_1SignalDetector_a636f704e469bf74b4a9fdb15bd63d5be}{join} ()
\item 
void \hyperlink{classsmacc_1_1SignalDetector_a536ea005ea4ef4632c0c9c1c62c557a3}{stop} ()
\item 
void \hyperlink{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}{polling\+Loop} ()
\item 
void \hyperlink{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5}{poll\+Once} ()
\item 
{\footnotesize template$<$typename Event\+Type $>$ }\\void \hyperlink{classsmacc_1_1SignalDetector_a6ab99d99cef8d101e39797a72daeb2b7}{post\+Event} (Event\+Type $\ast$ev)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classsmacc_1_1SignalDetector_a47ec2df560e2e33758ce3975bece9385}{find\+Updatable\+Clients} ()
\item 
void \hyperlink{classsmacc_1_1SignalDetector_a7e1301b9d23a522f18385368421c83f5}{find\+Updatable\+Behaviors} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsmacc_1_1ISmaccStateMachine}{I\+Smacc\+State\+Machine} $\ast$ \hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smacc\+State\+Machine\+\_\+}
\item 
std\+::vector$<$ \hyperlink{classsmacc_1_1ISmaccUpdatable}{I\+Smacc\+Updatable} $\ast$ $>$ \hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatable\+Clients\+\_\+}
\item 
std\+::vector$<$ \hyperlink{classsmacc_1_1ISmaccUpdatable}{I\+Smacc\+Updatable} $\ast$ $>$ \hyperlink{classsmacc_1_1SignalDetector_a9dce129da8c8a9971416a8f498132c23}{updatable\+Client\+Behaviors\+\_\+}
\item 
std\+::atomic$<$ unsigned long $>$ \hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{last\+State\+\_\+}
\item 
double \hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\+\_\+rate\+\_\+hz}
\item 
std\+::atomic$<$ \hyperlink{classbool}{bool} $>$ \hyperlink{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{end\+\_\+}
\item 
ros\+::\+Node\+Handle \hyperlink{classsmacc_1_1SignalDetector_a5c416677fd537afc79f2fbc2e68b2dee}{nh\+\_\+}
\item 
ros\+::\+Publisher \hyperlink{classsmacc_1_1SignalDetector_ae065bbd4e699e5fce00fbc508dedd4c1}{status\+Pub\+\_\+}
\item 
\hyperlink{smacc__fifo__scheduler_8h_a0063e275231c80d5f97df21d17257bf7}{Smacc\+Fifo\+Scheduler} $\ast$ \hyperlink{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}{scheduler\+\_\+}
\item 
Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle \hyperlink{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}{processor\+Handle\+\_\+}
\item 
boost\+::thread \hyperlink{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}{signal\+Detector\+Thread\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 14 of file smacc\+\_\+signal\+\_\+detector.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!Signal\+Detector@{Signal\+Detector}}
\index{Signal\+Detector@{Signal\+Detector}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{Signal\+Detector(\+Smacc\+Fifo\+Scheduler $\ast$scheduler)}{SignalDetector(SmaccFifoScheduler *scheduler)}}]{\setlength{\rightskip}{0pt plus 5cm}smacc\+::\+Signal\+Detector\+::\+Signal\+Detector (
\begin{DoxyParamCaption}
\item[{{\bf Smacc\+Fifo\+Scheduler} $\ast$}]{scheduler}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc_1_1SignalDetector_a24914014feb0ab01e2452af705ef2774}{}\label{classsmacc_1_1SignalDetector_a24914014feb0ab01e2452af705ef2774}
\hyperlink{classsmacc_1_1SignalDetector_a24914014feb0ab01e2452af705ef2774}{Signal\+Detector()} 

Definition at line 18 of file signal\+\_\+detector.\+cpp.



References end\+\_\+, loop\+\_\+rate\+\_\+hz, and scheduler\+\_\+.


\begin{DoxyCode}
19 \{
20     \hyperlink{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}{scheduler\_} = scheduler;
21     \hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz} = 10.0;
22     \hyperlink{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{end\_} = \textcolor{keyword}{false};
23 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!find\+Updatable\+Behaviors@{find\+Updatable\+Behaviors}}
\index{find\+Updatable\+Behaviors@{find\+Updatable\+Behaviors}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{find\+Updatable\+Behaviors()}{findUpdatableBehaviors()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::find\+Updatable\+Behaviors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a7e1301b9d23a522f18385368421c83f5}{}\label{classsmacc_1_1SignalDetector_a7e1301b9d23a522f18385368421c83f5}
find\+Updatable\+Client\+Behaviors() 

Definition at line 68 of file signal\+\_\+detector.\+cpp.



References smacc\+::introspection\+::demangle\+Type(), smacc\+::\+I\+Smacc\+State\+Machine\+::get\+Orthogonals(), smacc\+State\+Machine\+\_\+, and updatable\+Client\+Behaviors\+\_\+.



Referenced by poll\+Once().


\begin{DoxyCode}
69 \{
70     this->\hyperlink{classsmacc_1_1SignalDetector_a9dce129da8c8a9971416a8f498132c23}{updatableClientBehaviors\_}.clear();
71     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} pair : this->\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}->\hyperlink{classsmacc_1_1ISmaccStateMachine_a5b4dcb0a5135296cf3d728721ecd8053}{getOrthogonals}())
72     \{
73         \textcolor{keyword}{auto} &orthogonal = pair.second;
74         \textcolor{keyword}{auto} &behaviors = orthogonal->getClientBehaviors();
75 
76         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &currentBehavior : behaviors)
77         \{
78             ISmaccUpdatable *updatableClientBehavior = \textcolor{keyword}{dynamic\_cast<}ISmaccUpdatable *\textcolor{keyword}{>}(currentBehavior.get(
      ));
79 
80             \textcolor{keywordflow}{if} (updatableClientBehavior != \textcolor{keyword}{nullptr})
81             \{
82                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"Adding updatable behavior: "} << \hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}(\textcolor{keyword}{typeid}(
      updatableClientBehavior)));
83                 this->\hyperlink{classsmacc_1_1SignalDetector_a9dce129da8c8a9971416a8f498132c23}{updatableClientBehaviors\_}.push\_back(updatableClientBehavior)
      ;
84             \}
85         \}
86     \}
87 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a7e1301b9d23a522f18385368421c83f5_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a7e1301b9d23a522f18385368421c83f5_icgraph}
\end{center}
\end{figure}


\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!find\+Updatable\+Clients@{find\+Updatable\+Clients}}
\index{find\+Updatable\+Clients@{find\+Updatable\+Clients}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{find\+Updatable\+Clients()}{findUpdatableClients()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::find\+Updatable\+Clients (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a47ec2df560e2e33758ce3975bece9385}{}\label{classsmacc_1_1SignalDetector_a47ec2df560e2e33758ce3975bece9385}
\hyperlink{classsmacc_1_1SignalDetector_a47ec2df560e2e33758ce3975bece9385}{find\+Updatable\+Clients()} 

Definition at line 42 of file signal\+\_\+detector.\+cpp.



References smacc\+::introspection\+::demangle\+Type(), smacc\+::\+I\+Smacc\+State\+Machine\+::get\+Orthogonals(), smacc\+State\+Machine\+\_\+, and updatable\+Clients\+\_\+.



Referenced by initialize(), and poll\+Once().


\begin{DoxyCode}
43 \{
44     this->\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}.clear();
45     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} pair : this->\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}->\hyperlink{classsmacc_1_1ISmaccStateMachine_a5b4dcb0a5135296cf3d728721ecd8053}{getOrthogonals}())
46     \{
47         \textcolor{keyword}{auto} &orthogonal = pair.second;
48         \textcolor{keyword}{auto} &clients = orthogonal->getClients();
49 
50         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &client : clients)
51         \{
52             \textcolor{keyword}{auto} updatableClient = \textcolor{keyword}{dynamic\_cast<}ISmaccUpdatable *\textcolor{keyword}{>}(client.get());
53 
54             \textcolor{keywordflow}{if} (updatableClient != \textcolor{keyword}{nullptr})
55             \{
56                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"Adding updatable client: "} << \hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}(\textcolor{keyword}{typeid}(
      updatableClient)));
57                 this->\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}.push\_back(updatableClient);
58             \}
59         \}
60     \}
61 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a47ec2df560e2e33758ce3975bece9385_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a47ec2df560e2e33758ce3975bece9385_icgraph}
\end{center}
\end{figure}


\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!initialize@{initialize}}
\index{initialize@{initialize}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{initialize(\+I\+Smacc\+State\+Machine $\ast$state\+Machine)}{initialize(ISmaccStateMachine *stateMachine)}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::initialize (
\begin{DoxyParamCaption}
\item[{{\bf I\+Smacc\+State\+Machine} $\ast$}]{state\+Machine}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b}{}\label{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b}
\hyperlink{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b}{initialize()} 

Definition at line 30 of file signal\+\_\+detector.\+cpp.



References find\+Updatable\+Clients(), last\+State\+\_\+, and smacc\+State\+Machine\+\_\+.



Referenced by smacc\+::\+I\+Smacc\+State\+Machine\+::\+I\+Smacc\+State\+Machine().


\begin{DoxyCode}
31 \{
32     \hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_} = stateMachine;
33     \hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{lastState\_} = std::numeric\_limits<unsigned long>::quiet\_NaN();
34     \hyperlink{classsmacc_1_1SignalDetector_a47ec2df560e2e33758ce3975bece9385}{findUpdatableClients}();
35 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a91ab3cd92d8095cdaf8610b50731f04b_icgraph}
\end{center}
\end{figure}


\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!join@{join}}
\index{join@{join}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{join()}{join()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::join (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc_1_1SignalDetector_a636f704e469bf74b4a9fdb15bd63d5be}{}\label{classsmacc_1_1SignalDetector_a636f704e469bf74b4a9fdb15bd63d5be}
\hyperlink{classsmacc_1_1SignalDetector_a636f704e469bf74b4a9fdb15bd63d5be}{join()} 

Definition at line 114 of file signal\+\_\+detector.\+cpp.



References signal\+Detector\+Thread\+\_\+.


\begin{DoxyCode}
115 \{
116     \hyperlink{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}{signalDetectorThread\_}.join();
117 \}
\end{DoxyCode}
\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!polling\+Loop@{polling\+Loop}}
\index{polling\+Loop@{polling\+Loop}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{polling\+Loop()}{pollingLoop()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::polling\+Loop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}{}\label{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}
\hyperlink{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}{polling\+Loop()} 

Definition at line 197 of file signal\+\_\+detector.\+cpp.



References end\+\_\+, loop\+\_\+rate\+\_\+hz, and poll\+Once().



Referenced by smacc\+::run(), and run\+Thread().


\begin{DoxyCode}
198 \{
199     ros::NodeHandle nh(\textcolor{stringliteral}{"~"});
200 
201     \textcolor{keywordflow}{if} (!nh.param(\textcolor{stringliteral}{"signal\_detector\_loop\_freq"}, this->loop\_rate\_hz))
202     \{
203     \}
204 
205     nh.setParam(\textcolor{stringliteral}{"signal\_detector\_loop\_freq"}, this->\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz});
206 
207     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"[SignalDetector] loop rate hz:"} << \hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz});
208 
209     ros::Rate r(\hyperlink{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{loop\_rate\_hz});
210     \textcolor{keywordflow}{while} (ros::ok() && !\hyperlink{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{end\_})
211     \{
212         ROS\_INFO\_STREAM\_THROTTLE(10, \textcolor{stringliteral}{"[SignalDetector] heartbeat"});
213         \hyperlink{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5}{pollOnce}();
214         ros::spinOnce();
215         r.sleep();
216     \}
217 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199_icgraph}
\end{center}
\end{figure}


\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!poll\+Once@{poll\+Once}}
\index{poll\+Once@{poll\+Once}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{poll\+Once()}{pollOnce()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::poll\+Once (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5}{}\label{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5}
poll() 

Definition at line 134 of file signal\+\_\+detector.\+cpp.



References smacc\+::introspection\+::demangle\+Type(), find\+Updatable\+Behaviors(), find\+Updatable\+Clients(), smacc\+::\+I\+Smacc\+State\+Machine\+::get\+Current\+State(), smacc\+::\+I\+Smacc\+State\+Machine\+::get\+Current\+State\+Counter(), last\+State\+\_\+, smacc\+::\+I\+Smacc\+State\+Machine\+::lock\+State\+Machine(), smacc\+State\+Machine\+\_\+, smacc\+::\+I\+Smacc\+State\+Machine\+::unlock\+State\+Machine(), updatable\+Client\+Behaviors\+\_\+, and updatable\+Clients\+\_\+.



Referenced by polling\+Loop().


\begin{DoxyCode}
135 \{
136     \textcolor{keywordflow}{if} (\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_} == \textcolor{keyword}{nullptr})
137     \{
138         ROS\_DEBUG(\textcolor{stringliteral}{"[PollOnce] update but state machine is not yet set."});
139         \textcolor{keywordflow}{return};
140     \}
141 
142     \textcolor{keywordflow}{try}
143     \{
144         \hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}->\hyperlink{classsmacc_1_1ISmaccStateMachine_a5c8d4c9a4b11c7950266a00e48080ce3}{lockStateMachine}(\textcolor{stringliteral}{"update behaviors"});
145         this->\hyperlink{classsmacc_1_1SignalDetector_a47ec2df560e2e33758ce3975bece9385}{findUpdatableClients}();
146         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"updatable clients: "} << this->\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}.size());
147 
148         \textcolor{keywordflow}{if} (this->\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_}.size())
149         \{
150             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} *updatableClient : this->\hyperlink{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{updatableClients\_})
151             \{
152                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[PollOnce] update client call:  "} << 
      \hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}(\textcolor{keyword}{typeid}(updatableClient)));
153                 updatableClient->update();
154             \}
155         \}
156 
157         \textcolor{keywordtype}{long} currentStateIndex = \hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}->
      \hyperlink{classsmacc_1_1ISmaccStateMachine_a03966e531cefc1e096bffa46111871d2}{getCurrentStateCounter}();
158 
159         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[PollOnce] update behaviors. checking current state"});
160 
161         \textcolor{keywordflow}{if} (\hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}->\hyperlink{classsmacc_1_1ISmaccStateMachine_ad150bf5c87f3c8f3cadd716e571d858e}{getCurrentState}() != \textcolor{keyword}{nullptr})
162         \{
163             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[PollOnce] current state: "} << currentStateIndex);
164             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[PollOnce] last state: "} << this->\hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{lastState\_});
165 
166             \textcolor{keywordflow}{if} (currentStateIndex != 0)
167             \{
168                 \textcolor{keywordflow}{if} (currentStateIndex != this->\hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{lastState\_})
169                 \{
170                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[PollOnce] detected new state, refreshing updatable client behavior
       table"});
171                     \textcolor{comment}{// we are in a new state, refresh the updatable client behaviors table}
172                     this->\hyperlink{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{lastState\_} = currentStateIndex;
173                     this->\hyperlink{classsmacc_1_1SignalDetector_a7e1301b9d23a522f18385368421c83f5}{findUpdatableBehaviors}();
174                 \}
175 
176                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"updatable client\_behaviors: "} << this->
      \hyperlink{classsmacc_1_1SignalDetector_a9dce129da8c8a9971416a8f498132c23}{updatableClientBehaviors\_}.size());
177                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} *updatableBehavior : this->\hyperlink{classsmacc_1_1SignalDetector_a9dce129da8c8a9971416a8f498132c23}{updatableClientBehaviors\_})
178                 \{
179                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"pollOnce update client behavior call: "} << 
      \hyperlink{namespacesmacc_1_1introspection_a670e39ccea29952859df4e2d0e45077b}{demangleType}(\textcolor{keyword}{typeid}(*updatableBehavior)));
180                     updatableBehavior->update();
181                 \}
182             \}
183         \}
184     \}
185     \textcolor{keywordflow}{catch} (...)
186     \{
187         ROS\_ERROR(\textcolor{stringliteral}{"Exception during Signal Detector update loop."});
188     \}
189     \hyperlink{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{smaccStateMachine\_}->\hyperlink{classsmacc_1_1ISmaccStateMachine_ae2e3ceb87bfe3f9d8bf320e36071fdc7}{unlockStateMachine}(\textcolor{stringliteral}{"update behaviors"});
190 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a9a116479e23259f3a5d5d4a47278afd5_icgraph}
\end{center}
\end{figure}


\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!post\+Event@{post\+Event}}
\index{post\+Event@{post\+Event}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{post\+Event(\+Event\+Type $\ast$ev)}{postEvent(EventType *ev)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Event\+Type $>$ void smacc\+::\+Signal\+Detector\+::post\+Event (
\begin{DoxyParamCaption}
\item[{Event\+Type $\ast$}]{ev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{classsmacc_1_1SignalDetector_a6ab99d99cef8d101e39797a72daeb2b7}{}\label{classsmacc_1_1SignalDetector_a6ab99d99cef8d101e39797a72daeb2b7}


Definition at line 36 of file smacc\+\_\+signal\+\_\+detector.\+h.



References processor\+Handle\+\_\+, and scheduler\+\_\+.


\begin{DoxyCode}
37     \{
38         boost::intrusive\_ptr<EventType> weakPtrEvent = ev;
39         this->\hyperlink{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}{scheduler\_}->queue\_event(\hyperlink{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}{processorHandle\_}, weakPtrEvent);
40     \}
\end{DoxyCode}
\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!run\+Thread@{run\+Thread}}
\index{run\+Thread@{run\+Thread}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{run\+Thread()}{runThread()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::run\+Thread (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39}{}\label{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39}
\hyperlink{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39}{run\+Thread()} 

Definition at line 104 of file signal\+\_\+detector.\+cpp.



References polling\+Loop(), and signal\+Detector\+Thread\+\_\+.


\begin{DoxyCode}
105 \{
106     \hyperlink{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}{signalDetectorThread\_} = boost::thread(boost::bind(&
      \hyperlink{classsmacc_1_1SignalDetector_a2665e66cdae9f6533c64bbcecf3fa199}{SignalDetector::pollingLoop}, \textcolor{keyword}{this}));
107 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1SignalDetector_a48b3fee853ddcb25732408b22ecfcf39_cgraph}
\end{center}
\end{figure}


\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!set\+Processor\+Handle@{set\+Processor\+Handle}}
\index{set\+Processor\+Handle@{set\+Processor\+Handle}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{set\+Processor\+Handle(\+Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle processor\+Handle)}{setProcessorHandle(SmaccFifoScheduler::processor_handle processorHandle)}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::set\+Processor\+Handle (
\begin{DoxyParamCaption}
\item[{Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle}]{processor\+Handle}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646}{}\label{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646}
\hyperlink{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646}{set\+Processor\+Handle()} 

Definition at line 94 of file signal\+\_\+detector.\+cpp.



References processor\+Handle\+\_\+.



Referenced by smacc\+::run().


\begin{DoxyCode}
95 \{
96     \hyperlink{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}{processorHandle\_} = processorHandle;
97 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=311pt]{classsmacc_1_1SignalDetector_ac1197a77c32a3b817005391e550ce646_icgraph}
\end{center}
\end{figure}


\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!stop@{stop}}
\index{stop@{stop}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{stop()}{stop()}}]{\setlength{\rightskip}{0pt plus 5cm}void smacc\+::\+Signal\+Detector\+::stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classsmacc_1_1SignalDetector_a536ea005ea4ef4632c0c9c1c62c557a3}{}\label{classsmacc_1_1SignalDetector_a536ea005ea4ef4632c0c9c1c62c557a3}
\hyperlink{classsmacc_1_1SignalDetector_a536ea005ea4ef4632c0c9c1c62c557a3}{stop()} 

Definition at line 124 of file signal\+\_\+detector.\+cpp.



References end\+\_\+.


\begin{DoxyCode}
125 \{
126     \hyperlink{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{end\_} = \textcolor{keyword}{true};
127 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!end\+\_\+@{end\+\_\+}}
\index{end\+\_\+@{end\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{end\+\_\+}{end_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::atomic$<${\bf bool}$>$ smacc\+::\+Signal\+Detector\+::end\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}{}\label{classsmacc_1_1SignalDetector_aaee266393c01693528a2d74b1f2354a2}


Definition at line 57 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by polling\+Loop(), Signal\+Detector(), and stop().

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!last\+State\+\_\+@{last\+State\+\_\+}}
\index{last\+State\+\_\+@{last\+State\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{last\+State\+\_\+}{lastState_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::atomic$<$unsigned long$>$ smacc\+::\+Signal\+Detector\+::last\+State\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}{}\label{classsmacc_1_1SignalDetector_a72293ed0e98f4200fbe75b53f1e41eab}


Definition at line 49 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by initialize(), and poll\+Once().

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!loop\+\_\+rate\+\_\+hz@{loop\+\_\+rate\+\_\+hz}}
\index{loop\+\_\+rate\+\_\+hz@{loop\+\_\+rate\+\_\+hz}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{loop\+\_\+rate\+\_\+hz}{loop_rate_hz}}]{\setlength{\rightskip}{0pt plus 5cm}double smacc\+::\+Signal\+Detector\+::loop\+\_\+rate\+\_\+hz\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}{}\label{classsmacc_1_1SignalDetector_a41a2ae4262ed350f46d8b886bdc1dfa5}


Definition at line 55 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by polling\+Loop(), and Signal\+Detector().

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!nh\+\_\+@{nh\+\_\+}}
\index{nh\+\_\+@{nh\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{nh\+\_\+}{nh_}}]{\setlength{\rightskip}{0pt plus 5cm}ros\+::\+Node\+Handle smacc\+::\+Signal\+Detector\+::nh\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a5c416677fd537afc79f2fbc2e68b2dee}{}\label{classsmacc_1_1SignalDetector_a5c416677fd537afc79f2fbc2e68b2dee}


Definition at line 59 of file smacc\+\_\+signal\+\_\+detector.\+h.

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!processor\+Handle\+\_\+@{processor\+Handle\+\_\+}}
\index{processor\+Handle\+\_\+@{processor\+Handle\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{processor\+Handle\+\_\+}{processorHandle_}}]{\setlength{\rightskip}{0pt plus 5cm}Smacc\+Fifo\+Scheduler\+::processor\+\_\+handle smacc\+::\+Signal\+Detector\+::processor\+Handle\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}{}\label{classsmacc_1_1SignalDetector_a9a77dc9f0e9f8f56dff5e76077abcb78}


Definition at line 67 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by post\+Event(), and set\+Processor\+Handle().

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!scheduler\+\_\+@{scheduler\+\_\+}}
\index{scheduler\+\_\+@{scheduler\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{scheduler\+\_\+}{scheduler_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Smacc\+Fifo\+Scheduler}$\ast$ smacc\+::\+Signal\+Detector\+::scheduler\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}{}\label{classsmacc_1_1SignalDetector_adaee5b9b91d0e6305dc1ab30f7ab566d}


Definition at line 65 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by post\+Event(), and Signal\+Detector().

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!signal\+Detector\+Thread\+\_\+@{signal\+Detector\+Thread\+\_\+}}
\index{signal\+Detector\+Thread\+\_\+@{signal\+Detector\+Thread\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{signal\+Detector\+Thread\+\_\+}{signalDetectorThread_}}]{\setlength{\rightskip}{0pt plus 5cm}boost\+::thread smacc\+::\+Signal\+Detector\+::signal\+Detector\+Thread\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}{}\label{classsmacc_1_1SignalDetector_a4346a400cd37eafc5d1d2e63d975785e}


Definition at line 69 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by join(), and run\+Thread().

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!smacc\+State\+Machine\+\_\+@{smacc\+State\+Machine\+\_\+}}
\index{smacc\+State\+Machine\+\_\+@{smacc\+State\+Machine\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{smacc\+State\+Machine\+\_\+}{smaccStateMachine_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf I\+Smacc\+State\+Machine}$\ast$ smacc\+::\+Signal\+Detector\+::smacc\+State\+Machine\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}{}\label{classsmacc_1_1SignalDetector_a46025de6ac7b5980e22144f9703236a4}


Definition at line 43 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by find\+Updatable\+Behaviors(), find\+Updatable\+Clients(), initialize(), and poll\+Once().

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!status\+Pub\+\_\+@{status\+Pub\+\_\+}}
\index{status\+Pub\+\_\+@{status\+Pub\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{status\+Pub\+\_\+}{statusPub_}}]{\setlength{\rightskip}{0pt plus 5cm}ros\+::\+Publisher smacc\+::\+Signal\+Detector\+::status\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_ae065bbd4e699e5fce00fbc508dedd4c1}{}\label{classsmacc_1_1SignalDetector_ae065bbd4e699e5fce00fbc508dedd4c1}


Definition at line 61 of file smacc\+\_\+signal\+\_\+detector.\+h.

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!updatable\+Client\+Behaviors\+\_\+@{updatable\+Client\+Behaviors\+\_\+}}
\index{updatable\+Client\+Behaviors\+\_\+@{updatable\+Client\+Behaviors\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{updatable\+Client\+Behaviors\+\_\+}{updatableClientBehaviors_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf I\+Smacc\+Updatable} $\ast$$>$ smacc\+::\+Signal\+Detector\+::updatable\+Client\+Behaviors\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a9dce129da8c8a9971416a8f498132c23}{}\label{classsmacc_1_1SignalDetector_a9dce129da8c8a9971416a8f498132c23}


Definition at line 47 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by find\+Updatable\+Behaviors(), and poll\+Once().

\index{smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}!updatable\+Clients\+\_\+@{updatable\+Clients\+\_\+}}
\index{updatable\+Clients\+\_\+@{updatable\+Clients\+\_\+}!smacc\+::\+Signal\+Detector@{smacc\+::\+Signal\+Detector}}
\subsubsection[{\texorpdfstring{updatable\+Clients\+\_\+}{updatableClients_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf I\+Smacc\+Updatable} $\ast$$>$ smacc\+::\+Signal\+Detector\+::updatable\+Clients\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}{}\label{classsmacc_1_1SignalDetector_a01a457b4ec935473d6426efb7b87e683}


Definition at line 45 of file smacc\+\_\+signal\+\_\+detector.\+h.



Referenced by find\+Updatable\+Clients(), and poll\+Once().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc/include/smacc/\hyperlink{smacc__signal__detector_8h}{smacc\+\_\+signal\+\_\+detector.\+h}\item 
smacc/src/smacc/\hyperlink{signal__detector_8cpp}{signal\+\_\+detector.\+cpp}\end{DoxyCompactItemize}
