<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SMACC: franka::Robot::Impl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SMACC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefranka.html">franka</a></li><li class="navelem"><a class="el" href="classfranka_1_1Robot.html">Robot</a></li><li class="navelem"><a class="el" href="classfranka_1_1Robot_1_1Impl.html">Impl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfranka_1_1Robot_1_1Impl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">franka::Robot::Impl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for franka::Robot::Impl:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl__inherit__graph.png" border="0" usemap="#franka_1_1Robot_1_1Impl_inherit__map" alt="Inheritance graph"/></div>
<map name="franka_1_1Robot_1_1Impl_inherit__map" id="franka_1_1Robot_1_1Impl_inherit__map">
<area shape="rect" id="node2" href="classfranka_1_1RobotControl.html" title="{franka::RobotControl\n||+ ~RobotControl()\l+ startMotion()\l+ finishMotion()\l+ cancelMotion()\l+ update()\l+ throwOnMotionError()\l+ realtimeConfig()\l}" alt="" coords="24,5,201,171"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for franka::Robot::Impl:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl__coll__graph.png" border="0" usemap="#franka_1_1Robot_1_1Impl_coll__map" alt="Collaboration graph"/></div>
<map name="franka_1_1Robot_1_1Impl_coll__map" id="franka_1_1Robot_1_1Impl_coll__map">
<area shape="rect" id="node2" href="classfranka_1_1RobotControl.html" title="{franka::RobotControl\n||+ ~RobotControl()\l+ startMotion()\l+ finishMotion()\l+ cancelMotion()\l+ update()\l+ throwOnMotionError()\l+ realtimeConfig()\l}" alt="" coords="5,189,183,355"/>
<area shape="rect" id="node6" href="classfranka_1_1Logger.html" title="{franka::Logger\n||+ Logger()\l+ log()\l+ flush()\l}" alt="" coords="664,219,780,325"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a091452543a9ef4ce4e347911bc14fbc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a091452543a9ef4ce4e347911bc14fbc1">Impl</a> (std::unique_ptr&lt; <a class="el" href="classfranka_1_1Network.html">Network</a> &gt; network, size_t log_size, <a class="el" href="namespacefranka.html#aeede4f4629390fea21ca5e5a35a8a943">RealtimeConfig</a> realtime_config=<a class="el" href="namespacefranka.html#aeede4f4629390fea21ca5e5a35a8a943a024bd586d70db805d622b85815bfa0de">RealtimeConfig::kEnforce</a>)</td></tr>
<tr class="separator:a091452543a9ef4ce4e347911bc14fbc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961bcad42d2be61ff56b7004498fa8dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfranka_1_1RobotState.html">RobotState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd">update</a> (const <a class="el" href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html">research_interface::robot::MotionGeneratorCommand</a> *motion_command, const <a class="el" href="structresearch__interface_1_1robot_1_1ControllerCommand.html">research_interface::robot::ControllerCommand</a> *control_command) override</td></tr>
<tr class="separator:a961bcad42d2be61ff56b7004498fa8dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3373a95db9754ab9df732d9b1dd1f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#ace3373a95db9754ab9df732d9b1dd1f6">throwOnMotionError</a> (const <a class="el" href="structfranka_1_1RobotState.html">RobotState</a> &amp;robot_state, uint32_t motion_id) override</td></tr>
<tr class="separator:ace3373a95db9754ab9df732d9b1dd1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de2609b63c0f9ab6bab6e7180c021bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfranka_1_1RobotState.html">RobotState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a0de2609b63c0f9ab6bab6e7180c021bf">readOnce</a> ()</td></tr>
<tr class="separator:a0de2609b63c0f9ab6bab6e7180c021bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af10ccd204c0d2f1c3ad5b7fd4f72be92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfranka_1_1Robot.html#ad1dd3dccff6f33691d2c66eaa5ac5a10">ServerVersion</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#af10ccd204c0d2f1c3ad5b7fd4f72be92">serverVersion</a> () const noexcept</td></tr>
<tr class="separator:af10ccd204c0d2f1c3ad5b7fd4f72be92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60b2747318e7c957834c62e83c204fbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefranka.html#aeede4f4629390fea21ca5e5a35a8a943">RealtimeConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a60b2747318e7c957834c62e83c204fbc">realtimeConfig</a> () const noexcept override</td></tr>
<tr class="separator:a60b2747318e7c957834c62e83c204fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4073ded9e7ecc118a93d233c0f6ed7"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a2f4073ded9e7ecc118a93d233c0f6ed7">startMotion</a> (<a class="el" href="structresearch__interface_1_1robot_1_1Move.html#a3e7b80b30bbf01dc902c84402502ebbc">research_interface::robot::Move::ControllerMode</a> controller_mode, <a class="el" href="structresearch__interface_1_1robot_1_1Move.html#a334b8380507154e8042b57fbd3287c0f">research_interface::robot::Move::MotionGeneratorMode</a> motion_generator_mode, const <a class="el" href="structresearch__interface_1_1robot_1_1Move_1_1Deviation.html">research_interface::robot::Move::Deviation</a> &amp;maximum_path_deviation, const <a class="el" href="structresearch__interface_1_1robot_1_1Move_1_1Deviation.html">research_interface::robot::Move::Deviation</a> &amp;maximum_goal_pose_deviation) override</td></tr>
<tr class="separator:a2f4073ded9e7ecc118a93d233c0f6ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a3ca95296656edb350c49808c74385"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a30a3ca95296656edb350c49808c74385">cancelMotion</a> (uint32_t motion_id) override</td></tr>
<tr class="separator:a30a3ca95296656edb350c49808c74385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024cc4b7994e164a1468b4dd222f80ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a024cc4b7994e164a1468b4dd222f80ab">finishMotion</a> (uint32_t motion_id, const <a class="el" href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html">research_interface::robot::MotionGeneratorCommand</a> *motion_command, const <a class="el" href="structresearch__interface_1_1robot_1_1ControllerCommand.html">research_interface::robot::ControllerCommand</a> *control_command) override</td></tr>
<tr class="separator:a024cc4b7994e164a1468b4dd222f80ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e018e65fddf90613219c2935327f80f"><td class="memTemplParams" colspan="2">template&lt;typename T , typename... TArgs&gt; </td></tr>
<tr class="memitem:a6e018e65fddf90613219c2935327f80f"><td class="memTemplItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a6e018e65fddf90613219c2935327f80f">executeCommand</a> (TArgs...)</td></tr>
<tr class="separator:a6e018e65fddf90613219c2935327f80f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af562b87b6d5d8f7ce271daaa82b88693"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfranka_1_1Model.html">Model</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#af562b87b6d5d8f7ce271daaa82b88693">loadModel</a> () const</td></tr>
<tr class="separator:af562b87b6d5d8f7ce271daaa82b88693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classfranka_1_1RobotControl"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classfranka_1_1RobotControl')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classfranka_1_1RobotControl.html">franka::RobotControl</a></td></tr>
<tr class="memitem:a4a79e68d1a4cb81377b08ed3d377f5f7 inherit pub_methods_classfranka_1_1RobotControl"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1RobotControl.html#a4a79e68d1a4cb81377b08ed3d377f5f7">~RobotControl</a> ()=default</td></tr>
<tr class="separator:a4a79e68d1a4cb81377b08ed3d377f5f7 inherit pub_methods_classfranka_1_1RobotControl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa6b34693c27b529a52f7ea5a607c7252"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252">motionGeneratorRunning</a> () const noexcept</td></tr>
<tr class="separator:aa6b34693c27b529a52f7ea5a607c7252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d91fb2b9838536bcea8ab1aae4802e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e">controllerRunning</a> () const noexcept</td></tr>
<tr class="separator:ac2d91fb2b9838536bcea8ab1aae4802e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a42d57d169b53c906439dbbde255c1bae"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a42d57d169b53c906439dbbde255c1bae"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a42d57d169b53c906439dbbde255c1bae">IsBaseOfGetterSetter</a> = std::is_base_of&lt; <a class="el" href="structresearch__interface_1_1robot_1_1GetterSetterCommandBase.html">research_interface::robot::GetterSetterCommandBase</a>&lt; T, T::kCommand &gt;, T &gt;</td></tr>
<tr class="separator:a42d57d169b53c906439dbbde255c1bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac281e9292f59718758b2c9897b004776"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ac281e9292f59718758b2c9897b004776"><td class="memTemplItemLeft" align="right" valign="top">std::enable_if_t&lt; <a class="el" href="classfranka_1_1Robot_1_1Impl.html#a42d57d169b53c906439dbbde255c1bae">IsBaseOfGetterSetter</a>&lt; T &gt;::value &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#ac281e9292f59718758b2c9897b004776">handleCommandResponse</a> (const typename T::Response &amp;response) const</td></tr>
<tr class="separator:ac281e9292f59718758b2c9897b004776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939a959d9bb69ad7567d7d3a2aabea3e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a939a959d9bb69ad7567d7d3a2aabea3e"><td class="memTemplItemLeft" align="right" valign="top">std::enable_if_t&lt;!<a class="el" href="classfranka_1_1Robot_1_1Impl.html#a42d57d169b53c906439dbbde255c1bae">IsBaseOfGetterSetter</a>&lt; T &gt;::value &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a939a959d9bb69ad7567d7d3a2aabea3e">handleCommandResponse</a> (const typename T::Response &amp;response) const</td></tr>
<tr class="separator:a939a959d9bb69ad7567d7d3a2aabea3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c927a26f2a6eceb352ce3af49d28c37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structresearch__interface_1_1robot_1_1RobotCommand.html">research_interface::robot::RobotCommand</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a4c927a26f2a6eceb352ce3af49d28c37">sendRobotCommand</a> (const <a class="el" href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html">research_interface::robot::MotionGeneratorCommand</a> *motion_command, const <a class="el" href="structresearch__interface_1_1robot_1_1ControllerCommand.html">research_interface::robot::ControllerCommand</a> *control_command) const</td></tr>
<tr class="separator:a4c927a26f2a6eceb352ce3af49d28c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15161988fd2644aa2757e196e4488b38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38">receiveRobotState</a> ()</td></tr>
<tr class="separator:a15161988fd2644aa2757e196e4488b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e762e0bc2fe77fdfe7614963883be7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7">updateState</a> (const <a class="el" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a> &amp;robot_state)</td></tr>
<tr class="separator:a79e762e0bc2fe77fdfe7614963883be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:acecf3b158ccd1c2ed7e76971f1e6a192"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classfranka_1_1Network.html">Network</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a></td></tr>
<tr class="separator:acecf3b158ccd1c2ed7e76971f1e6a192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404078ee04a4786f61d991b71d2dc1ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfranka_1_1Logger.html">Logger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">logger_</a></td></tr>
<tr class="separator:a404078ee04a4786f61d991b71d2dc1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af740b3f1aca49659f5d81501f3c83cad"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefranka.html#aeede4f4629390fea21ca5e5a35a8a943">RealtimeConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#af740b3f1aca49659f5d81501f3c83cad">realtime_config_</a></td></tr>
<tr class="separator:af740b3f1aca49659f5d81501f3c83cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5d9b45a15e1e23dd09e4d2fe272833"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a9e5d9b45a15e1e23dd09e4d2fe272833">ri_version_</a></td></tr>
<tr class="separator:a9e5d9b45a15e1e23dd09e4d2fe272833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209c353b4da1c85d3e633cab161a0d39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8">research_interface::robot::MotionGeneratorMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">motion_generator_mode_</a></td></tr>
<tr class="separator:a209c353b4da1c85d3e633cab161a0d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fecb29212c55738e284b2ba8249ad5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8">research_interface::robot::MotionGeneratorMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a></td></tr>
<tr class="separator:a2fecb29212c55738e284b2ba8249ad5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa435885c35275fc60b8de90832ae24df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213">research_interface::robot::ControllerMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">controller_mode_</a></td></tr>
<tr class="separator:aa435885c35275fc60b8de90832ae24df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d1a7e855dae2453635da08440c375e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213">research_interface::robot::ControllerMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a></td></tr>
<tr class="separator:ab5d1a7e855dae2453635da08440c375e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed154fce2f3a44a60b7397405974d395"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfranka_1_1Robot_1_1Impl.html#aed154fce2f3a44a60b7397405974d395">message_id_</a></td></tr>
<tr class="separator:aed154fce2f3a44a60b7397405974d395"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00023">23</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a42d57d169b53c906439dbbde255c1bae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42d57d169b53c906439dbbde255c1bae">&#9670;&nbsp;</a></span>IsBaseOfGetterSetter</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfranka_1_1Robot_1_1Impl.html#a42d57d169b53c906439dbbde255c1bae">franka::Robot::Impl::IsBaseOfGetterSetter</a> =  std::is_base_of&lt;<a class="el" href="structresearch__interface_1_1robot_1_1GetterSetterCommandBase.html">research_interface::robot::GetterSetterCommandBase</a>&lt;T, T::kCommand&gt;, T&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00061">61</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a091452543a9ef4ce4e347911bc14fbc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091452543a9ef4ce4e347911bc14fbc1">&#9670;&nbsp;</a></span>Impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">franka::Robot::Impl::Impl </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classfranka_1_1Network.html">Network</a> &gt;&#160;</td>
          <td class="paramname"><em>network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>log_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefranka.html#aeede4f4629390fea21ca5e5a35a8a943">RealtimeConfig</a>&#160;</td>
          <td class="paramname"><em>realtime_config</em> = <code><a class="el" href="namespacefranka.html#aeede4f4629390fea21ca5e5a35a8a943a024bd586d70db805d622b85815bfa0de">RealtimeConfig::kEnforce</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00043">43</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8h_source.html#l00108">logger_</a>, <a class="el" href="franka__gripper_8cpp_source.html#l00077">franka_gripper::move()</a>, <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>, <a class="el" href="robot__impl_8h_source.html#l00110">realtime_config_</a>, <a class="el" href="robot__impl_8h_source.html#l00111">ri_version_</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00156">updateState()</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    : <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>{<a class="code" href="namespacefranka__gripper.html#a1356a87108d2229401d3755bd3e53bdf">std::move</a>(network)}, <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">logger_</a>{log_size}, <a class="code" href="classfranka_1_1Robot_1_1Impl.html#af740b3f1aca49659f5d81501f3c83cad">realtime_config_</a>{realtime_config} {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>) {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;libfranka robot: Invalid argument&quot;</span>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  connect&lt;research_interface::robot::Connect, research_interface::robot::kVersion&gt;(*<a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                                                   &amp;<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a9e5d9b45a15e1e23dd09e4d2fe272833">ri_version_</a>);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7">updateState</a>(network_-&gt;udpBlockingReceive&lt;<a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a>&gt;());</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div><div class="ttc" id="namespacefranka__gripper_html_a1356a87108d2229401d3755bd3e53bdf"><div class="ttname"><a href="namespacefranka__gripper.html#a1356a87108d2229401d3755bd3e53bdf">franka_gripper::move</a></div><div class="ttdeci">bool move(const franka::Gripper &amp;gripper, const MoveGoalConstPtr &amp;goal)</div><div class="ttdef"><b>Definition:</b> <a href="franka__gripper_8cpp_source.html#l00077">franka_gripper.cpp:77</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a9e5d9b45a15e1e23dd09e4d2fe272833"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a9e5d9b45a15e1e23dd09e4d2fe272833">franka::Robot::Impl::ri_version_</a></div><div class="ttdeci">uint16_t ri_version_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00111">robot_impl.h:111</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_af740b3f1aca49659f5d81501f3c83cad"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#af740b3f1aca49659f5d81501f3c83cad">franka::Robot::Impl::realtime_config_</a></div><div class="ttdeci">const RealtimeConfig realtime_config_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00110">robot_impl.h:110</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a79e762e0bc2fe77fdfe7614963883be7"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7">franka::Robot::Impl::updateState</a></div><div class="ttdeci">void updateState(const research_interface::robot::RobotState &amp;robot_state)</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00156">robot_impl.cpp:156</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotState_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a></div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00038">rbk_types.h:38</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a404078ee04a4786f61d991b71d2dc1ff"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">franka::Robot::Impl::logger_</a></div><div class="ttdeci">Logger logger_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00108">robot_impl.h:108</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a091452543a9ef4ce4e347911bc14fbc1_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a091452543a9ef4ce4e347911bc14fbc1_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a091452543a9ef4ce4e347911bc14fbc1_cgraph" id="classfranka_1_1Robot_1_1Impl_a091452543a9ef4ce4e347911bc14fbc1_cgraph">
<area shape="rect" id="node2" href="namespacefranka__gripper.html#a1356a87108d2229401d3755bd3e53bdf" title="franka_gripper::move" alt="" coords="200,5,363,32"/>
<area shape="rect" id="node4" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7" title="franka::Robot::Impl\l::updateState" alt="" coords="208,57,355,98"/>
<area shape="rect" id="node3" href="classfranka_1_1Gripper.html#a047bc39267d66d6fb26c4c70669d68c2" title="franka::Gripper::move" alt="" coords="411,5,576,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a30a3ca95296656edb350c49808c74385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30a3ca95296656edb350c49808c74385">&#9670;&nbsp;</a></span>cancelMotion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void franka::Robot::Impl::cancelMotion </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>motion_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfranka_1_1RobotControl.html#a8eb19b5e21e2ac8d9c98bffe2dd9124d">franka::RobotControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00286">286</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8cpp_source.html#l00170">controllerRunning()</a>, <a class="el" href="robot__impl_8h_source.html#l00118">current_move_controller_mode_</a>, <a class="el" href="robot__impl_8h_source.html#l00114">current_move_motion_generator_mode_</a>, <a class="el" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::kIdle</a>, <a class="el" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a">research_interface::robot::kOther</a>, <a class="el" href="robot__impl_8cpp_source.html#l00166">motionGeneratorRunning()</a>, <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00132">receiveRobotState()</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                                               {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    executeCommand&lt;research_interface::robot::StopMove&gt;();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> CommandException&amp; e) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">throw</span> ControlException(e.what());</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a> robot_state;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    robot_state = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38">receiveRobotState</a>();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  } <span class="keywordflow">while</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252">motionGeneratorRunning</a>() || <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e">controllerRunning</a>());</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// Ignore Move response.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// TODO (FWA): It is not guaranteed that the Move response won&#39;t come later</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;tcpReceiveResponse&lt;<a class="code" href="structresearch__interface_1_1robot_1_1Move.html">research_interface::robot::Move</a>&gt;(motion_id, [](<span class="keyword">auto</span>) {});</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> = <a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a> = <a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a">research_interface::robot::ControllerMode::kOther</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div><div class="ttc" id="namespaceresearch__interface_1_1robot_html_a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a">research_interface::robot::ControllerMode::kOther</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a2fecb29212c55738e284b2ba8249ad5c"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">franka::Robot::Impl::current_move_motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode current_move_motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00114">robot_impl.h:114</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aa6b34693c27b529a52f7ea5a607c7252"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252">franka::Robot::Impl::motionGeneratorRunning</a></div><div class="ttdeci">bool motionGeneratorRunning() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00166">robot_impl.cpp:166</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotState_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a></div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00038">rbk_types.h:38</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1Move_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1Move.html">research_interface::robot::Move</a></div><div class="ttdef"><b>Definition:</b> <a href="service__types_8h_source.html#l00123">service_types.h:123</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a15161988fd2644aa2757e196e4488b38"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38">franka::Robot::Impl::receiveRobotState</a></div><div class="ttdeci">research_interface::robot::RobotState receiveRobotState()</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00132">robot_impl.cpp:132</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_ac2d91fb2b9838536bcea8ab1aae4802e"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e">franka::Robot::Impl::controllerRunning</a></div><div class="ttdeci">bool controllerRunning() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00170">robot_impl.cpp:170</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_ab5d1a7e855dae2453635da08440c375e"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">franka::Robot::Impl::current_move_controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode current_move_controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00118">robot_impl.h:118</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a30a3ca95296656edb350c49808c74385_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a30a3ca95296656edb350c49808c74385_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a30a3ca95296656edb350c49808c74385_cgraph" id="classfranka_1_1Robot_1_1Impl_a30a3ca95296656edb350c49808c74385_cgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e" title="franka::Robot::Impl\l::controllerRunning" alt="" coords="223,5,370,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252" title="franka::Robot::Impl\l::motionGeneratorRunning" alt="" coords="200,71,393,112"/>
<area shape="rect" id="node4" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38" title="franka::Robot::Impl\l::receiveRobotState" alt="" coords="222,136,371,177"/>
<area shape="rect" id="node5" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7" title="franka::Robot::Impl\l::updateState" alt="" coords="441,136,588,177"/>
</map>
</div>

</div>
</div>
<a id="ac2d91fb2b9838536bcea8ab1aae4802e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d91fb2b9838536bcea8ab1aae4802e">&#9670;&nbsp;</a></span>controllerRunning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> franka::Robot::Impl::controllerRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00170">170</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8h_source.html#l00116">controller_mode_</a>, and <a class="el" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">research_interface::robot::kExternalController</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00286">cancelMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00247">finishMotion()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                                 {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">controller_mode_</a> == <a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">research_interface::robot::ControllerMode::kExternalController</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aa435885c35275fc60b8de90832ae24df"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">franka::Robot::Impl::controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00116">robot_impl.h:116</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">research_interface::robot::ControllerMode::kExternalController</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_ac2d91fb2b9838536bcea8ab1aae4802e_icgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_ac2d91fb2b9838536bcea8ab1aae4802e_icgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_ac2d91fb2b9838536bcea8ab1aae4802e_icgraph" id="classfranka_1_1Robot_1_1Impl_ac2d91fb2b9838536bcea8ab1aae4802e_icgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#a30a3ca95296656edb350c49808c74385" title="franka::Robot::Impl\l::cancelMotion" alt="" coords="200,5,347,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Robot_1_1Impl.html#a024cc4b7994e164a1468b4dd222f80ab" title="franka::Robot::Impl\l::finishMotion" alt="" coords="200,71,347,112"/>
<area shape="rect" id="node4" href="classfranka_1_1Robot_1_1Impl.html#a2f4073ded9e7ecc118a93d233c0f6ed7" title="franka::Robot::Impl\l::startMotion" alt="" coords="200,136,347,177"/>
</map>
</div>

</div>
</div>
<a id="a6e018e65fddf90613219c2935327f80f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e018e65fddf90613219c2935327f80f">&#9670;&nbsp;</a></span>executeCommand()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename... TArgs&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">uint32_t franka::Robot::Impl::executeCommand </td>
          <td>(</td>
          <td class="paramtype">TArgs...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00265">265</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">References <a class="el" href="generate__debs_8py_source.html#l00202">generate_debs::args</a>, and <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                                {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  uint32_t command_id = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;tcpSendRequest&lt;T&gt;(<a class="code" href="namespacegenerate__debs.html#a75f9143e38df82d83b2e8a6f99cae02c">args</a>...);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keyword">typename</span> T::Response response = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;tcpBlockingReceiveResponse&lt;T&gt;(command_id);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  handleCommandResponse&lt;T&gt;(response);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordflow">return</span> command_id;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div><div class="ttc" id="namespacegenerate__debs_html_a75f9143e38df82d83b2e8a6f99cae02c"><div class="ttname"><a href="namespacegenerate__debs.html#a75f9143e38df82d83b2e8a6f99cae02c">generate_debs.args</a></div><div class="ttdeci">args</div><div class="ttdef"><b>Definition:</b> <a href="generate__debs_8py_source.html#l00202">generate_debs.py:202</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a024cc4b7994e164a1468b4dd222f80ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024cc4b7994e164a1468b4dd222f80ab">&#9670;&nbsp;</a></span>finishMotion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void franka::Robot::Impl::finishMotion </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>motion_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html">research_interface::robot::MotionGeneratorCommand</a> *&#160;</td>
          <td class="paramname"><em>motion_command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1ControllerCommand.html">research_interface::robot::ControllerCommand</a> *&#160;</td>
          <td class="paramname"><em>control_command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfranka_1_1RobotControl.html#aae1629178b5eeb5d8e4d41d2f746f2fc">franka::RobotControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00247">247</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8cpp_source.html#l00170">controllerRunning()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00013">franka::anonymous_namespace{robot_impl.cpp}::createControlException()</a>, <a class="el" href="robot__impl_8h_source.html#l00118">current_move_controller_mode_</a>, <a class="el" href="robot__impl_8h_source.html#l00114">current_move_motion_generator_mode_</a>, <a class="el" href="logger_8cpp_source.html#l00024">franka::Logger::flush()</a>, <a class="el" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::kIdle</a>, <a class="el" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a">research_interface::robot::kOther</a>, <a class="el" href="structresearch__interface_1_1robot_1_1Move.html#a74e15d249324a1b2d28f0a7cf50dc794aedb741f9f460686f7d799eb503d047f1">research_interface::robot::Move::kReflexAborted</a>, <a class="el" href="robot__impl_8h_source.html#l00108">logger_</a>, <a class="el" href="rbk__types_8h_source.html#l00091">research_interface::robot::MotionGeneratorCommand::motion_generation_finished</a>, <a class="el" href="robot__impl_8cpp_source.html#l00166">motionGeneratorRunning()</a>, <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00054">update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                                                     {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252">motionGeneratorRunning</a>() &amp;&amp; !<a class="code" href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e">controllerRunning</a>()) {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> = <a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a> = <a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a">research_interface::robot::ControllerMode::kOther</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <span class="keywordflow">if</span> (motion_command == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">throw</span> ControlException(<span class="stringliteral">&quot;libfranka robot: No motion generator command given!&quot;</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html">research_interface::robot::MotionGeneratorCommand</a> motion_finished_command = *motion_command;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  motion_finished_command.<a class="code" href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html#af42f06a136505ab2d62ecd70e4cc0db7">motion_generation_finished</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// The TCP response for the finished Move might arrive while the robot state still shows that the</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">// motion is running, or afterwards. To handle both situations, we do not process TCP packages in</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// this loop and explicitly wait for the Move response over TCP afterwards.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  RobotState robot_state{};</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252">motionGeneratorRunning</a>() || <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e">controllerRunning</a>()) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    robot_state = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd">update</a>(&amp;motion_finished_command, control_command);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keyword">auto</span> response = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;tcpBlockingReceiveResponse&lt;<a class="code" href="structresearch__interface_1_1robot_1_1Move.html">research_interface::robot::Move</a>&gt;(motion_id);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keywordflow">if</span> (response.status == <a class="code" href="structresearch__interface_1_1robot_1_1Move.html#a74e15d249324a1b2d28f0a7cf50dc794aedb741f9f460686f7d799eb503d047f1">research_interface::robot::Move::Status::kReflexAborted</a>) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03.html#ad774a35737682bade54336046f9d09b2">createControlException</a>(<span class="stringliteral">&quot;Motion finished commanded, but the robot is still moving!&quot;</span>,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                 response.status, robot_state.last_motion_errors, <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">logger_</a>.<a class="code" href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e">flush</a>());</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">try</span> {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    handleCommandResponse&lt;research_interface::robot::Move&gt;(response);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> CommandException&amp; e) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03.html#ad774a35737682bade54336046f9d09b2">createControlException</a>(e.what(), response.status, robot_state.last_motion_errors,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                 <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">logger_</a>.<a class="code" href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e">flush</a>());</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> = <a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a> = <a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a">research_interface::robot::ControllerMode::kOther</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a961bcad42d2be61ff56b7004498fa8dd"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd">franka::Robot::Impl::update</a></div><div class="ttdeci">RobotState update(const research_interface::robot::MotionGeneratorCommand *motion_command, const research_interface::robot::ControllerCommand *control_command) override</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00054">robot_impl.cpp:54</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1Move_html_a74e15d249324a1b2d28f0a7cf50dc794aedb741f9f460686f7d799eb503d047f1"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1Move.html#a74e15d249324a1b2d28f0a7cf50dc794aedb741f9f460686f7d799eb503d047f1">research_interface::robot::Move::Status::kReflexAborted</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a">research_interface::robot::ControllerMode::kOther</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a2fecb29212c55738e284b2ba8249ad5c"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">franka::Robot::Impl::current_move_motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode current_move_motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00114">robot_impl.h:114</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aa6b34693c27b529a52f7ea5a607c7252"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252">franka::Robot::Impl::motionGeneratorRunning</a></div><div class="ttdeci">bool motionGeneratorRunning() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00166">robot_impl.cpp:166</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1Move_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1Move.html">research_interface::robot::Move</a></div><div class="ttdef"><b>Definition:</b> <a href="service__types_8h_source.html#l00123">service_types.h:123</a></div></div>
<div class="ttc" id="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03_html_ad774a35737682bade54336046f9d09b2"><div class="ttname"><a href="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03.html#ad774a35737682bade54336046f9d09b2">franka::anonymous_namespace{robot_impl.cpp}::createControlException</a></div><div class="ttdeci">ControlException createControlException(const char *message, research_interface::robot::Move::Status move_status, const Errors &amp;reflex_errors, const std::vector&lt; Record &gt; &amp;log)</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00013">robot_impl.cpp:13</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1MotionGeneratorCommand_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html">research_interface::robot::MotionGeneratorCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00084">rbk_types.h:84</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_ac2d91fb2b9838536bcea8ab1aae4802e"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e">franka::Robot::Impl::controllerRunning</a></div><div class="ttdeci">bool controllerRunning() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00170">robot_impl.cpp:170</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1MotionGeneratorCommand_html_af42f06a136505ab2d62ecd70e4cc0db7"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html#af42f06a136505ab2d62ecd70e4cc0db7">research_interface::robot::MotionGeneratorCommand::motion_generation_finished</a></div><div class="ttdeci">bool motion_generation_finished</div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00091">rbk_types.h:91</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a404078ee04a4786f61d991b71d2dc1ff"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">franka::Robot::Impl::logger_</a></div><div class="ttdeci">Logger logger_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00108">robot_impl.h:108</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_ab5d1a7e855dae2453635da08440c375e"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">franka::Robot::Impl::current_move_controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode current_move_controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00118">robot_impl.h:118</a></div></div>
<div class="ttc" id="classfranka_1_1Logger_html_a44b15a95e25dabe93f797c1d9651fb6e"><div class="ttname"><a href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e">franka::Logger::flush</a></div><div class="ttdeci">std::vector&lt; franka::Record &gt; flush()</div><div class="ttdef"><b>Definition:</b> <a href="logger_8cpp_source.html#l00024">logger.cpp:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a024cc4b7994e164a1468b4dd222f80ab_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a024cc4b7994e164a1468b4dd222f80ab_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a024cc4b7994e164a1468b4dd222f80ab_cgraph" id="classfranka_1_1Robot_1_1Impl_a024cc4b7994e164a1468b4dd222f80ab_cgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e" title="franka::Robot::Impl\l::controllerRunning" alt="" coords="244,5,391,47"/>
<area shape="rect" id="node3" href="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03.html#ad774a35737682bade54336046f9d09b2" title="franka::anonymous_namespace\l\{robot_impl::cpp\}::createControl\lException" alt="" coords="200,71,435,127"/>
<area shape="rect" id="node4" href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e" title="franka::Logger::flush" alt="" coords="240,151,395,178"/>
<area shape="rect" id="node6" href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252" title="franka::Robot::Impl\l::motionGeneratorRunning" alt="" coords="221,203,414,244"/>
<area shape="rect" id="node7" href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd" title="franka::Robot::Impl\l::update" alt="" coords="244,268,391,309"/>
<area shape="rect" id="node5" href="classfranka_1_1Logger.html#aee4bfea6a4081c4ed9ee2abd2f62a0cd" title="franka::Logger::log" alt="" coords="507,154,651,181"/>
<area shape="rect" id="node8" href="classfranka_1_1Robot_1_1Impl.html#a4c927a26f2a6eceb352ce3af49d28c37" title="franka::Robot::Impl\l::sendRobotCommand" alt="" coords="496,209,661,251"/>
<area shape="rect" id="node9" href="namespacefranka.html#a0eaee201f8afdb02f6530269cb581cbb" title="franka::convertRobotState" alt="" coords="483,275,675,302"/>
<area shape="rect" id="node13" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38" title="franka::Robot::Impl\l::receiveRobotState" alt="" coords="504,327,653,368"/>
<area shape="rect" id="node10" href="namespacefranka.html#a92a802942d91aff279534b952468dc51" title="franka::combineCenterOfMass" alt="" coords="723,225,941,251"/>
<area shape="rect" id="node11" href="namespacefranka.html#a4be229abc6da1b78167353e5448ea1d5" title="franka::combineInertiaTensor" alt="" coords="726,275,938,302"/>
<area shape="rect" id="node12" href="namespacefranka.html#a503ad33c66091a201a92c1262778d16f" title="franka::skewSymmetricMatrix\lFromVector" alt="" coords="989,268,1208,309"/>
<area shape="rect" id="node14" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7" title="franka::Robot::Impl\l::updateState" alt="" coords="759,327,905,368"/>
</map>
</div>

</div>
</div>
<a id="ac281e9292f59718758b2c9897b004776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac281e9292f59718758b2c9897b004776">&#9670;&nbsp;</a></span>handleCommandResponse() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if_t&lt;<a class="el" href="classfranka_1_1Robot_1_1Impl.html#a42d57d169b53c906439dbbde255c1bae">IsBaseOfGetterSetter</a>&lt;T&gt;::value&gt; franka::Robot::Impl::handleCommandResponse </td>
          <td>(</td>
          <td class="paramtype">const typename T::Response &amp;&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00064">64</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">References <a class="el" href="servers_2service__node__3_2src_2service__node__3_8py_source.html#l00023">service_node_3::s</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                                {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespacestd_1_1string__literals.html">std::string_literals</a>;  <span class="comment">// NOLINT(google-build-using-namespace)</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">switch</span> (response.status) {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keywordflow">case</span> T::Status::kSuccess:</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="keywordflow">case</span> T::Status::kCommandNotPossibleRejected:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">throw</span> CommandException(<span class="stringliteral">&quot;libfranka: &quot;</span><a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> + <a class="code" href="structresearch__interface_1_1robot_1_1CommandTraits.html">research_interface::robot::CommandTraits&lt;T&gt;::kName</a> +</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                               <span class="stringliteral">&quot; command rejected: command not possible in the current mode!&quot;</span>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keywordflow">case</span> T::Status::kInvalidArgumentRejected:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">throw</span> CommandException(<span class="stringliteral">&quot;libfranka: &quot;</span><a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> + <a class="code" href="structresearch__interface_1_1robot_1_1CommandTraits.html">research_interface::robot::CommandTraits&lt;T&gt;::kName</a> +</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                               <span class="stringliteral">&quot; command rejected: invalid argument!&quot;</span>);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">throw</span> ProtocolException(<span class="stringliteral">&quot;libfranka: Unexpected response while handling &quot;</span><a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> +</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                <a class="code" href="structresearch__interface_1_1robot_1_1CommandTraits.html">research_interface::robot::CommandTraits&lt;T&gt;::kName</a> + <span class="stringliteral">&quot; command!&quot;</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div><div class="ttc" id="namespaceservice__node__3_html_aa976421a49e0b54f23833423400849ae"><div class="ttname"><a href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">service_node_3.s</a></div><div class="ttdeci">s</div><div class="ttdef"><b>Definition:</b> <a href="servers_2service__node__3_2src_2service__node__3_8py_source.html#l00023">service_node_3.py:23</a></div></div>
<div class="ttc" id="namespacestd_1_1string__literals_html"><div class="ttname"><a href="namespacestd_1_1string__literals.html">string_literals</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1CommandTraits_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1CommandTraits.html">research_interface::robot::CommandTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="service__traits_8h_source.html#l00011">service_traits.h:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a939a959d9bb69ad7567d7d3a2aabea3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a939a959d9bb69ad7567d7d3a2aabea3e">&#9670;&nbsp;</a></span>handleCommandResponse() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::enable_if_t&lt;!<a class="el" href="classfranka_1_1Robot_1_1Impl.html#a42d57d169b53c906439dbbde255c1bae">IsBaseOfGetterSetter</a>&lt;T&gt;::value&gt; franka::Robot::Impl::handleCommandResponse </td>
          <td>(</td>
          <td class="paramtype">const typename T::Response &amp;&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00084">84</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8cpp_source.html#l00132">receiveRobotState()</a>, <a class="el" href="servers_2service__node__3_2src_2service__node__3_8py_source.html#l00023">service_node_3::s</a>, <a class="el" href="robot__impl_8cpp_source.html#l00095">sendRobotCommand()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00156">updateState()</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                                {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="namespacestd_1_1string__literals.html">std::string_literals</a>;  <span class="comment">// NOLINT(google-build-using-namespace)</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">switch</span> (response.status) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <span class="keywordflow">case</span> T::Status::kSuccess:</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">case</span> T::Status::kCommandNotPossibleRejected:</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">throw</span> CommandException(<span class="stringliteral">&quot;libfranka: &quot;</span><a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> + <a class="code" href="structresearch__interface_1_1robot_1_1CommandTraits.html">research_interface::robot::CommandTraits&lt;T&gt;::kName</a> +</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                               <span class="stringliteral">&quot; command rejected: command not possible in the current mode!&quot;</span>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">throw</span> ProtocolException(<span class="stringliteral">&quot;libfranka: Unexpected response while handling &quot;</span><a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> +</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                <a class="code" href="structresearch__interface_1_1robot_1_1CommandTraits.html">research_interface::robot::CommandTraits&lt;T&gt;::kName</a> + <span class="stringliteral">&quot; command!&quot;</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="ttc" id="namespaceservice__node__3_html_aa976421a49e0b54f23833423400849ae"><div class="ttname"><a href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">service_node_3.s</a></div><div class="ttdeci">s</div><div class="ttdef"><b>Definition:</b> <a href="servers_2service__node__3_2src_2service__node__3_8py_source.html#l00023">service_node_3.py:23</a></div></div>
<div class="ttc" id="namespacestd_1_1string__literals_html"><div class="ttname"><a href="namespacestd_1_1string__literals.html">string_literals</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1CommandTraits_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1CommandTraits.html">research_interface::robot::CommandTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="service__traits_8h_source.html#l00011">service_traits.h:11</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a939a959d9bb69ad7567d7d3a2aabea3e_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a939a959d9bb69ad7567d7d3a2aabea3e_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a939a959d9bb69ad7567d7d3a2aabea3e_cgraph" id="classfranka_1_1Robot_1_1Impl_a939a959d9bb69ad7567d7d3a2aabea3e_cgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38" title="franka::Robot::Impl\l::receiveRobotState" alt="" coords="264,5,413,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7" title="franka::Robot::Impl\l::updateState" alt="" coords="469,35,616,76"/>
<area shape="rect" id="node4" href="classfranka_1_1Robot_1_1Impl.html#a4c927a26f2a6eceb352ce3af49d28c37" title="franka::Robot::Impl\l::sendRobotCommand" alt="" coords="256,123,421,164"/>
</map>
</div>

</div>
</div>
<a id="af562b87b6d5d8f7ce271daaa82b88693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af562b87b6d5d8f7ce271daaa82b88693">&#9670;&nbsp;</a></span>loadModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfranka_1_1Model.html">Model</a> franka::Robot::Impl::loadModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00305">305</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                 {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">return</span> Model(*<a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6b34693c27b529a52f7ea5a607c7252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b34693c27b529a52f7ea5a607c7252">&#9670;&nbsp;</a></span>motionGeneratorRunning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> franka::Robot::Impl::motionGeneratorRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00166">166</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::kIdle</a>, and <a class="el" href="robot__impl_8h_source.html#l00113">motion_generator_mode_</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00286">cancelMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00247">finishMotion()</a>, <a class="el" href="robot__impl_8h_source.html#l00123">franka::Robot::Impl::handleCommandResponse&lt; research_interface::robot::Move &gt;()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                                      {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">motion_generator_mode_</a> != <a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a209c353b4da1c85d3e633cab161a0d39"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">franka::Robot::Impl::motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00113">robot_impl.h:113</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_aa6b34693c27b529a52f7ea5a607c7252_icgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_aa6b34693c27b529a52f7ea5a607c7252_icgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_aa6b34693c27b529a52f7ea5a607c7252_icgraph" id="classfranka_1_1Robot_1_1Impl_aa6b34693c27b529a52f7ea5a607c7252_icgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#a30a3ca95296656edb350c49808c74385" title="franka::Robot::Impl\l::cancelMotion" alt="" coords="296,5,443,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Robot_1_1Impl.html#a024cc4b7994e164a1468b4dd222f80ab" title="franka::Robot::Impl\l::finishMotion" alt="" coords="296,71,443,112"/>
<area shape="rect" id="node4" href="namespacefranka.html#a5a8aedd505670843172f84593054c094" title="franka::handleCommandResponse\l\&lt; research_interface::robot\l::Move \&gt;" alt="" coords="247,137,492,193"/>
<area shape="rect" id="node5" href="classfranka_1_1Robot_1_1Impl.html#a2f4073ded9e7ecc118a93d233c0f6ed7" title="franka::Robot::Impl\l::startMotion" alt="" coords="296,217,443,259"/>
</map>
</div>

</div>
</div>
<a id="a0de2609b63c0f9ab6bab6e7180c021bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0de2609b63c0f9ab6bab6e7180c021bf">&#9670;&nbsp;</a></span>readOnce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfranka_1_1RobotState.html">RobotState</a> franka::Robot::Impl::readOnce </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00086">86</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8cpp_source.html#l00309">franka::convertRobotState()</a>, <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00132">receiveRobotState()</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                               {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// Delete old data from the UDP buffer.</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a> robot_state;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;udpReceive&lt;decltype(robot_state)&gt;(&amp;robot_state)) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacefranka.html#a0eaee201f8afdb02f6530269cb581cbb">convertRobotState</a>(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38">receiveRobotState</a>());</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="structresearch__interface_1_1robot_1_1RobotState_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a></div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00038">rbk_types.h:38</a></div></div>
<div class="ttc" id="namespacefranka_html_a0eaee201f8afdb02f6530269cb581cbb"><div class="ttname"><a href="namespacefranka.html#a0eaee201f8afdb02f6530269cb581cbb">franka::convertRobotState</a></div><div class="ttdeci">RobotState convertRobotState(const research_interface::robot::RobotState &amp;robot_state) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00309">robot_impl.cpp:309</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a15161988fd2644aa2757e196e4488b38"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38">franka::Robot::Impl::receiveRobotState</a></div><div class="ttdeci">research_interface::robot::RobotState receiveRobotState()</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00132">robot_impl.cpp:132</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a0de2609b63c0f9ab6bab6e7180c021bf_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a0de2609b63c0f9ab6bab6e7180c021bf_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a0de2609b63c0f9ab6bab6e7180c021bf_cgraph" id="classfranka_1_1Robot_1_1Impl_a0de2609b63c0f9ab6bab6e7180c021bf_cgraph">
<area shape="rect" id="node2" href="namespacefranka.html#a0eaee201f8afdb02f6530269cb581cbb" title="franka::convertRobotState" alt="" coords="200,56,392,83"/>
<area shape="rect" id="node6" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38" title="franka::Robot::Impl\l::receiveRobotState" alt="" coords="221,107,371,149"/>
<area shape="rect" id="node3" href="namespacefranka.html#a92a802942d91aff279534b952468dc51" title="franka::combineCenterOfMass" alt="" coords="440,5,659,32"/>
<area shape="rect" id="node4" href="namespacefranka.html#a4be229abc6da1b78167353e5448ea1d5" title="franka::combineInertiaTensor" alt="" coords="443,56,655,83"/>
<area shape="rect" id="node5" href="namespacefranka.html#a503ad33c66091a201a92c1262778d16f" title="franka::skewSymmetricMatrix\lFromVector" alt="" coords="707,49,925,90"/>
<area shape="rect" id="node7" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7" title="franka::Robot::Impl\l::updateState" alt="" coords="476,107,623,149"/>
</map>
</div>

</div>
</div>
<a id="a60b2747318e7c957834c62e83c204fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60b2747318e7c957834c62e83c204fbc">&#9670;&nbsp;</a></span>realtimeConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefranka.html#aeede4f4629390fea21ca5e5a35a8a943">RealtimeConfig</a> franka::Robot::Impl::realtimeConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfranka_1_1RobotControl.html#aca02c0c27b863d4a42e08d541c400832">franka::RobotControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00174">174</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8h_source.html#l00110">realtime_config_</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                        {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfranka_1_1Robot_1_1Impl.html#af740b3f1aca49659f5d81501f3c83cad">realtime_config_</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_af740b3f1aca49659f5d81501f3c83cad"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#af740b3f1aca49659f5d81501f3c83cad">franka::Robot::Impl::realtime_config_</a></div><div class="ttdeci">const RealtimeConfig realtime_config_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00110">robot_impl.h:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15161988fd2644aa2757e196e4488b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15161988fd2644aa2757e196e4488b38">&#9670;&nbsp;</a></span>receiveRobotState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a> franka::Robot::Impl::receiveRobotState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00132">132</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="rbk__types_8h_source.html#l00039">research_interface::robot::RobotState::message_id</a>, <a class="el" href="robot__impl_8h_source.html#l00119">message_id_</a>, <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00156">updateState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00286">cancelMotion()</a>, <a class="el" href="robot__impl_8h_source.html#l00084">handleCommandResponse()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00086">readOnce()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00054">update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                                               {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a> latest_accepted_state;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  latest_accepted_state.<a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html#a803676123685390b8c4d5a3907d16e7c">message_id</a> = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#aed154fce2f3a44a60b7397405974d395">message_id_</a>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// If states are already available on the socket, use the one with the most recent message ID.</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a> received_state{};</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;udpReceive(&amp;received_state)) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">if</span> (received_state.message_id &gt; latest_accepted_state.<a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html#a803676123685390b8c4d5a3907d16e7c">message_id</a>) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      latest_accepted_state = received_state;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// If there was no valid state on the socket, we need to wait.</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">while</span> (latest_accepted_state.<a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html#a803676123685390b8c4d5a3907d16e7c">message_id</a> == <a class="code" href="classfranka_1_1Robot_1_1Impl.html#aed154fce2f3a44a60b7397405974d395">message_id_</a>) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    received_state = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;udpBlockingReceive&lt;decltype(received_state)&gt;();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (received_state.message_id &gt; latest_accepted_state.<a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html#a803676123685390b8c4d5a3907d16e7c">message_id</a>) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      latest_accepted_state = received_state;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7">updateState</a>(latest_accepted_state);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> latest_accepted_state;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a79e762e0bc2fe77fdfe7614963883be7"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7">franka::Robot::Impl::updateState</a></div><div class="ttdeci">void updateState(const research_interface::robot::RobotState &amp;robot_state)</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00156">robot_impl.cpp:156</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotState_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a></div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00038">rbk_types.h:38</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotState_html_a803676123685390b8c4d5a3907d16e7c"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotState.html#a803676123685390b8c4d5a3907d16e7c">research_interface::robot::RobotState::message_id</a></div><div class="ttdeci">uint64_t message_id</div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00039">rbk_types.h:39</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aed154fce2f3a44a60b7397405974d395"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aed154fce2f3a44a60b7397405974d395">franka::Robot::Impl::message_id_</a></div><div class="ttdeci">uint64_t message_id_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00119">robot_impl.h:119</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a15161988fd2644aa2757e196e4488b38_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a15161988fd2644aa2757e196e4488b38_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a15161988fd2644aa2757e196e4488b38_cgraph" id="classfranka_1_1Robot_1_1Impl_a15161988fd2644aa2757e196e4488b38_cgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7" title="franka::Robot::Impl\l::updateState" alt="" coords="203,5,349,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a15161988fd2644aa2757e196e4488b38_icgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a15161988fd2644aa2757e196e4488b38_icgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a15161988fd2644aa2757e196e4488b38_icgraph" id="classfranka_1_1Robot_1_1Impl_a15161988fd2644aa2757e196e4488b38_icgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#a30a3ca95296656edb350c49808c74385" title="franka::Robot::Impl\l::cancelMotion" alt="" coords="231,5,377,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Robot_1_1Impl.html#a939a959d9bb69ad7567d7d3a2aabea3e" title="franka::Robot::Impl\l::handleCommandResponse" alt="" coords="203,71,405,112"/>
<area shape="rect" id="node4" href="classfranka_1_1Robot_1_1Impl.html#a0de2609b63c0f9ab6bab6e7180c021bf" title="franka::Robot::Impl\l::readOnce" alt="" coords="231,136,377,177"/>
<area shape="rect" id="node5" href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd" title="franka::Robot::Impl\l::update" alt="" coords="231,201,377,243"/>
<area shape="rect" id="node6" href="classfranka_1_1Robot_1_1Impl.html#a2f4073ded9e7ecc118a93d233c0f6ed7" title="franka::Robot::Impl\l::startMotion" alt="" coords="453,168,600,209"/>
<area shape="rect" id="node7" href="classfranka_1_1Robot_1_1Impl.html#a024cc4b7994e164a1468b4dd222f80ab" title="franka::Robot::Impl\l::finishMotion" alt="" coords="453,233,600,275"/>
</map>
</div>

</div>
</div>
<a id="a4c927a26f2a6eceb352ce3af49d28c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c927a26f2a6eceb352ce3af49d28c37">&#9670;&nbsp;</a></span>sendRobotCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structresearch__interface_1_1robot_1_1RobotCommand.html">research_interface::robot::RobotCommand</a> franka::Robot::Impl::sendRobotCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html">research_interface::robot::MotionGeneratorCommand</a> *&#160;</td>
          <td class="paramname"><em>motion_command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1ControllerCommand.html">research_interface::robot::ControllerCommand</a> *&#160;</td>
          <td class="paramname"><em>control_command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00095">95</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8h_source.html#l00118">current_move_controller_mode_</a>, <a class="el" href="robot__impl_8h_source.html#l00114">current_move_motion_generator_mode_</a>, <a class="el" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">research_interface::robot::kExternalController</a>, <a class="el" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::kIdle</a>, <a class="el" href="rbk__types_8h_source.html#l00099">research_interface::robot::RobotCommand::message_id</a>, <a class="el" href="robot__impl_8h_source.html#l00119">message_id_</a>, and <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8h_source.html#l00084">handleCommandResponse()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00054">update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                                                           {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="structresearch__interface_1_1robot_1_1RobotCommand.html">research_interface::robot::RobotCommand</a> robot_command{};</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span> (motion_command != <span class="keyword">nullptr</span> || control_command != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    robot_command.<a class="code" href="structresearch__interface_1_1robot_1_1RobotCommand.html#a0a7700d777ee45295f3c9c93c663e225">message_id</a> = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#aed154fce2f3a44a60b7397405974d395">message_id_</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (motion_command != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> ==</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;          <a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a>) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">throw</span> ControlException(</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="stringliteral">&quot;libfranka robot: Trying to send motion command, but no motion generator running!&quot;</span>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      robot_command.motion = *motion_command;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (control_command != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a> !=</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;          <a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">research_interface::robot::ControllerMode::kExternalController</a>) {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">throw</span> ControlException(</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="stringliteral">&quot;libfranka robot: Trying to send control command, but no controller running!&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      robot_command.control = *control_command;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> !=</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a> &amp;&amp;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a> ==</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">research_interface::robot::ControllerMode::kExternalController</a> &amp;&amp;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        (motion_command == <span class="keyword">nullptr</span> || control_command == <span class="keyword">nullptr</span>)) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">throw</span> ControlException(<span class="stringliteral">&quot;libfranka robot: Trying to send partial robot command!&quot;</span>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;udpSend&lt;<a class="code" href="structresearch__interface_1_1robot_1_1RobotCommand.html">research_interface::robot::RobotCommand</a>&gt;(robot_command);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">return</span> robot_command;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div><div class="ttc" id="structresearch__interface_1_1robot_1_1RobotCommand_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotCommand.html">research_interface::robot::RobotCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00098">rbk_types.h:98</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a2fecb29212c55738e284b2ba8249ad5c"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">franka::Robot::Impl::current_move_motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode current_move_motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00114">robot_impl.h:114</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aed154fce2f3a44a60b7397405974d395"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aed154fce2f3a44a60b7397405974d395">franka::Robot::Impl::message_id_</a></div><div class="ttdeci">uint64_t message_id_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00119">robot_impl.h:119</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_ab5d1a7e855dae2453635da08440c375e"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">franka::Robot::Impl::current_move_controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode current_move_controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00118">robot_impl.h:118</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">research_interface::robot::ControllerMode::kExternalController</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotCommand_html_a0a7700d777ee45295f3c9c93c663e225"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotCommand.html#a0a7700d777ee45295f3c9c93c663e225">research_interface::robot::RobotCommand::message_id</a></div><div class="ttdeci">uint64_t message_id</div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00099">rbk_types.h:99</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a4c927a26f2a6eceb352ce3af49d28c37_icgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a4c927a26f2a6eceb352ce3af49d28c37_icgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a4c927a26f2a6eceb352ce3af49d28c37_icgraph" id="classfranka_1_1Robot_1_1Impl_a4c927a26f2a6eceb352ce3af49d28c37_icgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#a939a959d9bb69ad7567d7d3a2aabea3e" title="franka::Robot::Impl\l::handleCommandResponse" alt="" coords="219,5,421,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd" title="franka::Robot::Impl\l::update" alt="" coords="247,71,393,112"/>
<area shape="rect" id="node4" href="classfranka_1_1Robot_1_1Impl.html#a2f4073ded9e7ecc118a93d233c0f6ed7" title="franka::Robot::Impl\l::startMotion" alt="" coords="469,37,616,79"/>
<area shape="rect" id="node5" href="classfranka_1_1Robot_1_1Impl.html#a024cc4b7994e164a1468b4dd222f80ab" title="franka::Robot::Impl\l::finishMotion" alt="" coords="469,103,616,144"/>
</map>
</div>

</div>
</div>
<a id="af10ccd204c0d2f1c3ad5b7fd4f72be92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af10ccd204c0d2f1c3ad5b7fd4f72be92">&#9670;&nbsp;</a></span>serverVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfranka_1_1Robot.html#ad1dd3dccff6f33691d2c66eaa5ac5a10">Robot::ServerVersion</a> franka::Robot::Impl::serverVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00162">162</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8h_source.html#l00111">ri_version_</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                                           {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a9e5d9b45a15e1e23dd09e4d2fe272833">ri_version_</a>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a9e5d9b45a15e1e23dd09e4d2fe272833"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a9e5d9b45a15e1e23dd09e4d2fe272833">franka::Robot::Impl::ri_version_</a></div><div class="ttdeci">uint16_t ri_version_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00111">robot_impl.h:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f4073ded9e7ecc118a93d233c0f6ed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f4073ded9e7ecc118a93d233c0f6ed7">&#9670;&nbsp;</a></span>startMotion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t franka::Robot::Impl::startMotion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structresearch__interface_1_1robot_1_1Move.html#a3e7b80b30bbf01dc902c84402502ebbc">research_interface::robot::Move::ControllerMode</a>&#160;</td>
          <td class="paramname"><em>controller_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structresearch__interface_1_1robot_1_1Move.html#a334b8380507154e8042b57fbd3287c0f">research_interface::robot::Move::MotionGeneratorMode</a>&#160;</td>
          <td class="paramname"><em>motion_generator_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1Move_1_1Deviation.html">research_interface::robot::Move::Deviation</a> &amp;&#160;</td>
          <td class="paramname"><em>maximum_path_deviation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1Move_1_1Deviation.html">research_interface::robot::Move::Deviation</a> &amp;&#160;</td>
          <td class="paramname"><em>maximum_goal_pose_deviation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfranka_1_1RobotControl.html#a4a91a5baea3f7edc7eb094ef8208c065">franka::RobotControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00178">178</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8h_source.html#l00116">controller_mode_</a>, <a class="el" href="robot__impl_8cpp_source.html#l00170">controllerRunning()</a>, <a class="el" href="robot__impl_8h_source.html#l00118">current_move_controller_mode_</a>, <a class="el" href="robot__impl_8h_source.html#l00114">current_move_motion_generator_mode_</a>, <a class="el" href="logger_8cpp_source.html#l00024">franka::Logger::flush()</a>, <a class="el" href="namespacefranka.html#a3e20bc77587e2c0c53598753e3f4816bac2c3f2cf686f3debef77b3049958b488">franka::kCartesianImpedance</a>, <a class="el" href="namespacefranka.html#a3e20bc77587e2c0c53598753e3f4816baa7cd8fc7552b5b9c50684e57f032d724">franka::kJointImpedance</a>, <a class="el" href="robot__impl_8h_source.html#l00108">logger_</a>, <a class="el" href="robot__impl_8h_source.html#l00113">motion_generator_mode_</a>, <a class="el" href="robot__impl_8cpp_source.html#l00166">motionGeneratorRunning()</a>, <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00054">update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                                                             {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252">motionGeneratorRunning</a>() || <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e">controllerRunning</a>()) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">throw</span> ControlException(<span class="stringliteral">&quot;libfranka robot: Attempted to start multiple motions!&quot;</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">switch</span> (motion_generator_mode) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">case</span> decltype(motion_generator_mode)::<a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8a3a31dc92434874cc44c61e876b8bd35f">kJointPosition</a>:</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> =</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          decltype(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a>)::<a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8a3a31dc92434874cc44c61e876b8bd35f">kJointPosition</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">case</span> decltype(motion_generator_mode)::<a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8a729c7783e4ea7890b50022b1194e89d6">kJointVelocity</a>:</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> =</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          decltype(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a>)::<a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8a729c7783e4ea7890b50022b1194e89d6">kJointVelocity</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">case</span> decltype(motion_generator_mode)::<a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8ad05aa68e21654f0d7f3672e6827366b6">kCartesianPosition</a>:</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> =</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          decltype(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a>)::<a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8ad05aa68e21654f0d7f3672e6827366b6">kCartesianPosition</a>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">case</span> decltype(motion_generator_mode)::<a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8ad42e39826eabd261aa1d29c15be8e433">kCartesianVelocity</a>:</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> =</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;          decltype(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a>)::<a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8ad42e39826eabd261aa1d29c15be8e433">kCartesianVelocity</a>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;libfranka: Invalid motion generator mode given.&quot;</span>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">switch</span> (controller_mode) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">case</span> decltype(controller_mode)::<a class="code" href="namespacefranka.html#a3e20bc77587e2c0c53598753e3f4816baa7cd8fc7552b5b9c50684e57f032d724">kJointImpedance</a>:</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a> = decltype(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a>)::<a class="code" href="namespacefranka.html#a3e20bc77587e2c0c53598753e3f4816baa7cd8fc7552b5b9c50684e57f032d724">kJointImpedance</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">case</span> decltype(controller_mode)::<a class="code" href="namespacefranka.html#a3e20bc77587e2c0c53598753e3f4816bac2c3f2cf686f3debef77b3049958b488">kCartesianImpedance</a>:</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a> = decltype(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a>)::<a class="code" href="namespacefranka.html#a3e20bc77587e2c0c53598753e3f4816bac2c3f2cf686f3debef77b3049958b488">kCartesianImpedance</a>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">case</span> decltype(controller_mode)::<a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">kExternalController</a>:</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a> = decltype(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a>)::<a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">kExternalController</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;libfranka robot: Invalid controller mode given.&quot;</span>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keyword">const</span> uint32_t move_command_id = executeCommand&lt;research_interface::robot::Move&gt;(</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      controller_mode, motion_generator_mode, maximum_path_deviation, maximum_goal_pose_deviation);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  RobotState robot_state{};</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">motion_generator_mode_</a> != <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> ||</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;         <a class="code" href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">controller_mode_</a> != <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a>) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;tcpReceiveResponse&lt;<a class="code" href="structresearch__interface_1_1robot_1_1Move.html">research_interface::robot::Move</a>&gt;(</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;              move_command_id,</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;              std::bind(&amp;Robot::Impl::handleCommandResponse&lt;research_interface::robot::Move&gt;, <span class="keyword">this</span>,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        std::placeholders::_1))) {</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> CommandException&amp; e) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">throw</span> ControlException(e.what());</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    robot_state = <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd">update</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">logger_</a>.<a class="code" href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e">flush</a>();</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">return</span> move_command_id;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a961bcad42d2be61ff56b7004498fa8dd"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd">franka::Robot::Impl::update</a></div><div class="ttdeci">RobotState update(const research_interface::robot::MotionGeneratorCommand *motion_command, const research_interface::robot::ControllerCommand *control_command) override</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00054">robot_impl.cpp:54</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_abd2451eb963a1843f1eb066ebd4b06e8ad42e39826eabd261aa1d29c15be8e433"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8ad42e39826eabd261aa1d29c15be8e433">research_interface::robot::MotionGeneratorMode::kCartesianVelocity</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_abd2451eb963a1843f1eb066ebd4b06e8ad05aa68e21654f0d7f3672e6827366b6"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8ad05aa68e21654f0d7f3672e6827366b6">research_interface::robot::MotionGeneratorMode::kCartesianPosition</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_abd2451eb963a1843f1eb066ebd4b06e8a3a31dc92434874cc44c61e876b8bd35f"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8a3a31dc92434874cc44c61e876b8bd35f">research_interface::robot::MotionGeneratorMode::kJointPosition</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_abd2451eb963a1843f1eb066ebd4b06e8a729c7783e4ea7890b50022b1194e89d6"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8a729c7783e4ea7890b50022b1194e89d6">research_interface::robot::MotionGeneratorMode::kJointVelocity</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aa435885c35275fc60b8de90832ae24df"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">franka::Robot::Impl::controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00116">robot_impl.h:116</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a2fecb29212c55738e284b2ba8249ad5c"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">franka::Robot::Impl::current_move_motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode current_move_motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00114">robot_impl.h:114</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aa6b34693c27b529a52f7ea5a607c7252"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252">franka::Robot::Impl::motionGeneratorRunning</a></div><div class="ttdeci">bool motionGeneratorRunning() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00166">robot_impl.cpp:166</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a209c353b4da1c85d3e633cab161a0d39"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">franka::Robot::Impl::motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00113">robot_impl.h:113</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1Move_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1Move.html">research_interface::robot::Move</a></div><div class="ttdef"><b>Definition:</b> <a href="service__types_8h_source.html#l00123">service_types.h:123</a></div></div>
<div class="ttc" id="namespacefranka_html_a3e20bc77587e2c0c53598753e3f4816baa7cd8fc7552b5b9c50684e57f032d724"><div class="ttname"><a href="namespacefranka.html#a3e20bc77587e2c0c53598753e3f4816baa7cd8fc7552b5b9c50684e57f032d724">franka::ControllerMode::kJointImpedance</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_ac2d91fb2b9838536bcea8ab1aae4802e"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e">franka::Robot::Impl::controllerRunning</a></div><div class="ttdeci">bool controllerRunning() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00170">robot_impl.cpp:170</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a404078ee04a4786f61d991b71d2dc1ff"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">franka::Robot::Impl::logger_</a></div><div class="ttdeci">Logger logger_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00108">robot_impl.h:108</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_ab5d1a7e855dae2453635da08440c375e"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">franka::Robot::Impl::current_move_controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode current_move_controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00118">robot_impl.h:118</a></div></div>
<div class="ttc" id="namespacefranka_html_a3e20bc77587e2c0c53598753e3f4816bac2c3f2cf686f3debef77b3049958b488"><div class="ttname"><a href="namespacefranka.html#a3e20bc77587e2c0c53598753e3f4816bac2c3f2cf686f3debef77b3049958b488">franka::ControllerMode::kCartesianImpedance</a></div></div>
<div class="ttc" id="namespaceresearch__interface_1_1robot_html_a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe"><div class="ttname"><a href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213aae18ec698c6d2260b411166de51e86fe">research_interface::robot::ControllerMode::kExternalController</a></div></div>
<div class="ttc" id="classfranka_1_1Logger_html_a44b15a95e25dabe93f797c1d9651fb6e"><div class="ttname"><a href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e">franka::Logger::flush</a></div><div class="ttdeci">std::vector&lt; franka::Record &gt; flush()</div><div class="ttdef"><b>Definition:</b> <a href="logger_8cpp_source.html#l00024">logger.cpp:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a2f4073ded9e7ecc118a93d233c0f6ed7_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a2f4073ded9e7ecc118a93d233c0f6ed7_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a2f4073ded9e7ecc118a93d233c0f6ed7_cgraph" id="classfranka_1_1Robot_1_1Impl_a2f4073ded9e7ecc118a93d233c0f6ed7_cgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#ac2d91fb2b9838536bcea8ab1aae4802e" title="franka::Robot::Impl\l::controllerRunning" alt="" coords="223,5,370,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e" title="franka::Logger::flush" alt="" coords="219,71,374,98"/>
<area shape="rect" id="node5" href="classfranka_1_1Robot_1_1Impl.html#aa6b34693c27b529a52f7ea5a607c7252" title="franka::Robot::Impl\l::motionGeneratorRunning" alt="" coords="200,123,393,164"/>
<area shape="rect" id="node6" href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd" title="franka::Robot::Impl\l::update" alt="" coords="223,188,370,229"/>
<area shape="rect" id="node4" href="classfranka_1_1Logger.html#aee4bfea6a4081c4ed9ee2abd2f62a0cd" title="franka::Logger::log" alt="" coords="465,74,609,101"/>
<area shape="rect" id="node7" href="classfranka_1_1Robot_1_1Impl.html#a4c927a26f2a6eceb352ce3af49d28c37" title="franka::Robot::Impl\l::sendRobotCommand" alt="" coords="455,129,620,171"/>
<area shape="rect" id="node8" href="namespacefranka.html#a0eaee201f8afdb02f6530269cb581cbb" title="franka::convertRobotState" alt="" coords="441,195,633,222"/>
<area shape="rect" id="node12" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38" title="franka::Robot::Impl\l::receiveRobotState" alt="" coords="463,247,612,288"/>
<area shape="rect" id="node9" href="namespacefranka.html#a92a802942d91aff279534b952468dc51" title="franka::combineCenterOfMass" alt="" coords="681,145,900,171"/>
<area shape="rect" id="node10" href="namespacefranka.html#a4be229abc6da1b78167353e5448ea1d5" title="franka::combineInertiaTensor" alt="" coords="685,195,897,222"/>
<area shape="rect" id="node11" href="namespacefranka.html#a503ad33c66091a201a92c1262778d16f" title="franka::skewSymmetricMatrix\lFromVector" alt="" coords="948,188,1167,229"/>
<area shape="rect" id="node13" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7" title="franka::Robot::Impl\l::updateState" alt="" coords="717,247,864,288"/>
</map>
</div>

</div>
</div>
<a id="ace3373a95db9754ab9df732d9b1dd1f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace3373a95db9754ab9df732d9b1dd1f6">&#9670;&nbsp;</a></span>throwOnMotionError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void franka::Robot::Impl::throwOnMotionError </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfranka_1_1RobotState.html">RobotState</a> &amp;&#160;</td>
          <td class="paramname"><em>robot_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>motion_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfranka_1_1RobotControl.html#a796e9fb049ffc36ea44bec85f24e2fe4">franka::RobotControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00068">68</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8h_source.html#l00116">controller_mode_</a>, <a class="el" href="robot__impl_8cpp_source.html#l00013">franka::anonymous_namespace{robot_impl.cpp}::createControlException()</a>, <a class="el" href="robot__impl_8h_source.html#l00118">current_move_controller_mode_</a>, <a class="el" href="robot__impl_8h_source.html#l00114">current_move_motion_generator_mode_</a>, <a class="el" href="logger_8cpp_source.html#l00024">franka::Logger::flush()</a>, <a class="el" href="namespacefranka.html#adfe059ae23ebbad59e421edaa879651aae54c7412401b5e36c1c254e6fb17a3dd">franka::kMove</a>, <a class="el" href="robot__state_8h_source.html#l00320">franka::RobotState::last_motion_errors</a>, <a class="el" href="robot__impl_8h_source.html#l00108">logger_</a>, <a class="el" href="robot__impl_8h_source.html#l00113">motion_generator_mode_</a>, <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>, and <a class="el" href="robot__state_8h_source.html#l00334">franka::RobotState::robot_mode</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                                                                    {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">if</span> (robot_state.robot_mode != <a class="code" href="namespacefranka.html#adfe059ae23ebbad59e421edaa879651aae54c7412401b5e36c1c254e6fb17a3dd">RobotMode::kMove</a> ||</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">motion_generator_mode_</a> != <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">current_move_motion_generator_mode_</a> ||</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">controller_mode_</a> != <a class="code" href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">current_move_controller_mode_</a>) {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// We detect a move error by changes in the robot state and we will receive a TCP response to</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// the Move command.</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">auto</span> response =</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;tcpBlockingReceiveResponse&lt;<a class="code" href="structresearch__interface_1_1robot_1_1Move.html">research_interface::robot::Move</a>&gt;(motion_id);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">try</span> {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      handleCommandResponse&lt;research_interface::robot::Move&gt;(response);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> CommandException&amp; e) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03.html#ad774a35737682bade54336046f9d09b2">createControlException</a>(e.what(), response.status, robot_state.last_motion_errors,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                   <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">logger_</a>.<a class="code" href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e">flush</a>());</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">throw</span> ProtocolException(<span class="stringliteral">&quot;Unexpected reply to a Move command&quot;</span>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aa435885c35275fc60b8de90832ae24df"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">franka::Robot::Impl::controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00116">robot_impl.h:116</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a2fecb29212c55738e284b2ba8249ad5c"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a2fecb29212c55738e284b2ba8249ad5c">franka::Robot::Impl::current_move_motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode current_move_motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00114">robot_impl.h:114</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a209c353b4da1c85d3e633cab161a0d39"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">franka::Robot::Impl::motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00113">robot_impl.h:113</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1Move_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1Move.html">research_interface::robot::Move</a></div><div class="ttdef"><b>Definition:</b> <a href="service__types_8h_source.html#l00123">service_types.h:123</a></div></div>
<div class="ttc" id="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03_html_ad774a35737682bade54336046f9d09b2"><div class="ttname"><a href="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03.html#ad774a35737682bade54336046f9d09b2">franka::anonymous_namespace{robot_impl.cpp}::createControlException</a></div><div class="ttdeci">ControlException createControlException(const char *message, research_interface::robot::Move::Status move_status, const Errors &amp;reflex_errors, const std::vector&lt; Record &gt; &amp;log)</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00013">robot_impl.cpp:13</a></div></div>
<div class="ttc" id="namespacefranka_html_adfe059ae23ebbad59e421edaa879651aae54c7412401b5e36c1c254e6fb17a3dd"><div class="ttname"><a href="namespacefranka.html#adfe059ae23ebbad59e421edaa879651aae54c7412401b5e36c1c254e6fb17a3dd">franka::RobotMode::kMove</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a404078ee04a4786f61d991b71d2dc1ff"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">franka::Robot::Impl::logger_</a></div><div class="ttdeci">Logger logger_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00108">robot_impl.h:108</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_ab5d1a7e855dae2453635da08440c375e"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#ab5d1a7e855dae2453635da08440c375e">franka::Robot::Impl::current_move_controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode current_move_controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00118">robot_impl.h:118</a></div></div>
<div class="ttc" id="classfranka_1_1Logger_html_a44b15a95e25dabe93f797c1d9651fb6e"><div class="ttname"><a href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e">franka::Logger::flush</a></div><div class="ttdeci">std::vector&lt; franka::Record &gt; flush()</div><div class="ttdef"><b>Definition:</b> <a href="logger_8cpp_source.html#l00024">logger.cpp:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_ace3373a95db9754ab9df732d9b1dd1f6_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_ace3373a95db9754ab9df732d9b1dd1f6_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_ace3373a95db9754ab9df732d9b1dd1f6_cgraph" id="classfranka_1_1Robot_1_1Impl_ace3373a95db9754ab9df732d9b1dd1f6_cgraph">
<area shape="rect" id="node2" href="namespacefranka_1_1anonymous__namespace_02robot__impl_8cpp_03.html#ad774a35737682bade54336046f9d09b2" title="franka::anonymous_namespace\l\{robot_impl::cpp\}::createControl\lException" alt="" coords="213,5,448,61"/>
<area shape="rect" id="node3" href="classfranka_1_1Logger.html#a44b15a95e25dabe93f797c1d9651fb6e" title="franka::Logger::flush" alt="" coords="253,85,408,112"/>
<area shape="rect" id="node4" href="classfranka_1_1Logger.html#aee4bfea6a4081c4ed9ee2abd2f62a0cd" title="franka::Logger::log" alt="" coords="496,85,640,112"/>
</map>
</div>

</div>
</div>
<a id="a961bcad42d2be61ff56b7004498fa8dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961bcad42d2be61ff56b7004498fa8dd">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfranka_1_1RobotState.html">RobotState</a> franka::Robot::Impl::update </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1MotionGeneratorCommand.html">research_interface::robot::MotionGeneratorCommand</a> *&#160;</td>
          <td class="paramname"><em>motion_command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1ControllerCommand.html">research_interface::robot::ControllerCommand</a> *&#160;</td>
          <td class="paramname"><em>control_command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classfranka_1_1RobotControl.html#a5b581e84547a76ad1600158345cfd40d">franka::RobotControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00054">54</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="robot__impl_8cpp_source.html#l00309">franka::convertRobotState()</a>, <a class="el" href="logger_8cpp_source.html#l00012">franka::Logger::log()</a>, <a class="el" href="robot__impl_8h_source.html#l00108">logger_</a>, <a class="el" href="robot__impl_8h_source.html#l00106">network_</a>, <a class="el" href="robot__impl_8cpp_source.html#l00132">receiveRobotState()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00095">sendRobotCommand()</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00247">finishMotion()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                                                     {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">network_</a>-&gt;tcpThrowIfConnectionClosed();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="structresearch__interface_1_1robot_1_1RobotCommand.html">research_interface::robot::RobotCommand</a> robot_command =</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a4c927a26f2a6eceb352ce3af49d28c37">sendRobotCommand</a>(motion_command, control_command);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  RobotState state = <a class="code" href="namespacefranka.html#a0eaee201f8afdb02f6530269cb581cbb">convertRobotState</a>(<a class="code" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38">receiveRobotState</a>());</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">logger_</a>.<a class="code" href="classfranka_1_1Logger.html#aee4bfea6a4081c4ed9ee2abd2f62a0cd">log</a>(state, robot_command);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">return</span> state;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="ttc" id="classfranka_1_1Logger_html_aee4bfea6a4081c4ed9ee2abd2f62a0cd"><div class="ttname"><a href="classfranka_1_1Logger.html#aee4bfea6a4081c4ed9ee2abd2f62a0cd">franka::Logger::log</a></div><div class="ttdeci">void log(const RobotState &amp;state, const research_interface::robot::RobotCommand &amp;command)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8cpp_source.html#l00012">logger.cpp:12</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotCommand_html"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotCommand.html">research_interface::robot::RobotCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00098">rbk_types.h:98</a></div></div>
<div class="ttc" id="namespacefranka_html_a0eaee201f8afdb02f6530269cb581cbb"><div class="ttname"><a href="namespacefranka.html#a0eaee201f8afdb02f6530269cb581cbb">franka::convertRobotState</a></div><div class="ttdeci">RobotState convertRobotState(const research_interface::robot::RobotState &amp;robot_state) noexcept</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00309">robot_impl.cpp:309</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a15161988fd2644aa2757e196e4488b38"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38">franka::Robot::Impl::receiveRobotState</a></div><div class="ttdeci">research_interface::robot::RobotState receiveRobotState()</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00132">robot_impl.cpp:132</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_acecf3b158ccd1c2ed7e76971f1e6a192"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#acecf3b158ccd1c2ed7e76971f1e6a192">franka::Robot::Impl::network_</a></div><div class="ttdeci">std::unique_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00106">robot_impl.h:106</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a404078ee04a4786f61d991b71d2dc1ff"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a404078ee04a4786f61d991b71d2dc1ff">franka::Robot::Impl::logger_</a></div><div class="ttdeci">Logger logger_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00108">robot_impl.h:108</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a4c927a26f2a6eceb352ce3af49d28c37"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a4c927a26f2a6eceb352ce3af49d28c37">franka::Robot::Impl::sendRobotCommand</a></div><div class="ttdeci">research_interface::robot::RobotCommand sendRobotCommand(const research_interface::robot::MotionGeneratorCommand *motion_command, const research_interface::robot::ControllerCommand *control_command) const</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8cpp_source.html#l00095">robot_impl.cpp:95</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a961bcad42d2be61ff56b7004498fa8dd_cgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a961bcad42d2be61ff56b7004498fa8dd_cgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a961bcad42d2be61ff56b7004498fa8dd_cgraph" id="classfranka_1_1Robot_1_1Impl_a961bcad42d2be61ff56b7004498fa8dd_cgraph">
<area shape="rect" id="node2" href="namespacefranka.html#a0eaee201f8afdb02f6530269cb581cbb" title="franka::convertRobotState" alt="" coords="200,31,392,57"/>
<area shape="rect" id="node6" href="classfranka_1_1Logger.html#aee4bfea6a4081c4ed9ee2abd2f62a0cd" title="franka::Logger::log" alt="" coords="224,81,368,108"/>
<area shape="rect" id="node7" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38" title="franka::Robot::Impl\l::receiveRobotState" alt="" coords="221,133,371,174"/>
<area shape="rect" id="node9" href="classfranka_1_1Robot_1_1Impl.html#a4c927a26f2a6eceb352ce3af49d28c37" title="franka::Robot::Impl\l::sendRobotCommand" alt="" coords="213,198,379,239"/>
<area shape="rect" id="node3" href="namespacefranka.html#a92a802942d91aff279534b952468dc51" title="franka::combineCenterOfMass" alt="" coords="440,5,659,32"/>
<area shape="rect" id="node4" href="namespacefranka.html#a4be229abc6da1b78167353e5448ea1d5" title="franka::combineInertiaTensor" alt="" coords="443,56,655,83"/>
<area shape="rect" id="node5" href="namespacefranka.html#a503ad33c66091a201a92c1262778d16f" title="franka::skewSymmetricMatrix\lFromVector" alt="" coords="707,49,925,90"/>
<area shape="rect" id="node8" href="classfranka_1_1Robot_1_1Impl.html#a79e762e0bc2fe77fdfe7614963883be7" title="franka::Robot::Impl\l::updateState" alt="" coords="476,133,623,174"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a961bcad42d2be61ff56b7004498fa8dd_icgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a961bcad42d2be61ff56b7004498fa8dd_icgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a961bcad42d2be61ff56b7004498fa8dd_icgraph" id="classfranka_1_1Robot_1_1Impl_a961bcad42d2be61ff56b7004498fa8dd_icgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#a024cc4b7994e164a1468b4dd222f80ab" title="franka::Robot::Impl\l::finishMotion" alt="" coords="200,5,347,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Robot_1_1Impl.html#a2f4073ded9e7ecc118a93d233c0f6ed7" title="franka::Robot::Impl\l::startMotion" alt="" coords="200,71,347,112"/>
</map>
</div>

</div>
</div>
<a id="a79e762e0bc2fe77fdfe7614963883be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e762e0bc2fe77fdfe7614963883be7">&#9670;&nbsp;</a></span>updateState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void franka::Robot::Impl::updateState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structresearch__interface_1_1robot_1_1RobotState.html">research_interface::robot::RobotState</a> &amp;&#160;</td>
          <td class="paramname"><em>robot_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8cpp_source.html#l00156">156</a> of file <a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a>.</p>

<p class="reference">References <a class="el" href="rbk__types_8h_source.html#l00077">research_interface::robot::RobotState::controller_mode</a>, <a class="el" href="robot__impl_8h_source.html#l00116">controller_mode_</a>, <a class="el" href="rbk__types_8h_source.html#l00039">research_interface::robot::RobotState::message_id</a>, <a class="el" href="robot__impl_8h_source.html#l00119">message_id_</a>, <a class="el" href="rbk__types_8h_source.html#l00076">research_interface::robot::RobotState::motion_generator_mode</a>, and <a class="el" href="robot__impl_8h_source.html#l00113">motion_generator_mode_</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8h_source.html#l00084">handleCommandResponse()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00043">Impl()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00132">receiveRobotState()</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                                                                {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">motion_generator_mode_</a> = robot_state.<a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html#acc1b53a916cd01f1ad39924df4487ec4">motion_generator_mode</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">controller_mode_</a> = robot_state.<a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html#a1f198a1ead6a28ed3c0481468597eb53">controller_mode</a>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classfranka_1_1Robot_1_1Impl.html#aed154fce2f3a44a60b7397405974d395">message_id_</a> = robot_state.<a class="code" href="structresearch__interface_1_1robot_1_1RobotState.html#a803676123685390b8c4d5a3907d16e7c">message_id</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div><div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aa435885c35275fc60b8de90832ae24df"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aa435885c35275fc60b8de90832ae24df">franka::Robot::Impl::controller_mode_</a></div><div class="ttdeci">research_interface::robot::ControllerMode controller_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00116">robot_impl.h:116</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_a209c353b4da1c85d3e633cab161a0d39"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#a209c353b4da1c85d3e633cab161a0d39">franka::Robot::Impl::motion_generator_mode_</a></div><div class="ttdeci">research_interface::robot::MotionGeneratorMode motion_generator_mode_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00113">robot_impl.h:113</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotState_html_a803676123685390b8c4d5a3907d16e7c"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotState.html#a803676123685390b8c4d5a3907d16e7c">research_interface::robot::RobotState::message_id</a></div><div class="ttdeci">uint64_t message_id</div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00039">rbk_types.h:39</a></div></div>
<div class="ttc" id="classfranka_1_1Robot_1_1Impl_html_aed154fce2f3a44a60b7397405974d395"><div class="ttname"><a href="classfranka_1_1Robot_1_1Impl.html#aed154fce2f3a44a60b7397405974d395">franka::Robot::Impl::message_id_</a></div><div class="ttdeci">uint64_t message_id_</div><div class="ttdef"><b>Definition:</b> <a href="robot__impl_8h_source.html#l00119">robot_impl.h:119</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotState_html_a1f198a1ead6a28ed3c0481468597eb53"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotState.html#a1f198a1ead6a28ed3c0481468597eb53">research_interface::robot::RobotState::controller_mode</a></div><div class="ttdeci">ControllerMode controller_mode</div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00077">rbk_types.h:77</a></div></div>
<div class="ttc" id="structresearch__interface_1_1robot_1_1RobotState_html_acc1b53a916cd01f1ad39924df4487ec4"><div class="ttname"><a href="structresearch__interface_1_1robot_1_1RobotState.html#acc1b53a916cd01f1ad39924df4487ec4">research_interface::robot::RobotState::motion_generator_mode</a></div><div class="ttdeci">MotionGeneratorMode motion_generator_mode</div><div class="ttdef"><b>Definition:</b> <a href="rbk__types_8h_source.html#l00076">rbk_types.h:76</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfranka_1_1Robot_1_1Impl_a79e762e0bc2fe77fdfe7614963883be7_icgraph.png" border="0" usemap="#classfranka_1_1Robot_1_1Impl_a79e762e0bc2fe77fdfe7614963883be7_icgraph" alt=""/></div>
<map name="classfranka_1_1Robot_1_1Impl_a79e762e0bc2fe77fdfe7614963883be7_icgraph" id="classfranka_1_1Robot_1_1Impl_a79e762e0bc2fe77fdfe7614963883be7_icgraph">
<area shape="rect" id="node2" href="classfranka_1_1Robot_1_1Impl.html#a939a959d9bb69ad7567d7d3a2aabea3e" title="franka::Robot::Impl\l::handleCommandResponse" alt="" coords="397,5,600,47"/>
<area shape="rect" id="node3" href="classfranka_1_1Robot_1_1Impl.html#a091452543a9ef4ce4e347911bc14fbc1" title="franka::Robot::Impl\l::Impl" alt="" coords="201,64,348,105"/>
<area shape="rect" id="node4" href="classfranka_1_1Robot_1_1Impl.html#a15161988fd2644aa2757e196e4488b38" title="franka::Robot::Impl\l::receiveRobotState" alt="" coords="200,129,349,171"/>
<area shape="rect" id="node5" href="classfranka_1_1Robot_1_1Impl.html#a30a3ca95296656edb350c49808c74385" title="franka::Robot::Impl\l::cancelMotion" alt="" coords="425,71,572,112"/>
<area shape="rect" id="node6" href="classfranka_1_1Robot_1_1Impl.html#a0de2609b63c0f9ab6bab6e7180c021bf" title="franka::Robot::Impl\l::readOnce" alt="" coords="425,136,572,177"/>
<area shape="rect" id="node7" href="classfranka_1_1Robot_1_1Impl.html#a961bcad42d2be61ff56b7004498fa8dd" title="franka::Robot::Impl\l::update" alt="" coords="425,201,572,243"/>
<area shape="rect" id="node8" href="classfranka_1_1Robot_1_1Impl.html#a024cc4b7994e164a1468b4dd222f80ab" title="franka::Robot::Impl\l::finishMotion" alt="" coords="648,168,795,209"/>
<area shape="rect" id="node9" href="classfranka_1_1Robot_1_1Impl.html#a2f4073ded9e7ecc118a93d233c0f6ed7" title="franka::Robot::Impl\l::startMotion" alt="" coords="648,233,795,275"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa435885c35275fc60b8de90832ae24df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa435885c35275fc60b8de90832ae24df">&#9670;&nbsp;</a></span>controller_mode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213">research_interface::robot::ControllerMode</a> franka::Robot::Impl::controller_mode_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">      <a class="code" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213a341b8a8f03cf33821c46aa5c3aad4b7a">research_interface::robot::ControllerMode::kOther</a></div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00116">116</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00170">controllerRunning()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00068">throwOnMotionError()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00156">updateState()</a>.</p>

</div>
</div>
<a id="ab5d1a7e855dae2453635da08440c375e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5d1a7e855dae2453635da08440c375e">&#9670;&nbsp;</a></span>current_move_controller_mode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceresearch__interface_1_1robot.html#a54ee0c8bfefd2ee8a46837ca6d2b1213">research_interface::robot::ControllerMode</a> franka::Robot::Impl::current_move_controller_mode_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00118">118</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00286">cancelMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00247">finishMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00095">sendRobotCommand()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00068">throwOnMotionError()</a>.</p>

</div>
</div>
<a id="a2fecb29212c55738e284b2ba8249ad5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fecb29212c55738e284b2ba8249ad5c">&#9670;&nbsp;</a></span>current_move_motion_generator_mode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8">research_interface::robot::MotionGeneratorMode</a> franka::Robot::Impl::current_move_motion_generator_mode_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">      <a class="code" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8af5137a026a4b2f3b1c8a21cfc60dd14b">research_interface::robot::MotionGeneratorMode::kIdle</a></div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00114">114</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00286">cancelMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00247">finishMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00095">sendRobotCommand()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00068">throwOnMotionError()</a>.</p>

</div>
</div>
<a id="a404078ee04a4786f61d991b71d2dc1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a404078ee04a4786f61d991b71d2dc1ff">&#9670;&nbsp;</a></span>logger_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfranka_1_1Logger.html">Logger</a> franka::Robot::Impl::logger_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00108">108</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00247">finishMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00043">Impl()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00068">throwOnMotionError()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00054">update()</a>.</p>

</div>
</div>
<a id="aed154fce2f3a44a60b7397405974d395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed154fce2f3a44a60b7397405974d395">&#9670;&nbsp;</a></span>message_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t franka::Robot::Impl::message_id_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00119">119</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00132">receiveRobotState()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00095">sendRobotCommand()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00156">updateState()</a>.</p>

</div>
</div>
<a id="a209c353b4da1c85d3e633cab161a0d39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209c353b4da1c85d3e633cab161a0d39">&#9670;&nbsp;</a></span>motion_generator_mode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceresearch__interface_1_1robot.html#abd2451eb963a1843f1eb066ebd4b06e8">research_interface::robot::MotionGeneratorMode</a> franka::Robot::Impl::motion_generator_mode_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00113">113</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00166">motionGeneratorRunning()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00068">throwOnMotionError()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00156">updateState()</a>.</p>

</div>
</div>
<a id="acecf3b158ccd1c2ed7e76971f1e6a192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acecf3b158ccd1c2ed7e76971f1e6a192">&#9670;&nbsp;</a></span>network_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classfranka_1_1Network.html">Network</a>&gt; franka::Robot::Impl::network_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00106">106</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00286">cancelMotion()</a>, <a class="el" href="robot__impl_8h_source.html#l00265">executeCommand()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00247">finishMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00043">Impl()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00305">loadModel()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00086">readOnce()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00132">receiveRobotState()</a>, <a class="el" href="robot__impl_8h_source.html#l00274">franka::Robot::Impl::executeCommand&lt; research_interface::robot::GetCartesianLimit, int32_t, VirtualWallCuboid * &gt;()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00095">sendRobotCommand()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00178">startMotion()</a>, <a class="el" href="robot__impl_8cpp_source.html#l00068">throwOnMotionError()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00054">update()</a>.</p>

</div>
</div>
<a id="af740b3f1aca49659f5d81501f3c83cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af740b3f1aca49659f5d81501f3c83cad">&#9670;&nbsp;</a></span>realtime_config_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefranka.html#aeede4f4629390fea21ca5e5a35a8a943">RealtimeConfig</a> franka::Robot::Impl::realtime_config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00110">110</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00043">Impl()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00174">realtimeConfig()</a>.</p>

</div>
</div>
<a id="a9e5d9b45a15e1e23dd09e4d2fe272833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5d9b45a15e1e23dd09e4d2fe272833">&#9670;&nbsp;</a></span>ri_version_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t franka::Robot::Impl::ri_version_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="robot__impl_8h_source.html#l00111">111</a> of file <a class="el" href="robot__impl_8h_source.html">robot_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="robot__impl_8cpp_source.html#l00043">Impl()</a>, and <a class="el" href="robot__impl_8cpp_source.html#l00162">serverVersion()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>smacc_sm_reference_library/sm_panda_moveit/libfranka/src/<a class="el" href="robot__impl_8h_source.html">robot_impl.h</a></li>
<li>smacc_sm_reference_library/sm_panda_moveit/libfranka/src/<a class="el" href="robot__impl_8cpp_source.html">robot_impl.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
