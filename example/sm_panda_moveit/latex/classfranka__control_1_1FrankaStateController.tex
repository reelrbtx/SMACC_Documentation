\hypertarget{classfranka__control_1_1FrankaStateController}{}\section{franka\+\_\+control\+:\+:Franka\+State\+Controller Class Reference}
\label{classfranka__control_1_1FrankaStateController}\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}


{\ttfamily \#include $<$franka\+\_\+state\+\_\+controller.\+h$>$}



Inheritance diagram for franka\+\_\+control\+:\+:Franka\+State\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=277pt]{classfranka__control_1_1FrankaStateController__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for franka\+\_\+control\+:\+:Franka\+State\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classfranka__control_1_1FrankaStateController_a6207d8555975e26ed6a3cfcbb40c7397}{Franka\+State\+Controller} ()=default
\item 
\hyperlink{classbool}{bool} \hyperlink{classfranka__control_1_1FrankaStateController_aa8929333f04012a8b1b9049a5264e157}{init} (hardware\+\_\+interface\+::\+Robot\+HW $\ast$robot\+\_\+hardware, ros\+::\+Node\+Handle \&root\+\_\+node\+\_\+handle, ros\+::\+Node\+Handle \&controller\+\_\+node\+\_\+handle) override
\item 
void \hyperlink{classfranka__control_1_1FrankaStateController_ad7a282e355860395576ff4d116bbbb7b}{update} (const ros\+::\+Time \&time, const ros\+::\+Duration \&period) override
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classfranka__control_1_1FrankaStateController_a70977857f43faff9127db1ebfeddc1b5}{publish\+Franka\+States} (const ros\+::\+Time \&time)
\item 
void \hyperlink{classfranka__control_1_1FrankaStateController_a37c67130a3359cb9cffa6af4a207615e}{publish\+Joint\+States} (const ros\+::\+Time \&time)
\item 
void \hyperlink{classfranka__control_1_1FrankaStateController_abcab70ff196a1751f625bc14a789ca82}{publish\+Transforms} (const ros\+::\+Time \&time)
\item 
void \hyperlink{classfranka__control_1_1FrankaStateController_a16421a8f95eb59bb9e94e4f011e33cb2}{publish\+External\+Wrench} (const ros\+::\+Time \&time)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\+\_\+id\+\_\+}
\item 
\hyperlink{classfranka__hw_1_1FrankaStateInterface}{franka\+\_\+hw\+::\+Franka\+State\+Interface} $\ast$ \hyperlink{classfranka__control_1_1FrankaStateController_a3691177b860e7ea1bcaa323ccdfa86d0}{franka\+\_\+state\+\_\+interface\+\_\+} \{\}
\item 
std\+::unique\+\_\+ptr$<$ \hyperlink{classfranka__hw_1_1FrankaStateHandle}{franka\+\_\+hw\+::\+Franka\+State\+Handle} $>$ \hyperlink{classfranka__control_1_1FrankaStateController_a7f665b5f5fda44bcfa5f0703806d0048}{franka\+\_\+state\+\_\+handle\+\_\+} \{\}
\item 
realtime\+\_\+tools\+::\+Realtime\+Publisher$<$ tf2\+\_\+msgs\+::\+T\+F\+Message $>$ \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\+\_\+transforms\+\_\+}
\item 
realtime\+\_\+tools\+::\+Realtime\+Publisher$<$ franka\+\_\+msgs\+::\+Franka\+State $>$ \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\+\_\+franka\+\_\+states\+\_\+}
\item 
realtime\+\_\+tools\+::\+Realtime\+Publisher$<$ sensor\+\_\+msgs\+::\+Joint\+State $>$ \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\+\_\+joint\+\_\+states\+\_\+}
\item 
realtime\+\_\+tools\+::\+Realtime\+Publisher$<$ sensor\+\_\+msgs\+::\+Joint\+State $>$ \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+}
\item 
realtime\+\_\+tools\+::\+Realtime\+Publisher$<$ geometry\+\_\+msgs\+::\+Wrench\+Stamped $>$ \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\+\_\+external\+\_\+wrench\+\_\+}
\item 
\hyperlink{classfranka__hw_1_1TriggerRate}{franka\+\_\+hw\+::\+Trigger\+Rate} \hyperlink{classfranka__control_1_1FrankaStateController_a1c903d6812d02a29796d64b0fc3eb51d}{trigger\+\_\+publish\+\_\+}
\item 
\hyperlink{structfranka_1_1RobotState}{franka\+::\+Robot\+State} \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\+\_\+state\+\_\+}
\item 
uint64\+\_\+t \hyperlink{classfranka__control_1_1FrankaStateController_ae36c62620e0099ce91976548bf51f240}{sequence\+\_\+number\+\_\+} = 0
\item 
std\+::vector$<$ std\+::string $>$ \hyperlink{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}{joint\+\_\+names\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Controller to publish the robot state as R\+OS topics. 

Definition at line 23 of file franka\+\_\+state\+\_\+controller.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a6207d8555975e26ed6a3cfcbb40c7397}\label{classfranka__control_1_1FrankaStateController_a6207d8555975e26ed6a3cfcbb40c7397}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!Franka\+State\+Controller@{Franka\+State\+Controller}}
\index{Franka\+State\+Controller@{Franka\+State\+Controller}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{Franka\+State\+Controller()}{FrankaStateController()}}
{\footnotesize\ttfamily franka\+\_\+control\+::\+Franka\+State\+Controller\+::\+Franka\+State\+Controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

Creates an instance of a \hyperlink{classfranka__control_1_1FrankaStateController}{Franka\+State\+Controller}. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_aa8929333f04012a8b1b9049a5264e157}\label{classfranka__control_1_1FrankaStateController_aa8929333f04012a8b1b9049a5264e157}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!init@{init}}
\index{init@{init}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} franka\+\_\+control\+::\+Franka\+State\+Controller\+::init (\begin{DoxyParamCaption}\item[{hardware\+\_\+interface\+::\+Robot\+HW $\ast$}]{robot\+\_\+hardware,  }\item[{ros\+::\+Node\+Handle \&}]{root\+\_\+node\+\_\+handle,  }\item[{ros\+::\+Node\+Handle \&}]{controller\+\_\+node\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}

Initializes the controller with interfaces and publishers.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em robot\+\_\+hardware} & Robot\+HW instance to get a \hyperlink{classfranka__hw_1_1FrankaStateInterface}{franka\+\_\+hw\+::\+Franka\+State\+Interface} from. \\
\hline
\mbox{\tt in}  & {\em root\+\_\+node\+\_\+handle} & Node handle in the controller\+\_\+manager namespace. \\
\hline
\mbox{\tt in}  & {\em controller\+\_\+node\+\_\+handle} & Node handle in the controller namespace. \\
\hline
\end{DoxyParams}


Definition at line 138 of file franka\+\_\+state\+\_\+controller.\+cpp.



References arm\+\_\+id\+\_\+, franka\+::\+Robot\+State\+::dq, franka\+::\+Robot\+State\+::dq\+\_\+d, franka\+\_\+state\+\_\+handle\+\_\+, franka\+\_\+state\+\_\+interface\+\_\+, joint\+\_\+names\+\_\+, publisher\+\_\+external\+\_\+wrench\+\_\+, publisher\+\_\+franka\+\_\+states\+\_\+, publisher\+\_\+joint\+\_\+states\+\_\+, publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+, publisher\+\_\+transforms\+\_\+, franka\+::\+Robot\+State\+::q, franka\+::\+Robot\+State\+::q\+\_\+d, robot\+\_\+state\+\_\+, franka\+::\+Robot\+State\+::tau\+\_\+J, franka\+::\+Robot\+State\+::tau\+\_\+\+J\+\_\+d, and trigger\+\_\+publish\+\_\+.


\begin{DoxyCode}
140                                                                         \{
141   \hyperlink{classfranka__control_1_1FrankaStateController_a3691177b860e7ea1bcaa323ccdfa86d0}{franka\_state\_interface\_} = robot\_hardware->get<
      \hyperlink{classfranka__hw_1_1FrankaStateInterface}{franka\_hw::FrankaStateInterface}>();
142   \textcolor{keywordflow}{if} (\hyperlink{classfranka__control_1_1FrankaStateController_a3691177b860e7ea1bcaa323ccdfa86d0}{franka\_state\_interface\_} == \textcolor{keyword}{nullptr}) \{
143     ROS\_ERROR(\textcolor{stringliteral}{"FrankaStateController: Could not get Franka state interface from hardware"});
144     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
145   \}
146   \textcolor{keywordflow}{if} (!controller\_node\_handle.getParam(\textcolor{stringliteral}{"arm\_id"}, \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_})) \{
147     ROS\_ERROR(\textcolor{stringliteral}{"FrankaStateController: Could not get parameter arm\_id"});
148     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
149   \}
150   \textcolor{keywordtype}{double} publish\_rate(30.0);
151   \textcolor{keywordflow}{if} (!controller\_node\_handle.getParam(\textcolor{stringliteral}{"publish\_rate"}, publish\_rate)) \{
152     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"FrankaStateController: Did not find publish\_rate. Using default "}
153                     << publish\_rate << \textcolor{stringliteral}{" [Hz]."});
154   \}
155   \hyperlink{classfranka__control_1_1FrankaStateController_a1c903d6812d02a29796d64b0fc3eb51d}{trigger\_publish\_} = \hyperlink{classfranka__hw_1_1TriggerRate}{franka\_hw::TriggerRate}(publish\_rate);
156 
157   \textcolor{keywordflow}{if} (!controller\_node\_handle.getParam(\textcolor{stringliteral}{"joint\_names"}, \hyperlink{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}{joint\_names\_}) ||
158       \hyperlink{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}{joint\_names\_}.size() != \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}.size()) \{
159     ROS\_ERROR(
160         \textcolor{stringliteral}{"FrankaStateController: Invalid or no joint\_names parameters provided, aborting "}
161         \textcolor{stringliteral}{"controller init!"});
162     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
163   \}
164 
165   \textcolor{keywordflow}{try} \{
166     \hyperlink{classfranka__control_1_1FrankaStateController_a7f665b5f5fda44bcfa5f0703806d0048}{franka\_state\_handle\_} = std::make\_unique<franka\_hw::FrankaStateHandle>(
167         \hyperlink{classfranka__control_1_1FrankaStateController_a3691177b860e7ea1bcaa323ccdfa86d0}{franka\_state\_interface\_}->getHandle(\hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_robot"}));
168   \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} hardware\_interface::HardwareInterfaceException& ex) \{
169     ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"FrankaStateController: Exception getting franka state handle: "} << ex.what());
170     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
171   \}
172 
173   \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_}.init(root\_node\_handle, \textcolor{stringliteral}{"/tf"}, 1);
174   \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.init(controller\_node\_handle, \textcolor{stringliteral}{"franka\_states"}, 1);
175   \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.init(controller\_node\_handle, \textcolor{stringliteral}{"joint\_states"}, 1);
176   \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.init(controller\_node\_handle, \textcolor{stringliteral}{"
      joint\_states\_desired"}, 1);
177   \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.init(controller\_node\_handle, \textcolor{stringliteral}{"F\_ext"}, 1);
178 
179   \{
180     std::lock\_guard<realtime\_tools::RealtimePublisher<sensor\_msgs::JointState> > lock(
181         \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_});
182     \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.name.resize(\hyperlink{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}{joint\_names\_}.size());
183     \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.position.resize(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}.size());
184     \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.velocity.resize(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_af372a0081d72bc7b4fe873f99c7b2d8c}{dq}.size());
185     \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.effort.resize(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ad90e2518d661da0d8fa4c864bae210e5}{tau\_J}.size());
186   \}
187   \{
188     std::lock\_guard<realtime\_tools::RealtimePublisher<sensor\_msgs::JointState> > lock(
189         \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_});
190     \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.name.resize(
      \hyperlink{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}{joint\_names\_}.size());
191     \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.position.resize(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a706045af1b176049e9e56df755325bd2}{q\_d}.size());
192     \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.velocity.resize(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_aed294a088be27b927be9575a18bec949}{dq\_d}.size());
193     \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.effort.resize(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a7086a89a2705810f93a3a95d43df2d9d}{tau\_J\_d}.size());
194   \}
195   \{
196     std::lock\_guard<realtime\_tools::RealtimePublisher<tf2\_msgs::TFMessage> > lock(
197         \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_});
198     \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_}.msg\_.transforms.resize(2);
199     tf::Quaternion quaternion(0.0, 0.0, 0.0, 1.0);
200     tf::Vector3 translation(0.0, 0.0, 0.05);
201     tf::Transform transform(quaternion, translation);
202     tf::StampedTransform stamped\_transform(transform, ros::Time::now(), \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_link8"},
203                                            \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_EE"});
204     geometry\_msgs::TransformStamped transform\_message;
205     transformStampedTFToMsg(stamped\_transform, transform\_message);
206     \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_}.msg\_.transforms[0] = transform\_message;
207     translation = tf::Vector3(0.0, 0.0, 0.0);
208     transform = tf::Transform(quaternion, translation);
209     stamped\_transform =
210         tf::StampedTransform(transform, ros::Time::now(), \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_EE"}, 
      \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_K"});
211     transformStampedTFToMsg(stamped\_transform, transform\_message);
212     \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_}.msg\_.transforms[1] = transform\_message;
213   \}
214   \{
215     std::lock\_guard<realtime\_tools::RealtimePublisher<geometry\_msgs::WrenchStamped> > lock(
216         \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_});
217     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.header.frame\_id = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_K"};
218     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.force.x = 0.0;
219     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.force.y = 0.0;
220     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.force.z = 0.0;
221     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.torque.x = 0.0;
222     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.torque.y = 0.0;
223     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.torque.z = 0.0;
224   \}
225   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
226 \}
\end{DoxyCode}
\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a16421a8f95eb59bb9e94e4f011e33cb2}\label{classfranka__control_1_1FrankaStateController_a16421a8f95eb59bb9e94e4f011e33cb2}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publish\+External\+Wrench@{publish\+External\+Wrench}}
\index{publish\+External\+Wrench@{publish\+External\+Wrench}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publish\+External\+Wrench()}{publishExternalWrench()}}
{\footnotesize\ttfamily void franka\+\_\+control\+::\+Franka\+State\+Controller\+::publish\+External\+Wrench (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 419 of file franka\+\_\+state\+\_\+controller.\+cpp.



References arm\+\_\+id\+\_\+, franka\+::\+Robot\+State\+::\+K\+\_\+\+F\+\_\+ext\+\_\+hat\+\_\+K, P\+L\+U\+G\+I\+N\+L\+I\+B\+\_\+\+E\+X\+P\+O\+R\+T\+\_\+\+C\+L\+A\+S\+S(), publisher\+\_\+external\+\_\+wrench\+\_\+, and robot\+\_\+state\+\_\+.



Referenced by update().


\begin{DoxyCode}
419                                                                      \{
420   \textcolor{keywordflow}{if} (\hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.trylock()) \{
421     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.header.frame\_id = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_K"};
422     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.header.stamp = time;
423     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.force.x = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a96267d443c05fcc58d7ac32f63912649}{K\_F\_ext\_hat\_K}[0];
424     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.force.y = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a96267d443c05fcc58d7ac32f63912649}{K\_F\_ext\_hat\_K}[1];
425     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.force.z = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a96267d443c05fcc58d7ac32f63912649}{K\_F\_ext\_hat\_K}[2];
426     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.torque.x = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a96267d443c05fcc58d7ac32f63912649}{K\_F\_ext\_hat\_K}[3];
427     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.torque.y = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a96267d443c05fcc58d7ac32f63912649}{K\_F\_ext\_hat\_K}[4];
428     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.msg\_.wrench.torque.z = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a96267d443c05fcc58d7ac32f63912649}{K\_F\_ext\_hat\_K}[5];
429     \hyperlink{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}{publisher\_external\_wrench\_}.unlockAndPublish();
430   \}
431 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController_a16421a8f95eb59bb9e94e4f011e33cb2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController_a16421a8f95eb59bb9e94e4f011e33cb2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a70977857f43faff9127db1ebfeddc1b5}\label{classfranka__control_1_1FrankaStateController_a70977857f43faff9127db1ebfeddc1b5}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publish\+Franka\+States@{publish\+Franka\+States}}
\index{publish\+Franka\+States@{publish\+Franka\+States}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publish\+Franka\+States()}{publishFrankaStates()}}
{\footnotesize\ttfamily void franka\+\_\+control\+::\+Franka\+State\+Controller\+::publish\+Franka\+States (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 239 of file franka\+\_\+state\+\_\+controller.\+cpp.



References franka\+::\+Robot\+State\+::cartesian\+\_\+collision, franka\+::\+Robot\+State\+::cartesian\+\_\+contact, franka\+::\+Robot\+State\+::current\+\_\+errors, franka\+::\+Robot\+State\+::dq, franka\+::\+Robot\+State\+::dq\+\_\+d, franka\+::\+Robot\+State\+::dtau\+\_\+J, franka\+::\+Robot\+State\+::dtheta, franka\+::\+Robot\+State\+::\+E\+E\+\_\+\+T\+\_\+K, franka\+::\+Robot\+State\+::elbow, franka\+::\+Robot\+State\+::elbow\+\_\+d, anonymous\+\_\+namespace\{franka\+\_\+state\+\_\+controller.\+cpp\}\+::errors\+To\+Message(), franka\+::\+Robot\+State\+::\+F\+\_\+\+T\+\_\+\+EE, franka\+::\+Robot\+State\+::\+F\+\_\+x\+\_\+\+Cee, franka\+::\+Robot\+State\+::\+F\+\_\+x\+\_\+\+Cload, franka\+::\+Robot\+State\+::\+F\+\_\+x\+\_\+\+Ctotal, franka\+::\+Robot\+State\+::\+I\+\_\+ee, franka\+::\+Robot\+State\+::\+I\+\_\+load, franka\+::\+Robot\+State\+::\+I\+\_\+total, franka\+::\+Robot\+State\+::joint\+\_\+collision, franka\+::\+Robot\+State\+::joint\+\_\+contact, franka\+::\+Robot\+State\+::\+K\+\_\+\+F\+\_\+ext\+\_\+hat\+\_\+K, franka\+::k\+Automatic\+Error\+Recovery, franka\+::k\+Guiding, franka\+::k\+Idle, franka\+::k\+Move, franka\+::k\+Other, franka\+::k\+Reflex, franka\+::k\+User\+Stopped, franka\+::\+Robot\+State\+::last\+\_\+motion\+\_\+errors, franka\+::\+Robot\+State\+::m\+\_\+ee, franka\+::\+Robot\+State\+::m\+\_\+load, franka\+::\+Robot\+State\+::m\+\_\+total, franka\+::\+Robot\+State\+::\+O\+\_\+\+F\+\_\+ext\+\_\+hat\+\_\+K, franka\+::\+Robot\+State\+::\+O\+\_\+\+T\+\_\+\+EE, franka\+::\+Robot\+State\+::\+O\+\_\+\+T\+\_\+\+E\+E\+\_\+d, publisher\+\_\+franka\+\_\+states\+\_\+, franka\+::\+Robot\+State\+::q, franka\+::\+Robot\+State\+::q\+\_\+d, franka\+::\+Robot\+State\+::robot\+\_\+mode, robot\+\_\+state\+\_\+, sequence\+\_\+number\+\_\+, franka\+::\+Robot\+State\+::tau\+\_\+ext\+\_\+hat\+\_\+filtered, franka\+::\+Robot\+State\+::tau\+\_\+J, franka\+::\+Robot\+State\+::tau\+\_\+\+J\+\_\+d, franka\+::\+Robot\+State\+::theta, franka\+::\+Robot\+State\+::time, and franka\+::\+Duration\+::to\+Sec().



Referenced by update().


\begin{DoxyCode}
239                                                                    \{
240   \textcolor{keywordflow}{if} (\hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.trylock()) \{
241     static\_assert(
242         \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a52c20478f4c1e162df38582ea9bda044}{cartesian\_collision}) == \textcolor{keyword}{sizeof}(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a7fc1f0358d2104d39d301d70544fa6c1}{cartesian\_contact}),
243         \textcolor{stringliteral}{"Robot state Cartesian members do not have same size"});
244     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a52c20478f4c1e162df38582ea9bda044}{cartesian\_collision}) == \textcolor{keyword}{sizeof}(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a96267d443c05fcc58d7ac32f63912649}{K\_F\_ext\_hat\_K}),
245                   \textcolor{stringliteral}{"Robot state Cartesian members do not have same size"});
246     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a52c20478f4c1e162df38582ea9bda044}{cartesian\_collision}) == \textcolor{keyword}{sizeof}(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a5a830b4f9d6a3c2dc92e4a9cc6050493}{O\_F\_ext\_hat\_K}),
247                   \textcolor{stringliteral}{"Robot state Cartesian members do not have same size"});
248     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a52c20478f4c1e162df38582ea9bda044}{cartesian\_collision}.size(); i++) \{
249       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.cartesian\_collision[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a52c20478f4c1e162df38582ea9bda044}{cartesian\_collision}[i];
250       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.cartesian\_contact[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a7fc1f0358d2104d39d301d70544fa6c1}{cartesian\_contact}[i];
251       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.K\_F\_ext\_hat\_K[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a96267d443c05fcc58d7ac32f63912649}{K\_F\_ext\_hat\_K}[i];
252       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.O\_F\_ext\_hat\_K[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a5a830b4f9d6a3c2dc92e4a9cc6050493}{O\_F\_ext\_hat\_K}[i];
253     \}
254 
255     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a706045af1b176049e9e56df755325bd2}{q\_d}),
256                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
257     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_af372a0081d72bc7b4fe873f99c7b2d8c}{dq}),
258                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
259     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_aed294a088be27b927be9575a18bec949}{dq\_d}),
260                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
261     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_ad90e2518d661da0d8fa4c864bae210e5}{tau\_J}),
262                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
263     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_ae6b0d4ee0d7b36240a2165e6ded6f4b9}{dtau\_J}),
264                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
265     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a7086a89a2705810f93a3a95d43df2d9d}{tau\_J\_d}),
266                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
267     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_aa34145d77dd411d7ca578c355f0ba2b4}{theta}),
268                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
269     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a271db0a55dd346715ed8a0daf3f8887c}{dtheta}),
270                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
271     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a38757bafd4dd8e138410de1dca0c36f8}{joint\_collision}),
272                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
273     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a7243c652a8efe58c343a0d1252302fa4}{joint\_contact}),
274                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
275     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_acdef8005828d193e45b128085a9e363b}{tau\_ext\_hat\_filtered}),
276                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
277     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}.size(); i++) \{
278       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.q[i] = \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}[i];
279       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.q\_d[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a706045af1b176049e9e56df755325bd2}{q\_d}[i];
280       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.dq[i] = \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_af372a0081d72bc7b4fe873f99c7b2d8c}{dq}[i];
281       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.dq\_d[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_aed294a088be27b927be9575a18bec949}{dq\_d}[i];
282       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.tau\_J[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ad90e2518d661da0d8fa4c864bae210e5}{tau\_J}[i];
283       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.dtau\_J[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ae6b0d4ee0d7b36240a2165e6ded6f4b9}{dtau\_J}[i];
284       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.tau\_J\_d[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a7086a89a2705810f93a3a95d43df2d9d}{tau\_J\_d}[i];
285       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.theta[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_aa34145d77dd411d7ca578c355f0ba2b4}{theta}[i];
286       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.dtheta[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a271db0a55dd346715ed8a0daf3f8887c}{dtheta}[i];
287       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.joint\_collision[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a38757bafd4dd8e138410de1dca0c36f8}{joint\_collision}[i];
288       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.joint\_contact[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a7243c652a8efe58c343a0d1252302fa4}{joint\_contact}[i];
289       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.tau\_ext\_hat\_filtered[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_acdef8005828d193e45b128085a9e363b}{tau\_ext\_hat\_filtered}[i];
290     \}
291 
292     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a43485841c427d70e7f36a912cc3116d1}{elbow}.size(); i++) \{
293       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.elbow[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a43485841c427d70e7f36a912cc3116d1}{elbow}[i];
294     \}
295 
296     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a295dada05d8588fc3c19a74fd427dcc0}{elbow\_d}.size(); i++) \{
297       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.elbow\_d[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a295dada05d8588fc3c19a74fd427dcc0}{elbow\_d}[i];
298     \}
299 
300     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a193781d47722b32925e0ea7ac415f442}{O\_T\_EE}) == \textcolor{keyword}{sizeof}(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a705b85049fef747008b0eba8284c8057}{F\_T\_EE}),
301                   \textcolor{stringliteral}{"Robot state transforms do not have same size"});
302     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a193781d47722b32925e0ea7ac415f442}{O\_T\_EE}) == \textcolor{keyword}{sizeof}(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_aeb78a3b4b76d4f57b9898cbea3a0f7aa}{EE\_T\_K}),
303                   \textcolor{stringliteral}{"Robot state transforms do not have same size"});
304     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a193781d47722b32925e0ea7ac415f442}{O\_T\_EE}) == \textcolor{keyword}{sizeof}(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a3e5b4b7687856e92d826044be7d15733}{O\_T\_EE\_d}),
305                   \textcolor{stringliteral}{"Robot state transforms do not have same size"});
306     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a193781d47722b32925e0ea7ac415f442}{O\_T\_EE}.size(); i++) \{
307       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.O\_T\_EE[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a193781d47722b32925e0ea7ac415f442}{O\_T\_EE}[i];
308       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.F\_T\_EE[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a705b85049fef747008b0eba8284c8057}{F\_T\_EE}[i];
309       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.EE\_T\_K[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_aeb78a3b4b76d4f57b9898cbea3a0f7aa}{EE\_T\_K}[i];
310       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.O\_T\_EE\_d[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a3e5b4b7687856e92d826044be7d15733}{O\_T\_EE\_d}[i];
311     \}
312     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.m\_ee = \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_af982a16246e33c1495ec02972a36bce3}{m\_ee};
313     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.m\_load = \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a99ea4ab9c5a42a5c17365ed8fd730cd1}{m\_load};
314     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.m\_total = \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a87880d4693c8f576ebdabf00f4d4f981}{m\_total};
315 
316     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a5b194153497eff98049681f852118f82}{I\_load}.size(); i++) \{
317       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.I\_ee[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a74cee1beb5d400694133deea2846e611}{I\_ee}[i];
318       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.I\_load[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a5b194153497eff98049681f852118f82}{I\_load}[i];
319       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.I\_total[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ad9120ae7b7613e77df8c1c3eba8fb033}{I\_total}[i];
320     \}
321 
322     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a48e921e6215ad32f36e424b4d7b66a89}{F\_x\_Cload}.size(); i++) \{
323       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.F\_x\_Cee[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a907c4561d8f1c1a2af7980cf58ceb112}{F\_x\_Cee}[i];
324       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.F\_x\_Cload[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a48e921e6215ad32f36e424b4d7b66a89}{F\_x\_Cload}[i];
325       \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.F\_x\_Ctotal[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a72ee7362018e3c9e95e3c41e857bfd8d}{F\_x\_Ctotal}[i];
326     \}
327 
328     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.time = \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_aabfdabeaef8c1858c52dd32344bdd039}{time}.\hyperlink{classfranka_1_1Duration_a497af77a3280159547f231f0374e9ac1}{toSec}();
329     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.current\_errors = 
      \hyperlink{namespaceanonymous__namespace_02franka__state__controller_8cpp_03_a2ce17cf94c63412ee9586043b2ee3206}{errorsToMessage}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_abc5515f7a27f5de82396ea792a5ecb48}{current\_errors});
330     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.last\_motion\_errors =
331         \hyperlink{namespaceanonymous__namespace_02franka__state__controller_8cpp_03_a2ce17cf94c63412ee9586043b2ee3206}{errorsToMessage}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a06d7019f85339409e932dc086b7a260b}{last\_motion\_errors});
332 
333     \textcolor{keywordflow}{switch} (\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a4943ae75e0e2ec534e0afac31cbcc987}{robot\_mode}) \{
334       \textcolor{keywordflow}{case} \hyperlink{namespacefranka_adfe059ae23ebbad59e421edaa879651aa341b8a8f03cf33821c46aa5c3aad4b7a}{franka::RobotMode::kOther}:
335         \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.robot\_mode = 
      franka\_msgs::FrankaState::ROBOT\_MODE\_OTHER;
336         \textcolor{keywordflow}{break};
337 
338       \textcolor{keywordflow}{case} \hyperlink{namespacefranka_adfe059ae23ebbad59e421edaa879651aaf5137a026a4b2f3b1c8a21cfc60dd14b}{franka::RobotMode::kIdle}:
339         \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.robot\_mode = 
      franka\_msgs::FrankaState::ROBOT\_MODE\_IDLE;
340         \textcolor{keywordflow}{break};
341 
342       \textcolor{keywordflow}{case} \hyperlink{namespacefranka_adfe059ae23ebbad59e421edaa879651aae54c7412401b5e36c1c254e6fb17a3dd}{franka::RobotMode::kMove}:
343         \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.robot\_mode = 
      franka\_msgs::FrankaState::ROBOT\_MODE\_MOVE;
344         \textcolor{keywordflow}{break};
345 
346       \textcolor{keywordflow}{case} \hyperlink{namespacefranka_adfe059ae23ebbad59e421edaa879651aa3f62c59dc456d870c5232af7b73944ea}{franka::RobotMode::kGuiding}:
347         \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.robot\_mode = 
      franka\_msgs::FrankaState::ROBOT\_MODE\_GUIDING;
348         \textcolor{keywordflow}{break};
349 
350       \textcolor{keywordflow}{case} \hyperlink{namespacefranka_adfe059ae23ebbad59e421edaa879651aa24a5ddd7430a2592185005fce3881f62}{franka::RobotMode::kReflex}:
351         \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.robot\_mode = 
      franka\_msgs::FrankaState::ROBOT\_MODE\_REFLEX;
352         \textcolor{keywordflow}{break};
353 
354       \textcolor{keywordflow}{case} \hyperlink{namespacefranka_adfe059ae23ebbad59e421edaa879651aaaef321f1c9c879b98c2bcd307ad2305f}{franka::RobotMode::kUserStopped}:
355         \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.robot\_mode =
356             franka\_msgs::FrankaState::ROBOT\_MODE\_USER\_STOPPED;
357         \textcolor{keywordflow}{break};
358 
359       \textcolor{keywordflow}{case} \hyperlink{namespacefranka_adfe059ae23ebbad59e421edaa879651aab37e3f1dba8351f3745083064998b35f}{franka::RobotMode::kAutomaticErrorRecovery}:
360         \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.robot\_mode =
361             franka\_msgs::FrankaState::ROBOT\_MODE\_AUTOMATIC\_ERROR\_RECOVERY;
362         \textcolor{keywordflow}{break};
363     \}
364 
365     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.header.seq = 
      \hyperlink{classfranka__control_1_1FrankaStateController_ae36c62620e0099ce91976548bf51f240}{sequence\_number\_};
366     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.msg\_.header.stamp = time;
367     \hyperlink{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}{publisher\_franka\_states\_}.unlockAndPublish();
368   \}
369 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController_a70977857f43faff9127db1ebfeddc1b5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController_a70977857f43faff9127db1ebfeddc1b5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a37c67130a3359cb9cffa6af4a207615e}\label{classfranka__control_1_1FrankaStateController_a37c67130a3359cb9cffa6af4a207615e}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publish\+Joint\+States@{publish\+Joint\+States}}
\index{publish\+Joint\+States@{publish\+Joint\+States}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publish\+Joint\+States()}{publishJointStates()}}
{\footnotesize\ttfamily void franka\+\_\+control\+::\+Franka\+State\+Controller\+::publish\+Joint\+States (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 371 of file franka\+\_\+state\+\_\+controller.\+cpp.



References franka\+::\+Robot\+State\+::dq, franka\+::\+Robot\+State\+::dq\+\_\+d, joint\+\_\+names\+\_\+, publisher\+\_\+joint\+\_\+states\+\_\+, publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+, franka\+::\+Robot\+State\+::q, franka\+::\+Robot\+State\+::q\+\_\+d, robot\+\_\+state\+\_\+, sequence\+\_\+number\+\_\+, franka\+::\+Robot\+State\+::tau\+\_\+J, and franka\+::\+Robot\+State\+::tau\+\_\+\+J\+\_\+d.



Referenced by update().


\begin{DoxyCode}
371                                                                   \{
372   \textcolor{keywordflow}{if} (\hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.trylock()) \{
373     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_af372a0081d72bc7b4fe873f99c7b2d8c}{dq}),
374                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
375     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_ad90e2518d661da0d8fa4c864bae210e5}{tau\_J}),
376                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
377     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}.size(); i++) \{
378       \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.name[i] = \hyperlink{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}{joint\_names\_}[i];
379       \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.position[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}[i];
380       \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.velocity[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_af372a0081d72bc7b4fe873f99c7b2d8c}{dq}[i];
381       \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.effort[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_ad90e2518d661da0d8fa4c864bae210e5}{tau\_J}[i];
382     \}
383     \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.header.stamp = time;
384     \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.msg\_.header.seq = 
      \hyperlink{classfranka__control_1_1FrankaStateController_ae36c62620e0099ce91976548bf51f240}{sequence\_number\_};
385     \hyperlink{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}{publisher\_joint\_states\_}.unlockAndPublish();
386   \}
387   \textcolor{keywordflow}{if} (\hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.trylock()) \{
388     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a706045af1b176049e9e56df755325bd2}{q\_d}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_aed294a088be27b927be9575a18bec949}{dq\_d}),
389                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
390     static\_assert(\textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a706045af1b176049e9e56df755325bd2}{q\_d}) == \textcolor{keyword}{sizeof}(\hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.
      \hyperlink{structfranka_1_1RobotState_a7086a89a2705810f93a3a95d43df2d9d}{tau\_J\_d}),
391                   \textcolor{stringliteral}{"Robot state joint members do not have same size"});
392     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a706045af1b176049e9e56df755325bd2}{q\_d}.size(); i++) \{
393       \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.name[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}{joint\_names\_}[i];
394       \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.position[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a706045af1b176049e9e56df755325bd2}{q\_d}[i];
395       \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.velocity[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_aed294a088be27b927be9575a18bec949}{dq\_d}[i];
396       \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.effort[i] = 
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a7086a89a2705810f93a3a95d43df2d9d}{tau\_J\_d}[i];
397     \}
398     \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.header.stamp = time;
399     \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.msg\_.header.seq = 
      \hyperlink{classfranka__control_1_1FrankaStateController_ae36c62620e0099ce91976548bf51f240}{sequence\_number\_};
400     \hyperlink{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}{publisher\_joint\_states\_desired\_}.unlockAndPublish();
401   \}
402 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController_a37c67130a3359cb9cffa6af4a207615e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_abcab70ff196a1751f625bc14a789ca82}\label{classfranka__control_1_1FrankaStateController_abcab70ff196a1751f625bc14a789ca82}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publish\+Transforms@{publish\+Transforms}}
\index{publish\+Transforms@{publish\+Transforms}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publish\+Transforms()}{publishTransforms()}}
{\footnotesize\ttfamily void franka\+\_\+control\+::\+Franka\+State\+Controller\+::publish\+Transforms (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{time }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 404 of file franka\+\_\+state\+\_\+controller.\+cpp.



References arm\+\_\+id\+\_\+, anonymous\+\_\+namespace\{franka\+\_\+state\+\_\+controller.\+cpp\}\+::convert\+Array\+To\+Tf(), franka\+::\+Robot\+State\+::\+E\+E\+\_\+\+T\+\_\+K, franka\+::\+Robot\+State\+::\+F\+\_\+\+T\+\_\+\+EE, publisher\+\_\+transforms\+\_\+, and robot\+\_\+state\+\_\+.



Referenced by update().


\begin{DoxyCode}
404                                                                  \{
405   \textcolor{keywordflow}{if} (\hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_}.trylock()) \{
406     tf::StampedTransform stamped\_transform(\hyperlink{namespaceanonymous__namespace_02franka__state__controller_8cpp_03_aca5abe1f63ce51c9ac407aa423c9a0cf}{convertArrayToTf}(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_a705b85049fef747008b0eba8284c8057}{F\_T\_EE}), time,
407                                            \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_link8"}, \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_EE"});
408     geometry\_msgs::TransformStamped transform\_message;
409     transformStampedTFToMsg(stamped\_transform, transform\_message);
410     \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_}.msg\_.transforms[0] = transform\_message;
411     stamped\_transform = tf::StampedTransform(\hyperlink{namespaceanonymous__namespace_02franka__state__controller_8cpp_03_aca5abe1f63ce51c9ac407aa423c9a0cf}{convertArrayToTf}(
      \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_}.\hyperlink{structfranka_1_1RobotState_aeb78a3b4b76d4f57b9898cbea3a0f7aa}{EE\_T\_K}), time,
412                                              \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_EE"}, \hyperlink{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}{arm\_id\_} + \textcolor{stringliteral}{"\_K"});
413     transformStampedTFToMsg(stamped\_transform, transform\_message);
414     \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_}.msg\_.transforms[1] = transform\_message;
415     \hyperlink{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}{publisher\_transforms\_}.unlockAndPublish();
416   \}
417 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController_abcab70ff196a1751f625bc14a789ca82_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController_abcab70ff196a1751f625bc14a789ca82_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_ad7a282e355860395576ff4d116bbbb7b}\label{classfranka__control_1_1FrankaStateController_ad7a282e355860395576ff4d116bbbb7b}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!update@{update}}
\index{update@{update}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void franka\+\_\+control\+::\+Franka\+State\+Controller\+::update (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{time,  }\item[{const ros\+::\+Duration \&}]{period }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}

Reads the current robot state from the \hyperlink{classfranka__hw_1_1FrankaStateInterface}{franka\+\_\+hw\+::\+Franka\+State\+Interface} and publishes it.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em time} & Current R\+OS time. \\
\hline
\mbox{\tt in}  & {\em period} & Time since the last update. \\
\hline
\end{DoxyParams}


Definition at line 228 of file franka\+\_\+state\+\_\+controller.\+cpp.



References franka\+\_\+state\+\_\+handle\+\_\+, publish\+External\+Wrench(), publish\+Franka\+States(), publish\+Joint\+States(), publish\+Transforms(), robot\+\_\+state\+\_\+, sequence\+\_\+number\+\_\+, and trigger\+\_\+publish\+\_\+.


\begin{DoxyCode}
228                                                                             \{
229   \textcolor{keywordflow}{if} (\hyperlink{classfranka__control_1_1FrankaStateController_a1c903d6812d02a29796d64b0fc3eb51d}{trigger\_publish\_}()) \{
230     \hyperlink{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}{robot\_state\_} = \hyperlink{classfranka__control_1_1FrankaStateController_a7f665b5f5fda44bcfa5f0703806d0048}{franka\_state\_handle\_}->getRobotState();
231     \hyperlink{classfranka__control_1_1FrankaStateController_a70977857f43faff9127db1ebfeddc1b5}{publishFrankaStates}(time);
232     \hyperlink{classfranka__control_1_1FrankaStateController_abcab70ff196a1751f625bc14a789ca82}{publishTransforms}(time);
233     \hyperlink{classfranka__control_1_1FrankaStateController_a16421a8f95eb59bb9e94e4f011e33cb2}{publishExternalWrench}(time);
234     \hyperlink{classfranka__control_1_1FrankaStateController_a37c67130a3359cb9cffa6af4a207615e}{publishJointStates}(time);
235     \hyperlink{classfranka__control_1_1FrankaStateController_ae36c62620e0099ce91976548bf51f240}{sequence\_number\_}++;
236   \}
237 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__control_1_1FrankaStateController_ad7a282e355860395576ff4d116bbbb7b_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}\label{classfranka__control_1_1FrankaStateController_a603d865facc13c7b1f2ebb5a27404221}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!arm\+\_\+id\+\_\+@{arm\+\_\+id\+\_\+}}
\index{arm\+\_\+id\+\_\+@{arm\+\_\+id\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{arm\+\_\+id\+\_\+}{arm\_id\_}}
{\footnotesize\ttfamily std\+::string franka\+\_\+control\+::\+Franka\+State\+Controller\+::arm\+\_\+id\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 56 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), publish\+External\+Wrench(), and publish\+Transforms().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a7f665b5f5fda44bcfa5f0703806d0048}\label{classfranka__control_1_1FrankaStateController_a7f665b5f5fda44bcfa5f0703806d0048}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!franka\+\_\+state\+\_\+handle\+\_\+@{franka\+\_\+state\+\_\+handle\+\_\+}}
\index{franka\+\_\+state\+\_\+handle\+\_\+@{franka\+\_\+state\+\_\+handle\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{franka\+\_\+state\+\_\+handle\+\_\+}{franka\_state\_handle\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\hyperlink{classfranka__hw_1_1FrankaStateHandle}{franka\+\_\+hw\+::\+Franka\+State\+Handle}$>$ franka\+\_\+control\+::\+Franka\+State\+Controller\+::franka\+\_\+state\+\_\+handle\+\_\+ \{\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 59 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a3691177b860e7ea1bcaa323ccdfa86d0}\label{classfranka__control_1_1FrankaStateController_a3691177b860e7ea1bcaa323ccdfa86d0}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!franka\+\_\+state\+\_\+interface\+\_\+@{franka\+\_\+state\+\_\+interface\+\_\+}}
\index{franka\+\_\+state\+\_\+interface\+\_\+@{franka\+\_\+state\+\_\+interface\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{franka\+\_\+state\+\_\+interface\+\_\+}{franka\_state\_interface\_}}
{\footnotesize\ttfamily \hyperlink{classfranka__hw_1_1FrankaStateInterface}{franka\+\_\+hw\+::\+Franka\+State\+Interface}$\ast$ franka\+\_\+control\+::\+Franka\+State\+Controller\+::franka\+\_\+state\+\_\+interface\+\_\+ \{\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 58 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}\label{classfranka__control_1_1FrankaStateController_afb6dc481c4d282d5f8f830f0cf943404}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!joint\+\_\+names\+\_\+@{joint\+\_\+names\+\_\+}}
\index{joint\+\_\+names\+\_\+@{joint\+\_\+names\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{joint\+\_\+names\+\_\+}{joint\_names\_}}
{\footnotesize\ttfamily std\+::vector$<$std\+::string$>$ franka\+\_\+control\+::\+Franka\+State\+Controller\+::joint\+\_\+names\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 69 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), and publish\+Joint\+States().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}\label{classfranka__control_1_1FrankaStateController_aeff7a641817b5261934421fcbd1205f5}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publisher\+\_\+external\+\_\+wrench\+\_\+@{publisher\+\_\+external\+\_\+wrench\+\_\+}}
\index{publisher\+\_\+external\+\_\+wrench\+\_\+@{publisher\+\_\+external\+\_\+wrench\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publisher\+\_\+external\+\_\+wrench\+\_\+}{publisher\_external\_wrench\_}}
{\footnotesize\ttfamily realtime\+\_\+tools\+::\+Realtime\+Publisher$<$geometry\+\_\+msgs\+::\+Wrench\+Stamped$>$ franka\+\_\+control\+::\+Franka\+State\+Controller\+::publisher\+\_\+external\+\_\+wrench\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 65 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), and publish\+External\+Wrench().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}\label{classfranka__control_1_1FrankaStateController_a2ec0c84ee9474f84577a740360aae2e3}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publisher\+\_\+franka\+\_\+states\+\_\+@{publisher\+\_\+franka\+\_\+states\+\_\+}}
\index{publisher\+\_\+franka\+\_\+states\+\_\+@{publisher\+\_\+franka\+\_\+states\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publisher\+\_\+franka\+\_\+states\+\_\+}{publisher\_franka\_states\_}}
{\footnotesize\ttfamily realtime\+\_\+tools\+::\+Realtime\+Publisher$<$franka\+\_\+msgs\+::\+Franka\+State$>$ franka\+\_\+control\+::\+Franka\+State\+Controller\+::publisher\+\_\+franka\+\_\+states\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 62 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), and publish\+Franka\+States().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}\label{classfranka__control_1_1FrankaStateController_a9cc0cb3e247d25ef305170666b48ec72}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publisher\+\_\+joint\+\_\+states\+\_\+@{publisher\+\_\+joint\+\_\+states\+\_\+}}
\index{publisher\+\_\+joint\+\_\+states\+\_\+@{publisher\+\_\+joint\+\_\+states\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publisher\+\_\+joint\+\_\+states\+\_\+}{publisher\_joint\_states\_}}
{\footnotesize\ttfamily realtime\+\_\+tools\+::\+Realtime\+Publisher$<$sensor\+\_\+msgs\+::\+Joint\+State$>$ franka\+\_\+control\+::\+Franka\+State\+Controller\+::publisher\+\_\+joint\+\_\+states\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 63 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), and publish\+Joint\+States().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}\label{classfranka__control_1_1FrankaStateController_aff239ebea490b911ac660c5b79f6308d}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+@{publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+}}
\index{publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+@{publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+}{publisher\_joint\_states\_desired\_}}
{\footnotesize\ttfamily realtime\+\_\+tools\+::\+Realtime\+Publisher$<$sensor\+\_\+msgs\+::\+Joint\+State$>$ franka\+\_\+control\+::\+Franka\+State\+Controller\+::publisher\+\_\+joint\+\_\+states\+\_\+desired\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 64 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), and publish\+Joint\+States().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}\label{classfranka__control_1_1FrankaStateController_a3466cae3276a7576686661ecbe05a649}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!publisher\+\_\+transforms\+\_\+@{publisher\+\_\+transforms\+\_\+}}
\index{publisher\+\_\+transforms\+\_\+@{publisher\+\_\+transforms\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{publisher\+\_\+transforms\+\_\+}{publisher\_transforms\_}}
{\footnotesize\ttfamily realtime\+\_\+tools\+::\+Realtime\+Publisher$<$tf2\+\_\+msgs\+::\+T\+F\+Message$>$ franka\+\_\+control\+::\+Franka\+State\+Controller\+::publisher\+\_\+transforms\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 61 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), and publish\+Transforms().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}\label{classfranka__control_1_1FrankaStateController_a0d097abb2665aadbc8d38662bba5ae8b}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!robot\+\_\+state\+\_\+@{robot\+\_\+state\+\_\+}}
\index{robot\+\_\+state\+\_\+@{robot\+\_\+state\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{robot\+\_\+state\+\_\+}{robot\_state\_}}
{\footnotesize\ttfamily \hyperlink{structfranka_1_1RobotState}{franka\+::\+Robot\+State} franka\+\_\+control\+::\+Franka\+State\+Controller\+::robot\+\_\+state\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 67 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), publish\+External\+Wrench(), publish\+Franka\+States(), publish\+Joint\+States(), publish\+Transforms(), and update().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_ae36c62620e0099ce91976548bf51f240}\label{classfranka__control_1_1FrankaStateController_ae36c62620e0099ce91976548bf51f240}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!sequence\+\_\+number\+\_\+@{sequence\+\_\+number\+\_\+}}
\index{sequence\+\_\+number\+\_\+@{sequence\+\_\+number\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{sequence\+\_\+number\+\_\+}{sequence\_number\_}}
{\footnotesize\ttfamily uint64\+\_\+t franka\+\_\+control\+::\+Franka\+State\+Controller\+::sequence\+\_\+number\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 68 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by publish\+Franka\+States(), publish\+Joint\+States(), and update().

\mbox{\Hypertarget{classfranka__control_1_1FrankaStateController_a1c903d6812d02a29796d64b0fc3eb51d}\label{classfranka__control_1_1FrankaStateController_a1c903d6812d02a29796d64b0fc3eb51d}} 
\index{franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}!trigger\+\_\+publish\+\_\+@{trigger\+\_\+publish\+\_\+}}
\index{trigger\+\_\+publish\+\_\+@{trigger\+\_\+publish\+\_\+}!franka\+\_\+control\+::\+Franka\+State\+Controller@{franka\+\_\+control\+::\+Franka\+State\+Controller}}
\subsubsection{\texorpdfstring{trigger\+\_\+publish\+\_\+}{trigger\_publish\_}}
{\footnotesize\ttfamily \hyperlink{classfranka__hw_1_1TriggerRate}{franka\+\_\+hw\+::\+Trigger\+Rate} franka\+\_\+control\+::\+Franka\+State\+Controller\+::trigger\+\_\+publish\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 66 of file franka\+\_\+state\+\_\+controller.\+h.



Referenced by init(), and update().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+sm\+\_\+reference\+\_\+library/sm\+\_\+panda\+\_\+moveit/franka\+\_\+ros/franka\+\_\+control/include/franka\+\_\+control/\hyperlink{franka__state__controller_8h}{franka\+\_\+state\+\_\+controller.\+h}\item 
smacc\+\_\+sm\+\_\+reference\+\_\+library/sm\+\_\+panda\+\_\+moveit/franka\+\_\+ros/franka\+\_\+control/src/\hyperlink{franka__state__controller_8cpp}{franka\+\_\+state\+\_\+controller.\+cpp}\end{DoxyCompactItemize}
