\hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController}{}\section{franka\+\_\+example\+\_\+controllers\+:\+:Joint\+Impedance\+Example\+Controller Class Reference}
\label{classfranka__example__controllers_1_1JointImpedanceExampleController}\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}


{\ttfamily \#include $<$joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h$>$}



Inheritance diagram for franka\+\_\+example\+\_\+controllers\+:\+:Joint\+Impedance\+Example\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{classfranka__example__controllers_1_1JointImpedanceExampleController__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for franka\+\_\+example\+\_\+controllers\+:\+:Joint\+Impedance\+Example\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__example__controllers_1_1JointImpedanceExampleController__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classbool}{bool} \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a8163440bff59a3067be1d47e4b3c3c84}{init} (hardware\+\_\+interface\+::\+Robot\+HW $\ast$robot\+\_\+hw, ros\+::\+Node\+Handle \&node\+\_\+handle) override
\item 
void \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a968df72e561b1c35c4c406eb5cd79011}{starting} (const ros\+::\+Time \&) override
\item 
void \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_afd7edb0e2600dd7732b0bf00e14d41c2}{update} (const ros\+::\+Time \&, const ros\+::\+Duration \&period) override
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::array$<$ double, 7 $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a246799d505d7ebedb1c75d8e9f251a01}{saturate\+Torque\+Rate} (const std\+::array$<$ double, 7 $>$ \&tau\+\_\+d\+\_\+calculated, const std\+::array$<$ double, 7 $>$ \&tau\+\_\+\+J\+\_\+d)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \hyperlink{classfranka__hw_1_1FrankaCartesianPoseHandle}{franka\+\_\+hw\+::\+Franka\+Cartesian\+Pose\+Handle} $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ade68e268a35c4b1a52c0dc4c811a074f}{cartesian\+\_\+pose\+\_\+handle\+\_\+}
\item 
std\+::unique\+\_\+ptr$<$ \hyperlink{classfranka__hw_1_1FrankaModelHandle}{franka\+\_\+hw\+::\+Franka\+Model\+Handle} $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a2ed243b27c3639ddeb284d7acdf76d8a}{model\+\_\+handle\+\_\+}
\item 
std\+::vector$<$ hardware\+\_\+interface\+::\+Joint\+Handle $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a64340fe9c37cfbdacac36129ef8f1504}{joint\+\_\+handles\+\_\+}
\item 
double \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}{radius\+\_\+} \{0.\+1\}
\item 
double \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_aed26e5a5b23daaaacbd810caad1e2343}{acceleration\+\_\+time\+\_\+} \{2.\+0\}
\item 
double \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a6a988f0c94bef853f6771068a49f66c2}{vel\+\_\+max\+\_\+} \{0.\+05\}
\item 
double \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_abdec90430c89c3d3d7c8a17dff886c48}{angle\+\_\+} \{0.\+0\}
\item 
double \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_af0c7f07dd97fcc67b15c3a520086827a}{vel\+\_\+current\+\_\+} \{0.\+0\}
\item 
std\+::vector$<$ double $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a489d73033258b6f34dfbe8b3fc101b51}{k\+\_\+gains\+\_\+}
\item 
std\+::vector$<$ double $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ab19eea8c0c0d0da745294e15211f4593}{d\+\_\+gains\+\_\+}
\item 
double \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae00b8cb710e3a41bc7cc1b1060f52d9e}{coriolis\+\_\+factor\+\_\+} \{1.\+0\}
\item 
std\+::array$<$ double, 7 $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a003bd809f7a92fdf81bd63c57f414cf2}{dq\+\_\+filtered\+\_\+}
\item 
std\+::array$<$ double, 16 $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae5c009114b631bc41b1e91cf5603013c}{initial\+\_\+pose\+\_\+}
\item 
\hyperlink{classfranka__hw_1_1TriggerRate}{franka\+\_\+hw\+::\+Trigger\+Rate} \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_afd6d8f3ae121ae1251c5053557f242a3}{rate\+\_\+trigger\+\_\+} \{1.\+0\}
\item 
std\+::array$<$ double, 7 $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a2dfeef688b321513975733e45d387bdb}{last\+\_\+tau\+\_\+d\+\_\+} \{\}
\item 
realtime\+\_\+tools\+::\+Realtime\+Publisher$<$ Joint\+Torque\+Comparison $>$ \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}{torques\+\_\+publisher\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr double \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a0dc22a8d2121a79f7583444207cb724d}{k\+Delta\+Tau\+Max} \{1.\+0\}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 23 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a8163440bff59a3067be1d47e4b3c3c84}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a8163440bff59a3067be1d47e4b3c3c84}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!init@{init}}
\index{init@{init}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::init (\begin{DoxyParamCaption}\item[{hardware\+\_\+interface\+::\+Robot\+HW $\ast$}]{robot\+\_\+hw,  }\item[{ros\+::\+Node\+Handle \&}]{node\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line 16 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+cpp.



References acceleration\+\_\+time\+\_\+, cartesian\+\_\+pose\+\_\+handle\+\_\+, coriolis\+\_\+factor\+\_\+, d\+\_\+gains\+\_\+, dq\+\_\+filtered\+\_\+, joint\+\_\+handles\+\_\+, k\+\_\+gains\+\_\+, model\+\_\+handle\+\_\+, radius\+\_\+, rate\+\_\+trigger\+\_\+, torques\+\_\+publisher\+\_\+, and vel\+\_\+max\+\_\+.


\begin{DoxyCode}
17                                                                        \{
18   \hyperlink{namespacetesting_1_1internal_a8e8ff5b11e64078831112677156cb111}{std::string} arm\_id;
19   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"arm\_id"}, arm\_id)) \{
20     ROS\_ERROR(\textcolor{stringliteral}{"JointImpedanceExampleController: Could not read parameter arm\_id"});
21     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
22   \}
23   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"radius"}, \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}{radius\_})) \{
24     ROS\_INFO\_STREAM(
25         \textcolor{stringliteral}{"JointImpedanceExampleController: No parameter radius, defaulting to: "} << 
      \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}{radius\_});
26   \}
27   \textcolor{keywordflow}{if} (std::fabs(\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}{radius\_}) < 0.005) \{
28     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"JointImpedanceExampleController: Set radius to small, defaulting to: "} << 0.1);
29     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}{radius\_} = 0.1;
30   \}
31 
32   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"vel\_max"}, \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a6a988f0c94bef853f6771068a49f66c2}{vel\_max\_})) \{
33     ROS\_INFO\_STREAM(
34         \textcolor{stringliteral}{"JointImpedanceExampleController: No parameter vel\_max, defaulting to: "} << 
      \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a6a988f0c94bef853f6771068a49f66c2}{vel\_max\_});
35   \}
36   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"acceleration\_time"}, \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_aed26e5a5b23daaaacbd810caad1e2343}{acceleration\_time\_})) \{
37     ROS\_INFO\_STREAM(
38         \textcolor{stringliteral}{"JointImpedanceExampleController: No parameter acceleration\_time, defaulting to: "}
39         << \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_aed26e5a5b23daaaacbd810caad1e2343}{acceleration\_time\_});
40   \}
41 
42   std::vector<std::string> joint\_names;
43   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"joint\_names"}, joint\_names) || joint\_names.size() != 7) \{
44     ROS\_ERROR(
45         \textcolor{stringliteral}{"JointImpedanceExampleController: Invalid or no joint\_names parameters provided, aborting "}
46         \textcolor{stringliteral}{"controller init!"});
47     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
48   \}
49 
50   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"k\_gains"}, \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a489d73033258b6f34dfbe8b3fc101b51}{k\_gains\_}) || \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a489d73033258b6f34dfbe8b3fc101b51}{k\_gains\_}.size() != 7) \{
51     ROS\_ERROR(
52         \textcolor{stringliteral}{"JointImpedanceExampleController:  Invalid or no k\_gain parameters provided, aborting "}
53         \textcolor{stringliteral}{"controller init!"});
54     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
55   \}
56 
57   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"d\_gains"}, \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ab19eea8c0c0d0da745294e15211f4593}{d\_gains\_}) || \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ab19eea8c0c0d0da745294e15211f4593}{d\_gains\_}.size() != 7) \{
58     ROS\_ERROR(
59         \textcolor{stringliteral}{"JointImpedanceExampleController:  Invalid or no d\_gain parameters provided, aborting "}
60         \textcolor{stringliteral}{"controller init!"});
61     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
62   \}
63 
64   \textcolor{keywordtype}{double} publish\_rate(30.0);
65   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"publish\_rate"}, publish\_rate)) \{
66     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"JointImpedanceExampleController: publish\_rate not found. Defaulting to "}
67                     << publish\_rate);
68   \}
69   \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_afd6d8f3ae121ae1251c5053557f242a3}{rate\_trigger\_} = \hyperlink{classfranka__hw_1_1TriggerRate}{franka\_hw::TriggerRate}(publish\_rate);
70 
71   \textcolor{keywordflow}{if} (!node\_handle.getParam(\textcolor{stringliteral}{"coriolis\_factor"}, \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae00b8cb710e3a41bc7cc1b1060f52d9e}{coriolis\_factor\_})) \{
72     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"JointImpedanceExampleController: coriolis\_factor not found. Defaulting to "}
73                     << \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae00b8cb710e3a41bc7cc1b1060f52d9e}{coriolis\_factor\_});
74   \}
75 
76   \textcolor{keyword}{auto}* model\_interface = robot\_hw->get<\hyperlink{classfranka__hw_1_1FrankaModelInterface}{franka\_hw::FrankaModelInterface}>();
77   \textcolor{keywordflow}{if} (model\_interface == \textcolor{keyword}{nullptr}) \{
78     ROS\_ERROR\_STREAM(
79         \textcolor{stringliteral}{"JointImpedanceExampleController: Error getting model interface from hardware"});
80     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
81   \}
82   \textcolor{keywordflow}{try} \{
83     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a2ed243b27c3639ddeb284d7acdf76d8a}{model\_handle\_} = std::make\_unique<franka\_hw::FrankaModelHandle>(
84         model\_interface->getHandle(arm\_id + \textcolor{stringliteral}{"\_model"}));
85   \} \textcolor{keywordflow}{catch} (hardware\_interface::HardwareInterfaceException& ex) \{
86     ROS\_ERROR\_STREAM(
87         \textcolor{stringliteral}{"JointImpedanceExampleController: Exception getting model handle from interface: "}
88         << ex.what());
89     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
90   \}
91 
92   \textcolor{keyword}{auto}* cartesian\_pose\_interface = robot\_hw->get<
      \hyperlink{classfranka__hw_1_1FrankaPoseCartesianInterface}{franka\_hw::FrankaPoseCartesianInterface}>();
93   \textcolor{keywordflow}{if} (cartesian\_pose\_interface == \textcolor{keyword}{nullptr}) \{
94     ROS\_ERROR\_STREAM(
95         \textcolor{stringliteral}{"JointImpedanceExampleController: Error getting cartesian pose interface from hardware"});
96     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
97   \}
98   \textcolor{keywordflow}{try} \{
99     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ade68e268a35c4b1a52c0dc4c811a074f}{cartesian\_pose\_handle\_} = std::make\_unique<franka\_hw::FrankaCartesianPoseHandle>(
100         cartesian\_pose\_interface->getHandle(arm\_id + \textcolor{stringliteral}{"\_robot"}));
101   \} \textcolor{keywordflow}{catch} (hardware\_interface::HardwareInterfaceException& ex) \{
102     ROS\_ERROR\_STREAM(
103         \textcolor{stringliteral}{"JointImpedanceExampleController: Exception getting cartesian pose handle from interface: "}
104         << ex.what());
105     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
106   \}
107 
108   \textcolor{keyword}{auto}* effort\_joint\_interface = robot\_hw->get<hardware\_interface::EffortJointInterface>();
109   \textcolor{keywordflow}{if} (effort\_joint\_interface == \textcolor{keyword}{nullptr}) \{
110     ROS\_ERROR\_STREAM(
111         \textcolor{stringliteral}{"JointImpedanceExampleController: Error getting effort joint interface from hardware"});
112     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
113   \}
114   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < 7; ++i) \{
115     \textcolor{keywordflow}{try} \{
116       \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a64340fe9c37cfbdacac36129ef8f1504}{joint\_handles\_}.push\_back(effort\_joint\_interface->getHandle(joint\_names[i]));
117     \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} hardware\_interface::HardwareInterfaceException& ex) \{
118       ROS\_ERROR\_STREAM(
119           \textcolor{stringliteral}{"JointImpedanceExampleController: Exception getting joint handles: "} << ex.what());
120       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
121     \}
122   \}
123   \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}{torques\_publisher\_}.init(node\_handle, \textcolor{stringliteral}{"torque\_comparison"}, 1);
124 
125   std::fill(\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a003bd809f7a92fdf81bd63c57f414cf2}{dq\_filtered\_}.begin(), \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a003bd809f7a92fdf81bd63c57f414cf2}{dq\_filtered\_}.end(), 0);
126 
127   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
128 \}
\end{DoxyCode}
\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a246799d505d7ebedb1c75d8e9f251a01}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a246799d505d7ebedb1c75d8e9f251a01}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!saturate\+Torque\+Rate@{saturate\+Torque\+Rate}}
\index{saturate\+Torque\+Rate@{saturate\+Torque\+Rate}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{saturate\+Torque\+Rate()}{saturateTorqueRate()}}
{\footnotesize\ttfamily std\+::array$<$ double, 7 $>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::saturate\+Torque\+Rate (\begin{DoxyParamCaption}\item[{const std\+::array$<$ double, 7 $>$ \&}]{tau\+\_\+d\+\_\+calculated,  }\item[{const std\+::array$<$ double, 7 $>$ \&}]{tau\+\_\+\+J\+\_\+d }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 200 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+cpp.



References k\+Delta\+Tau\+Max, and P\+L\+U\+G\+I\+N\+L\+I\+B\+\_\+\+E\+X\+P\+O\+R\+T\+\_\+\+C\+L\+A\+S\+S().



Referenced by update().


\begin{DoxyCode}
202                                         \{  \textcolor{comment}{// NOLINT (readability-identifier-naming)}
203   std::array<double, 7> tau\_d\_saturated\{\};
204   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < 7; i++) \{
205     \textcolor{keywordtype}{double} difference = tau\_d\_calculated[i] - tau\_J\_d[i];
206     tau\_d\_saturated[i] = tau\_J\_d[i] + std::max(std::min(difference, \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a0dc22a8d2121a79f7583444207cb724d}{kDeltaTauMax}), -
      \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a0dc22a8d2121a79f7583444207cb724d}{kDeltaTauMax});
207   \}
208   \textcolor{keywordflow}{return} tau\_d\_saturated;
209 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__example__controllers_1_1JointImpedanceExampleController_a246799d505d7ebedb1c75d8e9f251a01_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__example__controllers_1_1JointImpedanceExampleController_a246799d505d7ebedb1c75d8e9f251a01_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a968df72e561b1c35c4c406eb5cd79011}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a968df72e561b1c35c4c406eb5cd79011}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!starting@{starting}}
\index{starting@{starting}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{starting()}{starting()}}
{\footnotesize\ttfamily void franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::starting (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line 130 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+cpp.



References cartesian\+\_\+pose\+\_\+handle\+\_\+, and initial\+\_\+pose\+\_\+.


\begin{DoxyCode}
130                                                                \{
131   \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae5c009114b631bc41b1e91cf5603013c}{initial\_pose\_} = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ade68e268a35c4b1a52c0dc4c811a074f}{cartesian\_pose\_handle\_}->getRobotState().O\_T\_EE\_d;
132 \}
\end{DoxyCode}
\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_afd7edb0e2600dd7732b0bf00e14d41c2}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_afd7edb0e2600dd7732b0bf00e14d41c2}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!update@{update}}
\index{update@{update}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::update (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{,  }\item[{const ros\+::\+Duration \&}]{period }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line 134 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+cpp.



References acceleration\+\_\+time\+\_\+, angle\+\_\+, cartesian\+\_\+pose\+\_\+handle\+\_\+, coriolis\+\_\+factor\+\_\+, d\+\_\+gains\+\_\+, franka\+::\+Robot\+State\+::dq, franka\+::\+Robot\+State\+::dq\+\_\+d, dq\+\_\+filtered\+\_\+, initial\+\_\+pose\+\_\+, joint\+\_\+handles\+\_\+, k\+\_\+gains\+\_\+, last\+\_\+tau\+\_\+d\+\_\+, model\+\_\+handle\+\_\+, franka\+::\+Robot\+State\+::q, franka\+::\+Robot\+State\+::q\+\_\+d, radius\+\_\+, rate\+\_\+trigger\+\_\+, saturate\+Torque\+Rate(), franka\+::\+Robot\+State\+::tau\+\_\+J, franka\+::\+Robot\+State\+::tau\+\_\+\+J\+\_\+d, torques\+\_\+publisher\+\_\+, vel\+\_\+current\+\_\+, and vel\+\_\+max\+\_\+.


\begin{DoxyCode}
135                                                                         \{
136   \textcolor{keywordflow}{if} (\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_af0c7f07dd97fcc67b15c3a520086827a}{vel\_current\_} < \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a6a988f0c94bef853f6771068a49f66c2}{vel\_max\_}) \{
137     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_af0c7f07dd97fcc67b15c3a520086827a}{vel\_current\_} += period.toSec() * std::fabs(\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a6a988f0c94bef853f6771068a49f66c2}{vel\_max\_} / 
      \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_aed26e5a5b23daaaacbd810caad1e2343}{acceleration\_time\_});
138   \}
139   \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_af0c7f07dd97fcc67b15c3a520086827a}{vel\_current\_} = std::fmin(\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_af0c7f07dd97fcc67b15c3a520086827a}{vel\_current\_}, \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a6a988f0c94bef853f6771068a49f66c2}{vel\_max\_});
140 
141   \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_abdec90430c89c3d3d7c8a17dff886c48}{angle\_} += period.toSec() * \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_af0c7f07dd97fcc67b15c3a520086827a}{vel\_current\_} / std::fabs(\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}{radius\_});
142   \textcolor{keywordflow}{if} (\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_abdec90430c89c3d3d7c8a17dff886c48}{angle\_} > 2 * M\_PI) \{
143     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_abdec90430c89c3d3d7c8a17dff886c48}{angle\_} -= 2 * M\_PI;
144   \}
145 
146   \textcolor{keywordtype}{double} delta\_y = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}{radius\_} * (1 - std::cos(\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_abdec90430c89c3d3d7c8a17dff886c48}{angle\_}));
147   \textcolor{keywordtype}{double} delta\_z = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}{radius\_} * std::sin(\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_abdec90430c89c3d3d7c8a17dff886c48}{angle\_});
148 
149   std::array<double, 16> pose\_desired = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae5c009114b631bc41b1e91cf5603013c}{initial\_pose\_};
150   pose\_desired[13] += delta\_y;
151   pose\_desired[14] += delta\_z;
152   \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ade68e268a35c4b1a52c0dc4c811a074f}{cartesian\_pose\_handle\_}->setCommand(pose\_desired);
153 
154   \hyperlink{structfranka_1_1RobotState}{franka::RobotState} robot\_state = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ade68e268a35c4b1a52c0dc4c811a074f}{cartesian\_pose\_handle\_}->
      getRobotState();
155   std::array<double, 7> coriolis = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a2ed243b27c3639ddeb284d7acdf76d8a}{model\_handle\_}->getCoriolis();
156   std::array<double, 7> gravity = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a2ed243b27c3639ddeb284d7acdf76d8a}{model\_handle\_}->getGravity();
157 
158   \textcolor{keywordtype}{double} alpha = 0.99;
159   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < 7; i++) \{
160     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a003bd809f7a92fdf81bd63c57f414cf2}{dq\_filtered\_}[i] = (1 - alpha) * \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a003bd809f7a92fdf81bd63c57f414cf2}{dq\_filtered\_}[i] + alpha * robot\_state.
      \hyperlink{structfranka_1_1RobotState_af372a0081d72bc7b4fe873f99c7b2d8c}{dq}[i];
161   \}
162 
163   std::array<double, 7> tau\_d\_calculated;
164   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < 7; ++i) \{
165     tau\_d\_calculated[i] = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ae00b8cb710e3a41bc7cc1b1060f52d9e}{coriolis\_factor\_} * coriolis[i] +
166                           \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a489d73033258b6f34dfbe8b3fc101b51}{k\_gains\_}[i] * (robot\_state.\hyperlink{structfranka_1_1RobotState_a706045af1b176049e9e56df755325bd2}{q\_d}[i] - robot\_state.
      \hyperlink{structfranka_1_1RobotState_ade3335d1ac2f6c44741a916d565f7091}{q}[i]) +
167                           \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_ab19eea8c0c0d0da745294e15211f4593}{d\_gains\_}[i] * (robot\_state.\hyperlink{structfranka_1_1RobotState_aed294a088be27b927be9575a18bec949}{dq\_d}[i] - 
      \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a003bd809f7a92fdf81bd63c57f414cf2}{dq\_filtered\_}[i]);
168   \}
169 
170   \textcolor{comment}{// Maximum torque difference with a sampling rate of 1 kHz. The maximum torque rate is}
171   \textcolor{comment}{// 1000 * (1 / sampling\_time).}
172   std::array<double, 7> tau\_d\_saturated = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a246799d505d7ebedb1c75d8e9f251a01}{saturateTorqueRate}(tau\_d\_calculated, 
      robot\_state.\hyperlink{structfranka_1_1RobotState_a7086a89a2705810f93a3a95d43df2d9d}{tau\_J\_d});
173 
174   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < 7; ++i) \{
175     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a64340fe9c37cfbdacac36129ef8f1504}{joint\_handles\_}[i].setCommand(tau\_d\_saturated[i]);
176   \}
177 
178   \textcolor{keywordflow}{if} (\hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_afd6d8f3ae121ae1251c5053557f242a3}{rate\_trigger\_}() && \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}{torques\_publisher\_}.trylock()) \{
179     std::array<double, 7> tau\_j = robot\_state.\hyperlink{structfranka_1_1RobotState_ad90e2518d661da0d8fa4c864bae210e5}{tau\_J};
180     std::array<double, 7> tau\_error;
181     \textcolor{keywordtype}{double} error\_rms(0.0);
182     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < 7; ++i) \{
183       tau\_error[i] = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a2dfeef688b321513975733e45d387bdb}{last\_tau\_d\_}[i] - tau\_j[i];
184       error\_rms += std::sqrt(std::pow(tau\_error[i], 2.0)) / 7.0;
185     \}
186     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}{torques\_publisher\_}.msg\_.root\_mean\_square\_error = error\_rms;
187     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < 7; ++i) \{
188       \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}{torques\_publisher\_}.msg\_.tau\_commanded[i] = \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a2dfeef688b321513975733e45d387bdb}{last\_tau\_d\_}[i];
189       \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}{torques\_publisher\_}.msg\_.tau\_error[i] = tau\_error[i];
190       \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}{torques\_publisher\_}.msg\_.tau\_measured[i] = tau\_j[i];
191     \}
192     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}{torques\_publisher\_}.unlockAndPublish();
193   \}
194 
195   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < 7; ++i) \{
196     \hyperlink{classfranka__example__controllers_1_1JointImpedanceExampleController_a2dfeef688b321513975733e45d387bdb}{last\_tau\_d\_}[i] = tau\_d\_saturated[i] + gravity[i];
197   \}
198 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__example__controllers_1_1JointImpedanceExampleController_afd7edb0e2600dd7732b0bf00e14d41c2_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_aed26e5a5b23daaaacbd810caad1e2343}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_aed26e5a5b23daaaacbd810caad1e2343}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!acceleration\+\_\+time\+\_\+@{acceleration\+\_\+time\+\_\+}}
\index{acceleration\+\_\+time\+\_\+@{acceleration\+\_\+time\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{acceleration\+\_\+time\+\_\+}{acceleration\_time\_}}
{\footnotesize\ttfamily double franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::acceleration\+\_\+time\+\_\+ \{2.\+0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 44 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_abdec90430c89c3d3d7c8a17dff886c48}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_abdec90430c89c3d3d7c8a17dff886c48}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!angle\+\_\+@{angle\+\_\+}}
\index{angle\+\_\+@{angle\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{angle\+\_\+}{angle\_}}
{\footnotesize\ttfamily double franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::angle\+\_\+ \{0.\+0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 46 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_ade68e268a35c4b1a52c0dc4c811a074f}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_ade68e268a35c4b1a52c0dc4c811a074f}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!cartesian\+\_\+pose\+\_\+handle\+\_\+@{cartesian\+\_\+pose\+\_\+handle\+\_\+}}
\index{cartesian\+\_\+pose\+\_\+handle\+\_\+@{cartesian\+\_\+pose\+\_\+handle\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{cartesian\+\_\+pose\+\_\+handle\+\_\+}{cartesian\_pose\_handle\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\hyperlink{classfranka__hw_1_1FrankaCartesianPoseHandle}{franka\+\_\+hw\+::\+Franka\+Cartesian\+Pose\+Handle}$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::cartesian\+\_\+pose\+\_\+handle\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 38 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), starting(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_ae00b8cb710e3a41bc7cc1b1060f52d9e}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_ae00b8cb710e3a41bc7cc1b1060f52d9e}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!coriolis\+\_\+factor\+\_\+@{coriolis\+\_\+factor\+\_\+}}
\index{coriolis\+\_\+factor\+\_\+@{coriolis\+\_\+factor\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{coriolis\+\_\+factor\+\_\+}{coriolis\_factor\_}}
{\footnotesize\ttfamily double franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::coriolis\+\_\+factor\+\_\+ \{1.\+0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 51 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_ab19eea8c0c0d0da745294e15211f4593}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_ab19eea8c0c0d0da745294e15211f4593}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!d\+\_\+gains\+\_\+@{d\+\_\+gains\+\_\+}}
\index{d\+\_\+gains\+\_\+@{d\+\_\+gains\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{d\+\_\+gains\+\_\+}{d\_gains\_}}
{\footnotesize\ttfamily std\+::vector$<$double$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::d\+\_\+gains\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 50 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a003bd809f7a92fdf81bd63c57f414cf2}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a003bd809f7a92fdf81bd63c57f414cf2}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!dq\+\_\+filtered\+\_\+@{dq\+\_\+filtered\+\_\+}}
\index{dq\+\_\+filtered\+\_\+@{dq\+\_\+filtered\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{dq\+\_\+filtered\+\_\+}{dq\_filtered\_}}
{\footnotesize\ttfamily std\+::array$<$double, 7$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::dq\+\_\+filtered\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 52 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_ae5c009114b631bc41b1e91cf5603013c}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_ae5c009114b631bc41b1e91cf5603013c}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!initial\+\_\+pose\+\_\+@{initial\+\_\+pose\+\_\+}}
\index{initial\+\_\+pose\+\_\+@{initial\+\_\+pose\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{initial\+\_\+pose\+\_\+}{initial\_pose\_}}
{\footnotesize\ttfamily std\+::array$<$double, 16$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::initial\+\_\+pose\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 53 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by starting(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a64340fe9c37cfbdacac36129ef8f1504}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a64340fe9c37cfbdacac36129ef8f1504}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!joint\+\_\+handles\+\_\+@{joint\+\_\+handles\+\_\+}}
\index{joint\+\_\+handles\+\_\+@{joint\+\_\+handles\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{joint\+\_\+handles\+\_\+}{joint\_handles\_}}
{\footnotesize\ttfamily std\+::vector$<$hardware\+\_\+interface\+::\+Joint\+Handle$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::joint\+\_\+handles\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 40 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a489d73033258b6f34dfbe8b3fc101b51}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a489d73033258b6f34dfbe8b3fc101b51}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!k\+\_\+gains\+\_\+@{k\+\_\+gains\+\_\+}}
\index{k\+\_\+gains\+\_\+@{k\+\_\+gains\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{k\+\_\+gains\+\_\+}{k\_gains\_}}
{\footnotesize\ttfamily std\+::vector$<$double$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::k\+\_\+gains\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 49 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a0dc22a8d2121a79f7583444207cb724d}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a0dc22a8d2121a79f7583444207cb724d}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!k\+Delta\+Tau\+Max@{k\+Delta\+Tau\+Max}}
\index{k\+Delta\+Tau\+Max@{k\+Delta\+Tau\+Max}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{k\+Delta\+Tau\+Max}{kDeltaTauMax}}
{\footnotesize\ttfamily constexpr double franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::k\+Delta\+Tau\+Max \{1.\+0\}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 42 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by saturate\+Torque\+Rate().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a2dfeef688b321513975733e45d387bdb}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a2dfeef688b321513975733e45d387bdb}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!last\+\_\+tau\+\_\+d\+\_\+@{last\+\_\+tau\+\_\+d\+\_\+}}
\index{last\+\_\+tau\+\_\+d\+\_\+@{last\+\_\+tau\+\_\+d\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{last\+\_\+tau\+\_\+d\+\_\+}{last\_tau\_d\_}}
{\footnotesize\ttfamily std\+::array$<$double, 7$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::last\+\_\+tau\+\_\+d\+\_\+ \{\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 56 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a2ed243b27c3639ddeb284d7acdf76d8a}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a2ed243b27c3639ddeb284d7acdf76d8a}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!model\+\_\+handle\+\_\+@{model\+\_\+handle\+\_\+}}
\index{model\+\_\+handle\+\_\+@{model\+\_\+handle\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{model\+\_\+handle\+\_\+}{model\_handle\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\hyperlink{classfranka__hw_1_1FrankaModelHandle}{franka\+\_\+hw\+::\+Franka\+Model\+Handle}$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::model\+\_\+handle\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 39 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_ae312280e14358c15d9fc3398e149a6dc}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!radius\+\_\+@{radius\+\_\+}}
\index{radius\+\_\+@{radius\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{radius\+\_\+}{radius\_}}
{\footnotesize\ttfamily double franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::radius\+\_\+ \{0.\+1\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 43 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_afd6d8f3ae121ae1251c5053557f242a3}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_afd6d8f3ae121ae1251c5053557f242a3}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!rate\+\_\+trigger\+\_\+@{rate\+\_\+trigger\+\_\+}}
\index{rate\+\_\+trigger\+\_\+@{rate\+\_\+trigger\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{rate\+\_\+trigger\+\_\+}{rate\_trigger\_}}
{\footnotesize\ttfamily \hyperlink{classfranka__hw_1_1TriggerRate}{franka\+\_\+hw\+::\+Trigger\+Rate} franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::rate\+\_\+trigger\+\_\+ \{1.\+0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 55 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a7853d80a8b3a142be8825e895a70d20d}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!torques\+\_\+publisher\+\_\+@{torques\+\_\+publisher\+\_\+}}
\index{torques\+\_\+publisher\+\_\+@{torques\+\_\+publisher\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{torques\+\_\+publisher\+\_\+}{torques\_publisher\_}}
{\footnotesize\ttfamily realtime\+\_\+tools\+::\+Realtime\+Publisher$<$Joint\+Torque\+Comparison$>$ franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::torques\+\_\+publisher\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 57 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_af0c7f07dd97fcc67b15c3a520086827a}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_af0c7f07dd97fcc67b15c3a520086827a}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!vel\+\_\+current\+\_\+@{vel\+\_\+current\+\_\+}}
\index{vel\+\_\+current\+\_\+@{vel\+\_\+current\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{vel\+\_\+current\+\_\+}{vel\_current\_}}
{\footnotesize\ttfamily double franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::vel\+\_\+current\+\_\+ \{0.\+0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 47 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by update().

\mbox{\Hypertarget{classfranka__example__controllers_1_1JointImpedanceExampleController_a6a988f0c94bef853f6771068a49f66c2}\label{classfranka__example__controllers_1_1JointImpedanceExampleController_a6a988f0c94bef853f6771068a49f66c2}} 
\index{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}!vel\+\_\+max\+\_\+@{vel\+\_\+max\+\_\+}}
\index{vel\+\_\+max\+\_\+@{vel\+\_\+max\+\_\+}!franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller@{franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller}}
\subsubsection{\texorpdfstring{vel\+\_\+max\+\_\+}{vel\_max\_}}
{\footnotesize\ttfamily double franka\+\_\+example\+\_\+controllers\+::\+Joint\+Impedance\+Example\+Controller\+::vel\+\_\+max\+\_\+ \{0.\+05\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 45 of file joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h.



Referenced by init(), and update().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+sm\+\_\+reference\+\_\+library/sm\+\_\+panda\+\_\+moveit/franka\+\_\+ros/franka\+\_\+example\+\_\+controllers/include/franka\+\_\+example\+\_\+controllers/\hyperlink{joint__impedance__example__controller_8h}{joint\+\_\+impedance\+\_\+example\+\_\+controller.\+h}\item 
smacc\+\_\+sm\+\_\+reference\+\_\+library/sm\+\_\+panda\+\_\+moveit/franka\+\_\+ros/franka\+\_\+example\+\_\+controllers/src/\hyperlink{joint__impedance__example__controller_8cpp}{joint\+\_\+impedance\+\_\+example\+\_\+controller.\+cpp}\end{DoxyCompactItemize}
