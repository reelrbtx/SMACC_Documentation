\hypertarget{namespacefranka__hw}{}\section{franka\+\_\+hw Namespace Reference}
\label{namespacefranka__hw}\index{franka\+\_\+hw@{franka\+\_\+hw}}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacefranka__hw_1_1anonymous__namespace_02franka__hw_8cpp_03}{anonymous\+\_\+namespace\{franka\+\_\+hw.\+cpp\}}
\end{DoxyCompactItemize}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classfranka__hw_1_1FrankaCartesianPoseHandle}{Franka\+Cartesian\+Pose\+Handle}
\item 
class \hyperlink{classfranka__hw_1_1FrankaCartesianVelocityHandle}{Franka\+Cartesian\+Velocity\+Handle}
\item 
class \hyperlink{classfranka__hw_1_1FrankaHW}{Franka\+HW}
\item 
class \hyperlink{classfranka__hw_1_1FrankaModelHandle}{Franka\+Model\+Handle}
\item 
class \hyperlink{classfranka__hw_1_1FrankaModelInterface}{Franka\+Model\+Interface}
\item 
class \hyperlink{classfranka__hw_1_1FrankaPoseCartesianInterface}{Franka\+Pose\+Cartesian\+Interface}
\item 
class \hyperlink{classfranka__hw_1_1FrankaStateHandle}{Franka\+State\+Handle}
\item 
class \hyperlink{classfranka__hw_1_1FrankaStateInterface}{Franka\+State\+Interface}
\item 
class \hyperlink{classfranka__hw_1_1FrankaVelocityCartesianInterface}{Franka\+Velocity\+Cartesian\+Interface}
\item 
struct \hyperlink{structfranka__hw_1_1ResourceClaims}{Resource\+Claims}
\item 
class \hyperlink{classfranka__hw_1_1TriggerRate}{Trigger\+Rate}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \hyperlink{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}{Resource\+With\+Claims\+Map} = std\+::map$<$ std\+::string, std\+::vector$<$ std\+::vector$<$ std\+::string $>$ $>$$>$
\item 
using \hyperlink{namespacefranka__hw_a9b9c672b3e064953e816024fc2f9cf0f}{Arm\+Claimed\+Map} = std\+::map$<$ std\+::string, \hyperlink{structfranka__hw_1_1ResourceClaims}{Resource\+Claims} $>$
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \{ \newline
\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca6adf97f83acf6453d4a6a4b1070f3754}{Control\+Mode\+::\+None} = 0, 
\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca6c640e0814bb12aecaa28d237d393467}{Control\+Mode\+::\+Joint\+Torque} = (1 $<$$<$ 0), 
\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98caa10d0bc4b1db478900a14e066c4c3333}{Control\+Mode\+::\+Joint\+Position} = (1 $<$$<$ 1), 
\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98cab71066787fa2ea98f88027078359cd93}{Control\+Mode\+::\+Joint\+Velocity} = (1 $<$$<$ 2), 
\newline
\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca5f4d2e0f06b2be984d61e898b354da1e}{Control\+Mode\+::\+Cartesian\+Velocity} = (1 $<$$<$ 3), 
\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98cab5a449319cc586903a8995a0b463df50}{Control\+Mode\+::\+Cartesian\+Pose} = (1 $<$$<$ 4)
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
std\+::ostream \& \hyperlink{namespacefranka__hw_a2dbef19b15b26447214b95ccc0973b20}{operator$<$$<$} (std\+::ostream \&ostream, \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} mode)
\item 
constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \hyperlink{namespacefranka__hw_a4f7ed8f97d695218717ee59ea579b5b0}{operator \&} (\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} left, \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} right)
\item 
constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \hyperlink{namespacefranka__hw_aa04e36b77fe247b4ef736bb0abc2ac24}{operator$\vert$} (\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} left, \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} right)
\item 
constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \hyperlink{namespacefranka__hw_a8270a1f589cc045ec58e8b44e0f307f2}{operator$^\wedge$} (\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} left, \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} right)
\item 
constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \hyperlink{namespacefranka__hw_afb4d4bc5509c24838d523b6f8d90b58a}{operator$\sim$} (\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} mode)
\item 
constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \& \hyperlink{namespacefranka__hw_a440231bfa3ba7c63421f78b81a3f1977}{operator \&=} (\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \&left, \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} right)
\item 
constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \& \hyperlink{namespacefranka__hw_a8763373676dcb02e2c2ac1f4e7613a8d}{operator$\vert$=} (\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \&left, \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} right)
\item 
\hyperlink{classbool}{bool} \hyperlink{namespacefranka__hw_aa86d54ddd446acb5a2101bfcc944b2c8}{find\+Arm\+Id\+In\+Resource\+Id} (const std\+::string \&resource\+\_\+id, std\+::string $\ast$arm\+\_\+id)
\item 
\hyperlink{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}{Resource\+With\+Claims\+Map} \hyperlink{namespacefranka__hw_a6c621829dd30c8ff939de6ae0861966d}{get\+Resource\+Map} (const std\+::list$<$ hardware\+\_\+interface\+::\+Controller\+Info $>$ \&info)
\item 
\hyperlink{classbool}{bool} \hyperlink{namespacefranka__hw_af08f089686416ffb7904fbe86f19b8a9}{get\+Arm\+Claimed\+Map} (\hyperlink{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}{Resource\+With\+Claims\+Map} \&resource\+\_\+map, \hyperlink{namespacefranka__hw_a9b9c672b3e064953e816024fc2f9cf0f}{Arm\+Claimed\+Map} \&arm\+\_\+claim\+\_\+map)
\item 
\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \hyperlink{namespacefranka__hw_a21fc3cb90700f7fc2b9b9a93c2d40d0a}{get\+Control\+Mode} (const std\+::string \&arm\+\_\+id, \hyperlink{namespacefranka__hw_a9b9c672b3e064953e816024fc2f9cf0f}{Arm\+Claimed\+Map} \&arm\+\_\+claim\+\_\+map)
\end{DoxyCompactItemize}


\subsection{Typedef Documentation}
\mbox{\Hypertarget{namespacefranka__hw_a9b9c672b3e064953e816024fc2f9cf0f}\label{namespacefranka__hw_a9b9c672b3e064953e816024fc2f9cf0f}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!Arm\+Claimed\+Map@{Arm\+Claimed\+Map}}
\index{Arm\+Claimed\+Map@{Arm\+Claimed\+Map}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{Arm\+Claimed\+Map}{ArmClaimedMap}}
{\footnotesize\ttfamily using \hyperlink{namespacefranka__hw_a9b9c672b3e064953e816024fc2f9cf0f}{franka\+\_\+hw\+::\+Arm\+Claimed\+Map} = typedef std\+::map$<$std\+::string, \hyperlink{structfranka__hw_1_1ResourceClaims}{Resource\+Claims}$>$}



Definition at line 26 of file resource\+\_\+helpers.\+h.

\mbox{\Hypertarget{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}\label{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!Resource\+With\+Claims\+Map@{Resource\+With\+Claims\+Map}}
\index{Resource\+With\+Claims\+Map@{Resource\+With\+Claims\+Map}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{Resource\+With\+Claims\+Map}{ResourceWithClaimsMap}}
{\footnotesize\ttfamily using \hyperlink{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}{franka\+\_\+hw\+::\+Resource\+With\+Claims\+Map} = typedef std\+::map$<$std\+::string, std\+::vector$<$std\+::vector$<$std\+::string$>$ $>$$>$}



Definition at line 16 of file resource\+\_\+helpers.\+h.



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}\label{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!Control\+Mode@{Control\+Mode}}
\index{Control\+Mode@{Control\+Mode}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{Control\+Mode}{ControlMode}}
{\footnotesize\ttfamily enum \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{franka\+\_\+hw\+::\+Control\+Mode}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{None@{None}!franka\+\_\+hw@{franka\+\_\+hw}}\index{franka\+\_\+hw@{franka\+\_\+hw}!None@{None}}}\mbox{\Hypertarget{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca6adf97f83acf6453d4a6a4b1070f3754}\label{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca6adf97f83acf6453d4a6a4b1070f3754}} 
None&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Joint\+Torque@{Joint\+Torque}!franka\+\_\+hw@{franka\+\_\+hw}}\index{franka\+\_\+hw@{franka\+\_\+hw}!Joint\+Torque@{Joint\+Torque}}}\mbox{\Hypertarget{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca6c640e0814bb12aecaa28d237d393467}\label{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca6c640e0814bb12aecaa28d237d393467}} 
Joint\+Torque&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Joint\+Position@{Joint\+Position}!franka\+\_\+hw@{franka\+\_\+hw}}\index{franka\+\_\+hw@{franka\+\_\+hw}!Joint\+Position@{Joint\+Position}}}\mbox{\Hypertarget{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98caa10d0bc4b1db478900a14e066c4c3333}\label{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98caa10d0bc4b1db478900a14e066c4c3333}} 
Joint\+Position&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Joint\+Velocity@{Joint\+Velocity}!franka\+\_\+hw@{franka\+\_\+hw}}\index{franka\+\_\+hw@{franka\+\_\+hw}!Joint\+Velocity@{Joint\+Velocity}}}\mbox{\Hypertarget{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98cab71066787fa2ea98f88027078359cd93}\label{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98cab71066787fa2ea98f88027078359cd93}} 
Joint\+Velocity&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Cartesian\+Velocity@{Cartesian\+Velocity}!franka\+\_\+hw@{franka\+\_\+hw}}\index{franka\+\_\+hw@{franka\+\_\+hw}!Cartesian\+Velocity@{Cartesian\+Velocity}}}\mbox{\Hypertarget{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca5f4d2e0f06b2be984d61e898b354da1e}\label{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca5f4d2e0f06b2be984d61e898b354da1e}} 
Cartesian\+Velocity&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Cartesian\+Pose@{Cartesian\+Pose}!franka\+\_\+hw@{franka\+\_\+hw}}\index{franka\+\_\+hw@{franka\+\_\+hw}!Cartesian\+Pose@{Cartesian\+Pose}}}\mbox{\Hypertarget{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98cab5a449319cc586903a8995a0b463df50}\label{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98cab5a449319cc586903a8995a0b463df50}} 
Cartesian\+Pose&\\
\hline

\end{DoxyEnumFields}


Definition at line 10 of file control\+\_\+mode.\+h.


\begin{DoxyCode}
10                        \{
11   \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca6adf97f83acf6453d4a6a4b1070f3754}{None} = 0,
12   \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98ca6c640e0814bb12aecaa28d237d393467}{JointTorque} = (1 << 0),
13   JointPosition = (1 << 1),
14   \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98cab71066787fa2ea98f88027078359cd93}{JointVelocity} = (1 << 2),
15   CartesianVelocity = (1 << 3),
16   \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98cab5a449319cc586903a8995a0b463df50}{CartesianPose} = (1 << 4),
17 \};
\end{DoxyCode}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespacefranka__hw_aa86d54ddd446acb5a2101bfcc944b2c8}\label{namespacefranka__hw_aa86d54ddd446acb5a2101bfcc944b2c8}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!find\+Arm\+Id\+In\+Resource\+Id@{find\+Arm\+Id\+In\+Resource\+Id}}
\index{find\+Arm\+Id\+In\+Resource\+Id@{find\+Arm\+Id\+In\+Resource\+Id}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{find\+Arm\+Id\+In\+Resource\+Id()}{findArmIdInResourceId()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} franka\+\_\+hw\+::find\+Arm\+Id\+In\+Resource\+Id (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{resource\+\_\+id,  }\item[{std\+::string $\ast$}]{arm\+\_\+id }\end{DoxyParamCaption})}



Definition at line 9 of file resource\+\_\+helpers.\+cpp.



Referenced by get\+Arm\+Claimed\+Map().


\begin{DoxyCode}
9                                                                             \{
10   \textcolor{keywordtype}{size\_t} position = resource\_id.rfind(\textcolor{stringliteral}{"\_joint"});
11   \textcolor{keywordflow}{if} (position != std::string::npos && position > 0) \{
12     *arm\_id = resource\_id.substr(0, position);
13     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
14   \}
15   position = resource\_id.rfind(\textcolor{stringliteral}{"\_robot"});
16   \textcolor{keywordflow}{if} (position != std::string::npos && position > 0) \{
17     *arm\_id = resource\_id.substr(0, position);
18     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
19   \}
20   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
21 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacefranka__hw_aa86d54ddd446acb5a2101bfcc944b2c8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacefranka__hw_af08f089686416ffb7904fbe86f19b8a9}\label{namespacefranka__hw_af08f089686416ffb7904fbe86f19b8a9}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!get\+Arm\+Claimed\+Map@{get\+Arm\+Claimed\+Map}}
\index{get\+Arm\+Claimed\+Map@{get\+Arm\+Claimed\+Map}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{get\+Arm\+Claimed\+Map()}{getArmClaimedMap()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} franka\+\_\+hw\+::get\+Arm\+Claimed\+Map (\begin{DoxyParamCaption}\item[{\hyperlink{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}{Resource\+With\+Claims\+Map} \&}]{resource\+\_\+map,  }\item[{\hyperlink{namespacefranka__hw_a9b9c672b3e064953e816024fc2f9cf0f}{Arm\+Claimed\+Map} \&}]{arm\+\_\+claim\+\_\+map }\end{DoxyParamCaption})}



Definition at line 41 of file resource\+\_\+helpers.\+cpp.



References franka\+\_\+hw\+::\+Resource\+Claims\+::cartesian\+\_\+pose\+\_\+claims, franka\+\_\+hw\+::\+Resource\+Claims\+::cartesian\+\_\+velocity\+\_\+claims, find\+Arm\+Id\+In\+Resource\+Id(), franka\+\_\+hw\+::\+Resource\+Claims\+::joint\+\_\+position\+\_\+claims, franka\+\_\+hw\+::\+Resource\+Claims\+::joint\+\_\+torque\+\_\+claims, and franka\+\_\+hw\+::\+Resource\+Claims\+::joint\+\_\+velocity\+\_\+claims.



Referenced by franka\+\_\+hw\+::\+Franka\+H\+W\+::check\+For\+Conflict(), and franka\+\_\+hw\+::\+Franka\+H\+W\+::prepare\+Switch().


\begin{DoxyCode}
41                                                                                          \{
42   \hyperlink{namespacetesting_1_1internal_a8e8ff5b11e64078831112677156cb111}{std::string} current\_arm\_id;
43 
44   \textcolor{comment}{// check for conflicts between joint and cartesian level for each arm.}
45   \textcolor{comment}{// Valid claims are torque claims on joint level in combination with either}
46   \textcolor{comment}{// 7 non-torque claims on joint\_level or one claim on cartesian level.}
47   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} map\_it = resource\_map.begin(); map\_it != resource\_map.end(); map\_it++) \{
48     \textcolor{keywordflow}{if} (!\hyperlink{namespacefranka__hw_aa86d54ddd446acb5a2101bfcc944b2c8}{findArmIdInResourceId}(map\_it->first, &current\_arm\_id)) \{
49       ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"Could not find arm\_id in resource "}
50                        << map\_it->first
51                        << \textcolor{stringliteral}{". Conflict! Name joints as '<robot\_arm\_id>\_joint<jointnumber>'"});
52       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
53     \}
54     ResourceClaims new\_claim;
55     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} claimed\_by : map\_it->second) \{
56       \textcolor{keywordflow}{if} (claimed\_by[2] == \textcolor{stringliteral}{"hardware\_interface::EffortJointInterface"}) \{
57         new\_claim.joint\_torque\_claims++;
58       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (claimed\_by[2] == \textcolor{stringliteral}{"hardware\_interface::PositionJointInterface"}) \{
59         new\_claim.joint\_position\_claims++;
60       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (claimed\_by[2] == \textcolor{stringliteral}{"hardware\_interface::VelocityJointInterface"}) \{
61         new\_claim.joint\_velocity\_claims++;
62       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (claimed\_by[2] == \textcolor{stringliteral}{"franka\_hw::FrankaPoseCartesianInterface"}) \{
63         new\_claim.cartesian\_pose\_claims++;
64       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (claimed\_by[2] == \textcolor{stringliteral}{"franka\_hw::FrankaVelocityCartesianInterface"}) \{
65         new\_claim.cartesian\_velocity\_claims++;
66       \} \textcolor{keywordflow}{else} \{
67         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
68       \}
69     \}
70     arm\_claim\_map[current\_arm\_id].joint\_position\_claims += new\_claim.joint\_position\_claims;
71     arm\_claim\_map[current\_arm\_id].joint\_velocity\_claims += new\_claim.joint\_velocity\_claims;
72     arm\_claim\_map[current\_arm\_id].joint\_torque\_claims += new\_claim.joint\_torque\_claims;
73     arm\_claim\_map[current\_arm\_id].cartesian\_velocity\_claims += new\_claim.cartesian\_velocity\_claims;
74     arm\_claim\_map[current\_arm\_id].cartesian\_pose\_claims += new\_claim.cartesian\_pose\_claims;
75   \}
76   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
77 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacefranka__hw_af08f089686416ffb7904fbe86f19b8a9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacefranka__hw_af08f089686416ffb7904fbe86f19b8a9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacefranka__hw_a21fc3cb90700f7fc2b9b9a93c2d40d0a}\label{namespacefranka__hw_a21fc3cb90700f7fc2b9b9a93c2d40d0a}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!get\+Control\+Mode@{get\+Control\+Mode}}
\index{get\+Control\+Mode@{get\+Control\+Mode}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{get\+Control\+Mode()}{getControlMode()}}
{\footnotesize\ttfamily \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} franka\+\_\+hw\+::get\+Control\+Mode (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{arm\+\_\+id,  }\item[{\hyperlink{namespacefranka__hw_a9b9c672b3e064953e816024fc2f9cf0f}{Arm\+Claimed\+Map} \&}]{arm\+\_\+claim\+\_\+map }\end{DoxyParamCaption})}



Definition at line 79 of file resource\+\_\+helpers.\+cpp.



References Cartesian\+Pose, Cartesian\+Velocity, Joint\+Position, Joint\+Torque, Joint\+Velocity, and None.



Referenced by franka\+\_\+hw\+::\+Franka\+H\+W\+::prepare\+Switch().


\begin{DoxyCode}
79                                                                                   \{
80   \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{ControlMode} control\_mode = ControlMode::None;
81   \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims > 0 &&
82       arm\_claim\_map[arm\_id].joint\_velocity\_claims == 0 &&
83       arm\_claim\_map[arm\_id].joint\_torque\_claims == 0 &&
84       arm\_claim\_map[arm\_id].cartesian\_pose\_claims == 0 &&
85       arm\_claim\_map[arm\_id].cartesian\_velocity\_claims == 0) \{
86     control\_mode = ControlMode::JointPosition;
87   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims == 0 &&
88              arm\_claim\_map[arm\_id].joint\_velocity\_claims > 0 &&
89              arm\_claim\_map[arm\_id].joint\_torque\_claims == 0 &&
90              arm\_claim\_map[arm\_id].cartesian\_pose\_claims == 0 &&
91              arm\_claim\_map[arm\_id].cartesian\_velocity\_claims == 0) \{
92     control\_mode = ControlMode::JointVelocity;
93   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims == 0 &&
94              arm\_claim\_map[arm\_id].joint\_velocity\_claims == 0 &&
95              arm\_claim\_map[arm\_id].joint\_torque\_claims > 0 &&
96              arm\_claim\_map[arm\_id].cartesian\_pose\_claims == 0 &&
97              arm\_claim\_map[arm\_id].cartesian\_velocity\_claims == 0) \{
98     control\_mode = ControlMode::JointTorque;
99   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims == 0 &&
100              arm\_claim\_map[arm\_id].joint\_velocity\_claims == 0 &&
101              arm\_claim\_map[arm\_id].joint\_torque\_claims == 0 &&
102              arm\_claim\_map[arm\_id].cartesian\_pose\_claims > 0 &&
103              arm\_claim\_map[arm\_id].cartesian\_velocity\_claims == 0) \{
104     control\_mode = ControlMode::CartesianPose;
105   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims == 0 &&
106              arm\_claim\_map[arm\_id].joint\_velocity\_claims == 0 &&
107              arm\_claim\_map[arm\_id].joint\_torque\_claims == 0 &&
108              arm\_claim\_map[arm\_id].cartesian\_pose\_claims == 0 &&
109              arm\_claim\_map[arm\_id].cartesian\_velocity\_claims > 0) \{
110     control\_mode = ControlMode::CartesianVelocity;
111   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims > 0 &&
112              arm\_claim\_map[arm\_id].joint\_velocity\_claims == 0 &&
113              arm\_claim\_map[arm\_id].joint\_torque\_claims > 0 &&
114              arm\_claim\_map[arm\_id].cartesian\_pose\_claims == 0 &&
115              arm\_claim\_map[arm\_id].cartesian\_velocity\_claims == 0) \{
116     control\_mode = ControlMode::JointTorque | ControlMode::JointPosition;
117   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims == 0 &&
118              arm\_claim\_map[arm\_id].joint\_velocity\_claims > 0 &&
119              arm\_claim\_map[arm\_id].joint\_torque\_claims > 0 &&
120              arm\_claim\_map[arm\_id].cartesian\_pose\_claims == 0 &&
121              arm\_claim\_map[arm\_id].cartesian\_velocity\_claims == 0) \{
122     control\_mode = ControlMode::JointTorque | ControlMode::JointVelocity;
123   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims == 0 &&
124              arm\_claim\_map[arm\_id].joint\_velocity\_claims == 0 &&
125              arm\_claim\_map[arm\_id].joint\_torque\_claims > 0 &&
126              arm\_claim\_map[arm\_id].cartesian\_pose\_claims > 0 &&
127              arm\_claim\_map[arm\_id].cartesian\_velocity\_claims == 0) \{
128     control\_mode = ControlMode::JointTorque | ControlMode::CartesianPose;
129   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arm\_claim\_map[arm\_id].joint\_position\_claims == 0 &&
130              arm\_claim\_map[arm\_id].joint\_velocity\_claims == 0 &&
131              arm\_claim\_map[arm\_id].joint\_torque\_claims > 0 &&
132              arm\_claim\_map[arm\_id].cartesian\_pose\_claims == 0 &&
133              arm\_claim\_map[arm\_id].cartesian\_velocity\_claims > 0) \{
134     control\_mode = ControlMode::JointTorque | ControlMode::CartesianVelocity;
135   \}
136   \textcolor{keywordflow}{return} control\_mode;
137 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacefranka__hw_a21fc3cb90700f7fc2b9b9a93c2d40d0a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacefranka__hw_a6c621829dd30c8ff939de6ae0861966d}\label{namespacefranka__hw_a6c621829dd30c8ff939de6ae0861966d}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!get\+Resource\+Map@{get\+Resource\+Map}}
\index{get\+Resource\+Map@{get\+Resource\+Map}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{get\+Resource\+Map()}{getResourceMap()}}
{\footnotesize\ttfamily \hyperlink{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}{Resource\+With\+Claims\+Map} franka\+\_\+hw\+::get\+Resource\+Map (\begin{DoxyParamCaption}\item[{const std\+::list$<$ hardware\+\_\+interface\+::\+Controller\+Info $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 23 of file resource\+\_\+helpers.\+cpp.



Referenced by franka\+\_\+hw\+::\+Franka\+H\+W\+::check\+For\+Conflict(), and franka\+\_\+hw\+::\+Franka\+H\+W\+::prepare\+Switch().


\begin{DoxyCode}
23                                                                                             \{
24   \hyperlink{namespacefranka__hw_a1fae0c56c9a08fdeb137e601f876cc77}{ResourceWithClaimsMap} resource\_map;
25   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& item : info) \{
26     \textcolor{keyword}{const} std::vector<hardware\_interface::InterfaceResources>& c\_res = item.claimed\_resources;
27     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& resource\_set : c\_res) \{
28       \textcolor{keyword}{const} std::set<std::string>& iface\_resources = resource\_set.resources;
29       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}& resource : iface\_resources) \{
30         std::vector<std::string> claiming\_controller(3);
31         claiming\_controller[0] = item.name;
32         claiming\_controller[1] = item.type;
33         claiming\_controller[2] = resource\_set.hardware\_interface;
34         resource\_map[resource].push\_back(claiming\_controller);
35       \}
36     \}
37   \}
38   \textcolor{keywordflow}{return} resource\_map;
39 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacefranka__hw_a6c621829dd30c8ff939de6ae0861966d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacefranka__hw_a4f7ed8f97d695218717ee59ea579b5b0}\label{namespacefranka__hw_a4f7ed8f97d695218717ee59ea579b5b0}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!operator \&@{operator \&}}
\index{operator \&@{operator \&}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{operator \&()}{operator \&()}}
{\footnotesize\ttfamily constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} franka\+\_\+hw\+::operator\& (\begin{DoxyParamCaption}\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{left,  }\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{right }\end{DoxyParamCaption})}



Definition at line 22 of file control\+\_\+mode.\+h.


\begin{DoxyCode}
22                                                                      \{
23   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{ControlMode}\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}std::underlying\_type\_t<ControlMode>\textcolor{keyword}{>}(left) &
24                                   \textcolor{keyword}{static\_cast<}std::underlying\_type\_t<ControlMode>\textcolor{keyword}{>}(right));
25 \}
\end{DoxyCode}
\mbox{\Hypertarget{namespacefranka__hw_a440231bfa3ba7c63421f78b81a3f1977}\label{namespacefranka__hw_a440231bfa3ba7c63421f78b81a3f1977}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!operator \&=@{operator \&=}}
\index{operator \&=@{operator \&=}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{operator \&=()}{operator \&=()}}
{\footnotesize\ttfamily constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}\& franka\+\_\+hw\+::operator\&= (\begin{DoxyParamCaption}\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \&}]{left,  }\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{right }\end{DoxyParamCaption})}



Definition at line 41 of file control\+\_\+mode.\+h.


\begin{DoxyCode}
41                                                                         \{
42   \textcolor{keywordflow}{return} left = left & right;
43 \}
\end{DoxyCode}
\mbox{\Hypertarget{namespacefranka__hw_a2dbef19b15b26447214b95ccc0973b20}\label{namespacefranka__hw_a2dbef19b15b26447214b95ccc0973b20}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}}
{\footnotesize\ttfamily std\+::ostream \& franka\+\_\+hw\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{ostream,  }\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{mode }\end{DoxyParamCaption})}



Definition at line 12 of file control\+\_\+mode.\+cpp.



References Cartesian\+Pose, Cartesian\+Velocity, Joint\+Position, Joint\+Torque, Joint\+Velocity, and None.


\begin{DoxyCode}
12                                                               \{
13   \textcolor{keywordflow}{if} (mode == ControlMode::None) \{
14     ostream << \textcolor{stringliteral}{"<none>"};
15   \} \textcolor{keywordflow}{else} \{
16     std::vector<std::string> names;
17     \textcolor{keywordflow}{if} ((mode & ControlMode::JointTorque) != ControlMode::None) \{
18       names.emplace\_back(\textcolor{stringliteral}{"joint\_torque"});
19     \}
20     \textcolor{keywordflow}{if} ((mode & ControlMode::JointPosition) != ControlMode::None) \{
21       names.emplace\_back(\textcolor{stringliteral}{"joint\_position"});
22     \}
23     \textcolor{keywordflow}{if} ((mode & ControlMode::JointVelocity) != ControlMode::None) \{
24       names.emplace\_back(\textcolor{stringliteral}{"joint\_velocity"});
25     \}
26     \textcolor{keywordflow}{if} ((mode & ControlMode::CartesianVelocity) != ControlMode::None) \{
27       names.emplace\_back(\textcolor{stringliteral}{"cartesian\_velocity"});
28     \}
29     \textcolor{keywordflow}{if} ((mode & ControlMode::CartesianPose) != ControlMode::None) \{
30       names.emplace\_back(\textcolor{stringliteral}{"cartesian\_pose"});
31     \}
32     std::copy(names.cbegin(), names.cend() - 1, std::ostream\_iterator<std::string>(ostream, \textcolor{stringliteral}{", "}));
33     ostream << names.back();
34   \}
35   \textcolor{keywordflow}{return} ostream;
36 \}
\end{DoxyCode}
\mbox{\Hypertarget{namespacefranka__hw_a8270a1f589cc045ec58e8b44e0f307f2}\label{namespacefranka__hw_a8270a1f589cc045ec58e8b44e0f307f2}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!operator$^\wedge$@{operator$^\wedge$}}
\index{operator$^\wedge$@{operator$^\wedge$}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{operator$^\wedge$()}{operator^()}}
{\footnotesize\ttfamily constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} franka\+\_\+hw\+::operator$^\wedge$ (\begin{DoxyParamCaption}\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{left,  }\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{right }\end{DoxyParamCaption})}



Definition at line 32 of file control\+\_\+mode.\+h.


\begin{DoxyCode}
32                                                                      \{
33   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{ControlMode}\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}std::underlying\_type\_t<ControlMode>\textcolor{keyword}{>}(left) ^
34                                   \textcolor{keyword}{static\_cast<}std::underlying\_type\_t<ControlMode>\textcolor{keyword}{>}(right));
35 \}
\end{DoxyCode}
\mbox{\Hypertarget{namespacefranka__hw_aa04e36b77fe247b4ef736bb0abc2ac24}\label{namespacefranka__hw_aa04e36b77fe247b4ef736bb0abc2ac24}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!operator\texttt{"|}@{operator\texttt{"|}}}
\index{operator\texttt{"|}@{operator\texttt{"|}}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{operator\texttt{"|}()}{operator|()}}
{\footnotesize\ttfamily constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} franka\+\_\+hw\+::operator$\vert$ (\begin{DoxyParamCaption}\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{left,  }\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{right }\end{DoxyParamCaption})}



Definition at line 27 of file control\+\_\+mode.\+h.


\begin{DoxyCode}
27                                                                      \{
28   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{ControlMode}\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}std::underlying\_type\_t<ControlMode>\textcolor{keyword}{>}(left) |
29                                   \textcolor{keyword}{static\_cast<}std::underlying\_type\_t<ControlMode>\textcolor{keyword}{>}(right));
30 \}
\end{DoxyCode}
\mbox{\Hypertarget{namespacefranka__hw_a8763373676dcb02e2c2ac1f4e7613a8d}\label{namespacefranka__hw_a8763373676dcb02e2c2ac1f4e7613a8d}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!operator\texttt{"|}=@{operator\texttt{"|}=}}
\index{operator\texttt{"|}=@{operator\texttt{"|}=}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{operator\texttt{"|}=()}{operator|=()}}
{\footnotesize\ttfamily constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}\& franka\+\_\+hw\+::operator$\vert$= (\begin{DoxyParamCaption}\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} \&}]{left,  }\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{right }\end{DoxyParamCaption})}



Definition at line 45 of file control\+\_\+mode.\+h.


\begin{DoxyCode}
45                                                                         \{
46   \textcolor{keywordflow}{return} left = left | right;
47 \}
\end{DoxyCode}
\mbox{\Hypertarget{namespacefranka__hw_afb4d4bc5509c24838d523b6f8d90b58a}\label{namespacefranka__hw_afb4d4bc5509c24838d523b6f8d90b58a}} 
\index{franka\+\_\+hw@{franka\+\_\+hw}!operator$\sim$@{operator$\sim$}}
\index{operator$\sim$@{operator$\sim$}!franka\+\_\+hw@{franka\+\_\+hw}}
\subsubsection{\texorpdfstring{operator$\sim$()}{operator~()}}
{\footnotesize\ttfamily constexpr \hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode} franka\+\_\+hw\+::operator$\sim$ (\begin{DoxyParamCaption}\item[{\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{Control\+Mode}}]{mode }\end{DoxyParamCaption})}



Definition at line 37 of file control\+\_\+mode.\+h.


\begin{DoxyCode}
37                                                   \{
38   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\hyperlink{namespacefranka__hw_afa416558ce4baace5ac6c71bd5d2c98c}{ControlMode}\textcolor{keyword}{>}(~static\_cast<std::underlying\_type\_t<ControlMode>>(mode));
39 \}
\end{DoxyCode}
