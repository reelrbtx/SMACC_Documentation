\hypertarget{classmove__base__z__client_1_1CbAbsoluteRotate}{}\section{move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Absolute\+Rotate Class Reference}
\label{classmove__base__z__client_1_1CbAbsoluteRotate}\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}}


{\ttfamily \#include $<$cb\+\_\+absolute\+\_\+rotate.\+h$>$}



Inheritance diagram for move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Absolute\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{classmove__base__z__client_1_1CbAbsoluteRotate__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for move\+\_\+base\+\_\+z\+\_\+client\+:\+:Cb\+Absolute\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmove__base__z__client_1_1CbAbsoluteRotate__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a9af55c847c2ad3f797c873eb394ed1e8}{Cb\+Absolute\+Rotate} ()
\item 
\hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a249eeb852daaba2fef543737b64f0648}{Cb\+Absolute\+Rotate} (float \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a3732ce20b520f9df9408f849ff809a19}{absolute\+Goal\+Angle\+Degree})
\item 
virtual void \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_ab5537a52d9ddb242be60e6f9e0b231af}{on\+Entry} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
tf\+::\+Transform\+Listener \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a78740c9a93398f6a41bc4e5171e5a581}{listener}
\item 
\hyperlink{classmove__base__z__client_1_1ClMoveBaseZ}{Cl\+Move\+BaseZ} $\ast$ \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a2a96d8ec86bb2802391b044da7f10daf}{move\+Base\+Client\+\_\+}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a3732ce20b520f9df9408f849ff809a19}{absolute\+Goal\+Angle\+Degree}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 18 of file cb\+\_\+absolute\+\_\+rotate.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classmove__base__z__client_1_1CbAbsoluteRotate_a9af55c847c2ad3f797c873eb394ed1e8}\label{classmove__base__z__client_1_1CbAbsoluteRotate_a9af55c847c2ad3f797c873eb394ed1e8}} 
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}!Cb\+Absolute\+Rotate@{Cb\+Absolute\+Rotate}}
\index{Cb\+Absolute\+Rotate@{Cb\+Absolute\+Rotate}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{Cb\+Absolute\+Rotate()}{CbAbsoluteRotate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate\+::\+Cb\+Absolute\+Rotate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 6 of file cb\+\_\+absolute\+\_\+rotate.\+cpp.


\begin{DoxyCode}
7 \{
8 \}
\end{DoxyCode}
\mbox{\Hypertarget{classmove__base__z__client_1_1CbAbsoluteRotate_a249eeb852daaba2fef543737b64f0648}\label{classmove__base__z__client_1_1CbAbsoluteRotate_a249eeb852daaba2fef543737b64f0648}} 
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}!Cb\+Absolute\+Rotate@{Cb\+Absolute\+Rotate}}
\index{Cb\+Absolute\+Rotate@{Cb\+Absolute\+Rotate}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{Cb\+Absolute\+Rotate()}{CbAbsoluteRotate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate\+::\+Cb\+Absolute\+Rotate (\begin{DoxyParamCaption}\item[{float}]{absolute\+Goal\+Angle\+Degree }\end{DoxyParamCaption})}



Definition at line 10 of file cb\+\_\+absolute\+\_\+rotate.\+cpp.



References absolute\+Goal\+Angle\+Degree.


\begin{DoxyCode}
11 \{
12     this->\hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a3732ce20b520f9df9408f849ff809a19}{absoluteGoalAngleDegree} = 
      \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a3732ce20b520f9df9408f849ff809a19}{absoluteGoalAngleDegree};
13 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classmove__base__z__client_1_1CbAbsoluteRotate_ab5537a52d9ddb242be60e6f9e0b231af}\label{classmove__base__z__client_1_1CbAbsoluteRotate_ab5537a52d9ddb242be60e6f9e0b231af}} 
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{on\+Entry()}{onEntry()}}
{\footnotesize\ttfamily void move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate\+::on\+Entry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_a7962382f93987c720ad432fef55b123f}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 15 of file cb\+\_\+absolute\+\_\+rotate.\+cpp.



References absolute\+Goal\+Angle\+Degree, smacc\+::\+I\+Smacc\+Client\+::get\+Component(), smacc\+::\+Smacc\+Client\+Behavior\+::get\+Current\+State(), listener, move\+Base\+Client\+\_\+, smacc\+::\+I\+Smacc\+State\+::param(), smacc\+::\+Smacc\+Client\+Behavior\+::requires\+Client(), smacc\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal(), and move\+\_\+base\+\_\+z\+\_\+client\+::\+Planner\+Switcher\+::set\+Default\+Planners().


\begin{DoxyCode}
16 \{
17     \textcolor{keywordtype}{double} goal\_angle;
18 
19     \textcolor{keywordflow}{if} (!this->\hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a3732ce20b520f9df9408f849ff809a19}{absoluteGoalAngleDegree})
20     \{
21         this->\hyperlink{classsmacc_1_1SmaccClientBehavior_abf6773e4dd948f932f11a346dd6e7c2c}{getCurrentState}()->\hyperlink{classsmacc_1_1ISmaccState_a4f2ff8e3eda8aa9bbb60c8ff17d0def1}{param}(\textcolor{stringliteral}{"goal\_angle"}, goal\_angle, 45.0);
22     \}
23     \textcolor{keywordflow}{else}
24     \{
25         goal\_angle = *this->\hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a3732ce20b520f9df9408f849ff809a19}{absoluteGoalAngleDegree};
26     \}
27 
28     this->\hyperlink{classsmacc_1_1SmaccClientBehavior_a917f001e763a1059af337bf4e164f542}{requiresClient}(\hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a2a96d8ec86bb2802391b044da7f10daf}{moveBaseClient\_});
29 
30     \textcolor{keyword}{auto} plannerSwitcher = \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a2a96d8ec86bb2802391b044da7f10daf}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<PlannerSwitcher>();
31     \textcolor{comment}{//this should work better with a coroutine and await}
32     \textcolor{comment}{//this->plannerSwitcher\_->setForwardPlanner();}
33     plannerSwitcher->setDefaultPlanners();
34 
35     ros::Rate rate(10.0);
36     geometry\_msgs::Pose currentPoseMsg;
37     \textcolor{keywordflow}{while} (ros::ok())
38     \{
39         tf::StampedTransform currentPose;
40         \textcolor{keywordflow}{try}
41         \{
42             \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a78740c9a93398f6a41bc4e5171e5a581}{listener}.lookupTransform(\textcolor{stringliteral}{"/odom"}, \textcolor{stringliteral}{"/base\_link"},
43                                      ros::Time(0), currentPose);
44 
45             tf::poseTFToMsg(currentPose, currentPoseMsg);
46             \textcolor{keywordflow}{break};
47         \}
48         \textcolor{keywordflow}{catch} (tf::TransformException ex)
49         \{
50             ROS\_INFO(\textcolor{stringliteral}{"[CbAbsoluteRotate] Waiting transform: %s"}, ex.what());
51             ros::Duration(1.0).sleep();
52         \}
53     \}
54 
55     ClMoveBaseZ::Goal goal;
56     goal.target\_pose.header.frame\_id = \textcolor{stringliteral}{"/odom"};
57     goal.target\_pose.header.stamp = ros::Time::now();
58 
59     \textcolor{keyword}{auto} currentAngle = tf::getYaw(currentPoseMsg.orientation);
60     \textcolor{keyword}{auto} targetAngle = goal\_angle * M\_PI / 180.0;
61     goal.target\_pose.pose.position = currentPoseMsg.position;
62     goal.target\_pose.pose.orientation = tf::createQuaternionMsgFromYaw(targetAngle);
63 
64     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"current pose: "} << currentPoseMsg);
65     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"goal pose: "} << goal.target\_pose.pose);
66     \hyperlink{classmove__base__z__client_1_1CbAbsoluteRotate_a2a96d8ec86bb2802391b044da7f10daf}{moveBaseClient\_}->\hyperlink{classsmacc_1_1client__bases_1_1SmaccActionClientBase_a9c47a5094ac8afb01680307fe5eca922}{sendGoal}(goal);
67 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmove__base__z__client_1_1CbAbsoluteRotate_ab5537a52d9ddb242be60e6f9e0b231af_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classmove__base__z__client_1_1CbAbsoluteRotate_a3732ce20b520f9df9408f849ff809a19}\label{classmove__base__z__client_1_1CbAbsoluteRotate_a3732ce20b520f9df9408f849ff809a19}} 
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}!absolute\+Goal\+Angle\+Degree@{absolute\+Goal\+Angle\+Degree}}
\index{absolute\+Goal\+Angle\+Degree@{absolute\+Goal\+Angle\+Degree}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{absolute\+Goal\+Angle\+Degree}{absoluteGoalAngleDegree}}
{\footnotesize\ttfamily boost\+::optional$<$float$>$ move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate\+::absolute\+Goal\+Angle\+Degree}



Definition at line 25 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by Cb\+Absolute\+Rotate(), and on\+Entry().

\mbox{\Hypertarget{classmove__base__z__client_1_1CbAbsoluteRotate_a78740c9a93398f6a41bc4e5171e5a581}\label{classmove__base__z__client_1_1CbAbsoluteRotate_a78740c9a93398f6a41bc4e5171e5a581}} 
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}!listener@{listener}}
\index{listener@{listener}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{listener}{listener}}
{\footnotesize\ttfamily tf\+::\+Transform\+Listener move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate\+::listener}



Definition at line 21 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by on\+Entry().

\mbox{\Hypertarget{classmove__base__z__client_1_1CbAbsoluteRotate_a2a96d8ec86bb2802391b044da7f10daf}\label{classmove__base__z__client_1_1CbAbsoluteRotate_a2a96d8ec86bb2802391b044da7f10daf}} 
\index{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}!move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}}
\index{move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}!move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate@{move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate}}
\subsubsection{\texorpdfstring{move\+Base\+Client\+\_\+}{moveBaseClient\_}}
{\footnotesize\ttfamily \hyperlink{classmove__base__z__client_1_1ClMoveBaseZ}{Cl\+Move\+BaseZ}$\ast$ move\+\_\+base\+\_\+z\+\_\+client\+::\+Cb\+Absolute\+Rotate\+::move\+Base\+Client\+\_\+}



Definition at line 23 of file cb\+\_\+absolute\+\_\+rotate.\+h.



Referenced by on\+Entry().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/include/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/client\+\_\+behaviors/\hyperlink{cb__absolute__rotate_8h}{cb\+\_\+absolute\+\_\+rotate.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/src/client\+\_\+behaviors/\hyperlink{cb__absolute__rotate_8cpp}{cb\+\_\+absolute\+\_\+rotate.\+cpp}\end{DoxyCompactItemize}
