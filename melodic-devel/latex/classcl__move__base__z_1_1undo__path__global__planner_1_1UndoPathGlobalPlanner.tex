\hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner}{}\section{cl\+\_\+move\+\_\+base\+\_\+z\+:\+:undo\+\_\+path\+\_\+global\+\_\+planner\+:\+:Undo\+Path\+Global\+Planner Class Reference}
\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner}\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}


{\ttfamily \#include $<$undo\+\_\+path\+\_\+global\+\_\+planner.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:undo\+\_\+path\+\_\+global\+\_\+planner\+:\+:Undo\+Path\+Global\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:undo\+\_\+path\+\_\+global\+\_\+planner\+:\+:Undo\+Path\+Global\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aaea18b14afd15cd5160e34a3a829b46f}{Undo\+Path\+Global\+Planner} ()
\item 
virtual \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aae5dcc1ca67cffca6b96fc3d267ba448}{$\sim$\+Undo\+Path\+Global\+Planner} ()
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a46034d27c0811abae440009457a7f8b0}{make\+Plan} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&start, const geometry\+\_\+msgs\+::\+Pose\+Stamped \&goal, std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&plan)
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aca09f640e4bda4d5ccc9613276fd3f71}{make\+Plan} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&start, const geometry\+\_\+msgs\+::\+Pose\+Stamped \&goal, std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&plan, double \&cost)
\item 
virtual \hyperlink{classbool}{bool} \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a659c16f439d33ac7026a54bb65c26ca8}{create\+Default\+Undo\+Path\+Plan} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&start, const geometry\+\_\+msgs\+::\+Pose\+Stamped \&goal, std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&plan)
\item 
virtual void \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69e0fbb98872f108f679b2a6620638f5}{initialize} (std\+::string name, costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}{costmap\+\_\+ros\+\_\+}) override
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae5e3c5922ceb8783a6a01d904fc9c230}{on\+Forward\+Trail\+Msg} (const nav\+\_\+msgs\+::\+Path\+::\+Const\+Ptr \&trail\+Message)
\item 
void \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a37a85e1cd57173902d8302cb8cb9b933}{publish\+Goal\+Marker} (const geometry\+\_\+msgs\+::\+Pose \&pose, double r, double g, double b)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
ros\+::\+Node\+Handle \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a5db1360cd47ccdf63276c75f507d6470}{nh\+\_\+}
\item 
ros\+::\+Subscriber \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1cdf8a98469b5841d05a8cec9ad6f675}{forward\+Path\+Sub\+\_\+}
\item 
ros\+::\+Publisher \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a65bf364a122d5950baf1bf8b42309d68}{plan\+Pub\+\_\+}
\item 
ros\+::\+Publisher \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_abfa0536872a0e3f8c823bebf0ed398fb}{markers\+Pub\+\_\+}
\item 
nav\+\_\+msgs\+::\+Path \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{last\+Forward\+Path\+Msg\+\_\+}
\item 
costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$ \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}{costmap\+\_\+ros\+\_\+}
\begin{DoxyCompactList}\small\item\em stored but almost not used \end{DoxyCompactList}\item 
ros\+::\+Service\+Server \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad816ef70ef6152e70ad1553b11f7ad8f}{cmd\+\_\+server\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9cb4fb49c952deeb77eb1cb9648d122f}{skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+}
\item 
double \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a70302868b1ec995ddb7b0ae094591c8f}{pures\+Spinning\+Rad\+Step\+\_\+}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 17 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aaea18b14afd15cd5160e34a3a829b46f}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aaea18b14afd15cd5160e34a3a829b46f}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!Undo\+Path\+Global\+Planner@{Undo\+Path\+Global\+Planner}}
\index{Undo\+Path\+Global\+Planner@{Undo\+Path\+Global\+Planner}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{Undo\+Path\+Global\+Planner()}{UndoPathGlobalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::\+Undo\+Path\+Global\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Constructor() 

Definition at line 32 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp.



References skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+.


\begin{DoxyCode}
33         \{
34             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9cb4fb49c952deeb77eb1cb9648d122f}{skip\_straight\_motion\_distance\_} = 0.2;
35         \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aae5dcc1ca67cffca6b96fc3d267ba448}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aae5dcc1ca67cffca6b96fc3d267ba448}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!````~Undo\+Path\+Global\+Planner@{$\sim$\+Undo\+Path\+Global\+Planner}}
\index{````~Undo\+Path\+Global\+Planner@{$\sim$\+Undo\+Path\+Global\+Planner}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{$\sim$\+Undo\+Path\+Global\+Planner()}{~UndoPathGlobalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::$\sim$\+Undo\+Path\+Global\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Definition at line 37 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp.



References plan\+Pub\+\_\+.


\begin{DoxyCode}
38         \{
39             \textcolor{comment}{//clear}
40             nav\_msgs::Path planMsg;
41             planMsg.header.stamp = ros::Time::now();
42             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a65bf364a122d5950baf1bf8b42309d68}{planPub\_}.publish(planMsg);
43         \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a659c16f439d33ac7026a54bb65c26ca8}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a659c16f439d33ac7026a54bb65c26ca8}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!create\+Default\+Undo\+Path\+Plan@{create\+Default\+Undo\+Path\+Plan}}
\index{create\+Default\+Undo\+Path\+Plan@{create\+Default\+Undo\+Path\+Plan}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{create\+Default\+Undo\+Path\+Plan()}{createDefaultUndoPathPlan()}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::create\+Default\+Undo\+Path\+Plan (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{start,  }\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{goal,  }\item[{std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{plan }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

default\+Backward\+Path() 

Definition at line 118 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp.



References costmap\+\_\+ros\+\_\+, and last\+Forward\+Path\+Msg\+\_\+.



Referenced by make\+Plan().


\begin{DoxyCode}
121         \{
122             \textcolor{comment}{//ROS\_WARN\_NAMED("Backwards", "Iterating in last forward cord path");}
123             \textcolor{keywordtype}{int} i = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() - 1;
124             \textcolor{keywordtype}{double} linear\_mindist = std::numeric\_limits<double>::max();
125             \textcolor{keywordtype}{int} mindistindex = -1;
126             \textcolor{keywordtype}{double} startPoseAngle = tf::getYaw(start.pose.orientation);
127             geometry\_msgs::Pose startPositionProjected;
128 
129             \textcolor{comment}{// The goal of this code is finding the most convinient initial path pose.}
130             \textcolor{comment}{// first, find closest linear point to the current robot position}
131             \textcolor{comment}{// we start from the final goal, that is, the begining of the trajectory}
132             \textcolor{comment}{// (since this was the forward motion from the odom tracker)}
133             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &p : \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses \textcolor{comment}{/*| boost::adaptors::reversed*/})
134             \{
135                 geometry\_msgs::PoseStamped pose = p;
136                 pose.header.frame\_id = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}{costmap\_ros\_}->getGlobalFrameID();
137                 pose.header.stamp = ros::Time::now();
138 
139                 \textcolor{keywordtype}{double} dx = pose.pose.position.x - start.pose.position.x;
140                 \textcolor{keywordtype}{double} dy = pose.pose.position.y - start.pose.position.y;
141 
142                 \textcolor{keywordtype}{double} dist = sqrt(dx * dx + dy * dy);
143                 \textcolor{keywordtype}{double} angleOrientation = tf::getYaw(pose.pose.orientation);
144                 \textcolor{keywordtype}{double} angleError = fabs(angles::shortest\_angular\_distance(angleOrientation, startPoseAngle
      ));
145                 \textcolor{keywordflow}{if} (dist <= linear\_mindist)
146                 \{
147                     mindistindex = i;
148                     linear\_mindist = dist;
149                     startPositionProjected = pose.pose;
150 
151                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] initial start point search, NEWBEST\_LINEAR= "}
       << i << \textcolor{stringliteral}{". error, linear: "} << linear\_mindist << \textcolor{stringliteral}{", angular: "} << angleError);
152                 \}
153                 \textcolor{keywordflow}{else}
154                 \{
155                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] initial start point search, skipped= "} << i 
      << \textcolor{stringliteral}{". best linear error: "} << linear\_mindist << \textcolor{stringliteral}{". current error, linear: "} << dist << \textcolor{stringliteral}{" angular: "} << 
      angleError);
156                 \}
157 
158                 i--;
159             \}
160 
161             \textcolor{keywordtype}{double} \textcolor{keyword}{const} ERROR\_DISTANCE\_PURE\_SPINNING\_FACTOR = 1.5;
162             \textcolor{comment}{// Concept of second pass: now we only consider a pure spinning motion in this point. We want
       to consume some very close angular targets, (accepting a larger linear minerror of 1.5 besterror. That is,
       more or less in the same point).}
163 
164             ROS\_DEBUG(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] second angular pass"});
165             \textcolor{keywordtype}{double} angularMinDist = std::numeric\_limits<double>::max();
166             
167                 \textcolor{keywordflow}{if}(mindistindex >=  \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size())
168                     mindistindex = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() -1;\textcolor{comment}{// workaround,
       something is making a out of bound exception in poses array access}
169             \{
170                 \textcolor{keywordflow}{if}(\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() == 0)
171                 \{
172                     ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] Warning possible bug"});
173                 \}
174 
175                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] second pass loop"});
176                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = mindistindex; i >= 0; i--)
177                 \{
178                     \textcolor{comment}{// warning this index, i refers to some inverse interpretation from the previous loop,}
179                     \textcolor{comment}{// (last indexes in this path corresponds to the poses closer to our current position)}
180                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] "} << i << \textcolor{stringliteral}{"/"} << 
      \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size());
181                     \textcolor{keyword}{auto} index = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() - i -1;
182                     \textcolor{keywordflow}{if}(index < 0 || index >= \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size())
183                     \{
184                         ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] this should not happen. Check
       implementation."});
185                         \textcolor{keywordflow}{break};
186                     \}
187                     geometry\_msgs::PoseStamped pose = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses[
      \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() - i -1];
188                     
189                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] global frame"});
190                     pose.header.frame\_id = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}{costmap\_ros\_}->getGlobalFrameID();
191                     pose.header.stamp = ros::Time::now();
192 
193                     \textcolor{keywordtype}{double} dx = pose.pose.position.x - start.pose.position.x;
194                     \textcolor{keywordtype}{double} dy = pose.pose.position.y - start.pose.position.y;
195 
196                     \textcolor{keywordtype}{double} dist = sqrt(dx * dx + dy * dy);
197                     \textcolor{keywordflow}{if} (dist <= linear\_mindist * ERROR\_DISTANCE\_PURE\_SPINNING\_FACTOR)
198                     \{
199                         \textcolor{keywordtype}{double} angleOrientation = tf::getYaw(pose.pose.orientation);
200                         \textcolor{keywordtype}{double} angleError = fabs(angles::shortest\_angular\_distance(angleOrientation, 
      startPoseAngle));
201                         \textcolor{keywordflow}{if} (angleError < angularMinDist)
202                         \{
203                             angularMinDist = angleError;
204                             mindistindex = i;
205                             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] initial start point search (angular
       update), NEWBEST\_ANGULAR= "} << i << \textcolor{stringliteral}{". error, linear: "}<<  dist << \textcolor{stringliteral}{"("} << linear\_mindist << \textcolor{stringliteral}{")"} <<\textcolor{stringliteral}{", angular:
       "} << angleError << \textcolor{stringliteral}{"("} << angularMinDist << \textcolor{stringliteral}{")"});
206                         \}
207                         \textcolor{keywordflow}{else}
208                         \{
209                             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] initial start point search (angular
       update), skipped= "} << i <<\textcolor{stringliteral}{". error, linear: "}<<  dist << \textcolor{stringliteral}{"("} << linear\_mindist << \textcolor{stringliteral}{")"} <<\textcolor{stringliteral}{", angular: "}  << 
      angleError << \textcolor{stringliteral}{"("} << angularMinDist << \textcolor{stringliteral}{")"});
210                         \}
211                     \}
212                     \textcolor{keywordflow}{else}
213                     \{
214                         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] initial start point search (angular
       update) not in linear range, skipped= "} << i << \textcolor{stringliteral}{" linear error: "} << dist << \textcolor{stringliteral}{"("} << linear\_mindist << \textcolor{stringliteral}{")"});
215                     \}
216                 \}
217             \}
218 
219             \textcolor{keywordflow}{if} (mindistindex != -1)
220             \{
221                 \textcolor{comment}{//plan.push\_back(start);}
222 
223                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] Creating the backwards plan from odom tracker path
       ("} << \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() << \textcolor{stringliteral}{") poses"});
224                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] closer point to goal i="} << mindistindex << \textcolor{stringliteral}{"
       (linear min dist "} << linear\_mindist << \textcolor{stringliteral}{")"});
225                 \textcolor{comment}{// copy the path at the inverse direction}
226                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() - 1; i >= mindistindex; i-
      -)
227                 \{
228                     \textcolor{keyword}{auto} &pose = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses[i];
229                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] adding to plan i = "} << i);
230                     plan.push\_back(pose);
231                 \}
232                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] refined plan has "} << plan.size() << \textcolor{stringliteral}{"  points"});
233             \}
234             \textcolor{keywordflow}{else}
235             \{
236                 ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner ] backward global plan size:  "} << plan.size());
237             \}
238         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a659c16f439d33ac7026a54bb65c26ca8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69e0fbb98872f108f679b2a6620638f5}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69e0fbb98872f108f679b2a6620638f5}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!initialize@{initialize}}
\index{initialize@{initialize}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::initialize (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$}]{costmap\+\_\+ros }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69e0fbb98872f108f679b2a6620638f5}{initialize()} 

Definition at line 50 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp.



References costmap\+\_\+ros\+\_\+, forward\+Path\+Sub\+\_\+, markers\+Pub\+\_\+, nh\+\_\+, on\+Forward\+Trail\+Msg(), and plan\+Pub\+\_\+.


\begin{DoxyCode}
51         \{
52             \textcolor{comment}{//ROS\_INFO\_NAMED("Backwards", "UndoPathGlobalPlanner initialize");}
53             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}{costmap\_ros\_} = costmap\_ros;
54             \textcolor{comment}{//ROS\_WARN\_NAMED("Backwards", "initializating global planner, costmap address: %ld",
       (long)costmap\_ros);}
55 
56             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1cdf8a98469b5841d05a8cec9ad6f675}{forwardPathSub\_} = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a5db1360cd47ccdf63276c75f507d6470}{nh\_}.subscribe(\textcolor{stringliteral}{"odom\_tracker\_path"}, 2, &
      \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae5e3c5922ceb8783a6a01d904fc9c230}{UndoPathGlobalPlanner::onForwardTrailMsg}, \textcolor{keyword}{this});
57 
58             ros::NodeHandle nh;
59             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a65bf364a122d5950baf1bf8b42309d68}{planPub\_} = nh.advertise<nav\_msgs::Path>(\textcolor{stringliteral}{"undo\_path\_planner/global\_plan"}, 1);
60             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_abfa0536872a0e3f8c823bebf0ed398fb}{markersPub\_} = nh.advertise<visualization\_msgs::MarkerArray>(\textcolor{stringliteral}{"
      undo\_path\_planner/markers"}, 1);
61         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69e0fbb98872f108f679b2a6620638f5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a46034d27c0811abae440009457a7f8b0}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a46034d27c0811abae440009457a7f8b0}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!make\+Plan@{make\+Plan}}
\index{make\+Plan@{make\+Plan}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{make\+Plan()}{makePlan()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::make\+Plan (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{start,  }\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{goal,  }\item[{std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{plan }\end{DoxyParamCaption})}

\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a46034d27c0811abae440009457a7f8b0}{make\+Plan()} 

Definition at line 245 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp.



References costmap\+\_\+ros\+\_\+, create\+Default\+Undo\+Path\+Plan(), last\+Forward\+Path\+Msg\+\_\+, plan\+Pub\+\_\+, and publish\+Goal\+Marker().



Referenced by make\+Plan().


\begin{DoxyCode}
247         \{
248             \textcolor{comment}{//ROS\_WARN\_NAMED("Backwards", "Backwards global planner: Generating global plan ");}
249             \textcolor{comment}{//ROS\_WARN\_NAMED("Backwards", "Clearing...");}
250 
251             plan.clear();
252 
253             \textcolor{keyword}{auto} forcedGoal = \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses[
      \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() - 1]; \textcolor{comment}{// FORCE LAST POSE}
254             this->\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a659c16f439d33ac7026a54bb65c26ca8}{createDefaultUndoPathPlan}(start, forcedGoal, plan);
255             \textcolor{comment}{//this->createPureSpiningAndStragihtLineBackwardPath(start, goal, plan);}
256 
257             \textcolor{comment}{//ROS\_INFO\_STREAM(" start - " << start);}
258             \textcolor{comment}{//ROS\_INFO\_STREAM(" end - " << goal.pose.position);}
259 
260             \textcolor{comment}{//ROS\_INFO("3 - heading to goal orientation");}
261             \textcolor{comment}{//double goalOrientation = angles::normalize\_angle(tf::getYaw(goal.pose.orientation));}
262             \textcolor{comment}{//cl\_move\_base\_z::makePureSpinningSubPlan(prevState,goalOrientation,plan);}
263 
264             \textcolor{comment}{//ROS\_WARN\_STREAM( "MAKE PLAN INVOKED, plan size:"<< plan.size());}
265             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a37a85e1cd57173902d8302cb8cb9b933}{publishGoalMarker}(forcedGoal.pose, 1.0, 0, 1.0);
266 
267             nav\_msgs::Path planMsg;
268             planMsg.poses = plan;
269             planMsg.header.frame\_id = this->\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}{costmap\_ros\_}->getGlobalFrameID();
270 
271             \textcolor{comment}{// check plan rejection}
272             \textcolor{keywordtype}{bool} acceptedGlobalPlan = \textcolor{keyword}{true};
273 
274             \textcolor{comment}{// static const unsigned char NO\_INFORMATION = 255;}
275             \textcolor{comment}{// static const unsigned char LETHAL\_OBSTACLE = 254;}
276             \textcolor{comment}{// static const unsigned char INSCRIBED\_INFLATED\_OBSTACLE = 253;}
277             \textcolor{comment}{// static const unsigned char FREE\_SPACE = 0;}
278 
279             costmap\_2d::Costmap2D *costmap2d = this->\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}{costmap\_ros\_}->getCostmap();
280             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &p : plan)
281             \{
282                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} mx, my;
283                 costmap2d->worldToMap(p.pose.position.x, p.pose.position.y, mx, my);
284                 \textcolor{keyword}{auto} cost = costmap2d->getCost(mx, my);
285 
286                 \textcolor{keywordflow}{if} (cost >= costmap\_2d::INSCRIBED\_INFLATED\_OBSTACLE)
287                 \{
288                     acceptedGlobalPlan = \textcolor{keyword}{false};
289                     \textcolor{keywordflow}{break};
290                 \}
291             \}
292 
293             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a65bf364a122d5950baf1bf8b42309d68}{planPub\_}.publish(planMsg);
294 
295             \textcolor{comment}{// this was previously set to size() <= 1, but a plan with a single point is also a valid plan
       (the goal)}
296             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
297         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a46034d27c0811abae440009457a7f8b0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a46034d27c0811abae440009457a7f8b0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aca09f640e4bda4d5ccc9613276fd3f71}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aca09f640e4bda4d5ccc9613276fd3f71}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!make\+Plan@{make\+Plan}}
\index{make\+Plan@{make\+Plan}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{make\+Plan()}{makePlan()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::make\+Plan (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{start,  }\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{goal,  }\item[{std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{plan,  }\item[{double \&}]{cost }\end{DoxyParamCaption})}

\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a46034d27c0811abae440009457a7f8b0}{make\+Plan()} 

Definition at line 304 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp.



References make\+Plan().


\begin{DoxyCode}
307         \{
308             cost = 0;
309             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a46034d27c0811abae440009457a7f8b0}{makePlan}(start, goal, plan);
310             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
311         \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aca09f640e4bda4d5ccc9613276fd3f71_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae5e3c5922ceb8783a6a01d904fc9c230}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae5e3c5922ceb8783a6a01d904fc9c230}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!on\+Forward\+Trail\+Msg@{on\+Forward\+Trail\+Msg}}
\index{on\+Forward\+Trail\+Msg@{on\+Forward\+Trail\+Msg}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{on\+Forward\+Trail\+Msg()}{onForwardTrailMsg()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::on\+Forward\+Trail\+Msg (\begin{DoxyParamCaption}\item[{const nav\+\_\+msgs\+::\+Path\+::\+Const\+Ptr \&}]{trail\+Message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae5e3c5922ceb8783a6a01d904fc9c230}{on\+Forward\+Trail\+Msg()} 

Definition at line 68 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp.



References last\+Forward\+Path\+Msg\+\_\+.



Referenced by initialize().


\begin{DoxyCode}
69         \{
70             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_} = *trailMessage;
71             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"[UndoPathGlobalPlanner] received backward path msg poses ["} << 
      \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}{lastForwardPathMsg\_}.poses.size() << \textcolor{stringliteral}{"]"});
72         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae5e3c5922ceb8783a6a01d904fc9c230_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a37a85e1cd57173902d8302cb8cb9b933}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a37a85e1cd57173902d8302cb8cb9b933}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!publish\+Goal\+Marker@{publish\+Goal\+Marker}}
\index{publish\+Goal\+Marker@{publish\+Goal\+Marker}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{publish\+Goal\+Marker()}{publishGoalMarker()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::publish\+Goal\+Marker (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{pose,  }\item[{double}]{r,  }\item[{double}]{g,  }\item[{double}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a37a85e1cd57173902d8302cb8cb9b933}{publish\+Goal\+Marker()} 

Definition at line 79 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp.



References costmap\+\_\+ros\+\_\+, markers\+Pub\+\_\+, and fake\+\_\+cube\+\_\+perception\+\_\+node\+::r.



Referenced by make\+Plan().


\begin{DoxyCode}
80         \{
81             \textcolor{keywordtype}{double} phi = tf::getYaw(pose.orientation);
82             visualization\_msgs::Marker marker;
83             marker.header.frame\_id = this->\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}{costmap\_ros\_}->getGlobalFrameID();
84             marker.header.stamp = ros::Time::now();
85             marker.ns = \textcolor{stringliteral}{"my\_namespace2"};
86             marker.id = 0;
87             marker.type = visualization\_msgs::Marker::ARROW;
88             marker.action = visualization\_msgs::Marker::ADD;
89             marker.scale.x = 0.1;
90             marker.scale.y = 0.3;
91             marker.scale.z = 0.1;
92             marker.color.a = 1.0;
93             marker.color.r = \hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r};
94             marker.color.g = g;
95             marker.color.b = b;
96 
97             geometry\_msgs::Point start, end;
98             start.x = pose.position.x;
99             start.y = pose.position.y;
100 
101             end.x = pose.position.x + 0.5 * cos(phi);
102             end.y = pose.position.y + 0.5 * sin(phi);
103 
104             marker.points.push\_back(start);
105             marker.points.push\_back(end);
106 
107             visualization\_msgs::MarkerArray ma;
108             ma.markers.push\_back(marker);
109 
110             \hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_abfa0536872a0e3f8c823bebf0ed398fb}{markersPub\_}.publish(ma);
111         \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a37a85e1cd57173902d8302cb8cb9b933_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad816ef70ef6152e70ad1553b11f7ad8f}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad816ef70ef6152e70ad1553b11f7ad8f}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!cmd\+\_\+server\+\_\+@{cmd\+\_\+server\+\_\+}}
\index{cmd\+\_\+server\+\_\+@{cmd\+\_\+server\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{cmd\+\_\+server\+\_\+}{cmd\_server\_}}
{\footnotesize\ttfamily ros\+::\+Service\+Server cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::cmd\+\_\+server\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 54 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab63eeb465e3ae989a6edcc4d059cf8f0}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!costmap\+\_\+ros\+\_\+@{costmap\+\_\+ros\+\_\+}}
\index{costmap\+\_\+ros\+\_\+@{costmap\+\_\+ros\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{costmap\+\_\+ros\+\_\+}{costmap\_ros\_}}
{\footnotesize\ttfamily costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS$\ast$ cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::costmap\+\_\+ros\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



stored but almost not used 



Definition at line 48 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.



Referenced by create\+Default\+Undo\+Path\+Plan(), initialize(), make\+Plan(), and publish\+Goal\+Marker().

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1cdf8a98469b5841d05a8cec9ad6f675}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1cdf8a98469b5841d05a8cec9ad6f675}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!forward\+Path\+Sub\+\_\+@{forward\+Path\+Sub\+\_\+}}
\index{forward\+Path\+Sub\+\_\+@{forward\+Path\+Sub\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{forward\+Path\+Sub\+\_\+}{forwardPathSub\_}}
{\footnotesize\ttfamily ros\+::\+Subscriber cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::forward\+Path\+Sub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 39 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.



Referenced by initialize().

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9a4a6e40f5b6cb5f77dedbc5b6170871}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!last\+Forward\+Path\+Msg\+\_\+@{last\+Forward\+Path\+Msg\+\_\+}}
\index{last\+Forward\+Path\+Msg\+\_\+@{last\+Forward\+Path\+Msg\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{last\+Forward\+Path\+Msg\+\_\+}{lastForwardPathMsg\_}}
{\footnotesize\ttfamily nav\+\_\+msgs\+::\+Path cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::last\+Forward\+Path\+Msg\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 45 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.



Referenced by create\+Default\+Undo\+Path\+Plan(), make\+Plan(), and on\+Forward\+Trail\+Msg().

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_abfa0536872a0e3f8c823bebf0ed398fb}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_abfa0536872a0e3f8c823bebf0ed398fb}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!markers\+Pub\+\_\+@{markers\+Pub\+\_\+}}
\index{markers\+Pub\+\_\+@{markers\+Pub\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{markers\+Pub\+\_\+}{markersPub\_}}
{\footnotesize\ttfamily ros\+::\+Publisher cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::markers\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 43 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.



Referenced by initialize(), and publish\+Goal\+Marker().

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a5db1360cd47ccdf63276c75f507d6470}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a5db1360cd47ccdf63276c75f507d6470}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!nh\+\_\+@{nh\+\_\+}}
\index{nh\+\_\+@{nh\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{nh\+\_\+}{nh\_}}
{\footnotesize\ttfamily ros\+::\+Node\+Handle cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::nh\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 37 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.



Referenced by initialize().

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a65bf364a122d5950baf1bf8b42309d68}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a65bf364a122d5950baf1bf8b42309d68}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!plan\+Pub\+\_\+@{plan\+Pub\+\_\+}}
\index{plan\+Pub\+\_\+@{plan\+Pub\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{plan\+Pub\+\_\+}{planPub\_}}
{\footnotesize\ttfamily ros\+::\+Publisher cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::plan\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 41 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.



Referenced by initialize(), make\+Plan(), and $\sim$\+Undo\+Path\+Global\+Planner().

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a70302868b1ec995ddb7b0ae094591c8f}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a70302868b1ec995ddb7b0ae094591c8f}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!pures\+Spinning\+Rad\+Step\+\_\+@{pures\+Spinning\+Rad\+Step\+\_\+}}
\index{pures\+Spinning\+Rad\+Step\+\_\+@{pures\+Spinning\+Rad\+Step\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{pures\+Spinning\+Rad\+Step\+\_\+}{puresSpinningRadStep\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::pures\+Spinning\+Rad\+Step\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 58 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9cb4fb49c952deeb77eb1cb9648d122f}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9cb4fb49c952deeb77eb1cb9648d122f}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}!skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+@{skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+}}
\index{skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+@{skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner@{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner}}
\subsubsection{\texorpdfstring{skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+}{skip\_straight\_motion\_distance\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 56 of file undo\+\_\+path\+\_\+global\+\_\+planner.\+h.



Referenced by Undo\+Path\+Global\+Planner().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/undo\+\_\+path\+\_\+global\+\_\+planner/include/undo\+\_\+path\+\_\+global\+\_\+planner/\hyperlink{undo__path__global__planner_8h}{undo\+\_\+path\+\_\+global\+\_\+planner.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/undo\+\_\+path\+\_\+global\+\_\+planner/src/\hyperlink{undo__path__global__planner_8cpp}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}\end{DoxyCompactItemize}
