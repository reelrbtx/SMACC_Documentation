\hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion}{}\section{cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Circular\+Pouring\+Motion Class Reference}
\label{classcl__move__group__interface_1_1CbCircularPouringMotion}\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}


{\ttfamily \#include $<$cb\+\_\+pouring\+\_\+motion.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Circular\+Pouring\+Motion\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__move__group__interface_1_1CbCircularPouringMotion__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Circular\+Pouring\+Motion\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbCircularPouringMotion__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a774a9d74ca112002c89a375f06166257}{Cb\+Circular\+Pouring\+Motion} (const geometry\+\_\+msgs\+::\+Point\+Stamped \&pivot\+Point, double delta\+Height, std\+::string tip\+Link=\char`\"{}\char`\"{})
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344}{generate\+Trajectory} () override
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322}{create\+Markers} () override
\item 
void \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a0cc72cc5233ecb0c264621d4d9501b30}{get\+Current\+End\+Effector\+Pose} (tf\+::\+Stamped\+Transform \&current\+End\+Effector\+Transform)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
boost\+::optional$<$ double $>$ \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7f69b3f95281fc14902117d637b59972}{angular\+Speed\+\_\+rad\+\_\+s\+\_\+}
\item 
boost\+::optional$<$ double $>$ \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}{linear\+Speed\+\_\+m\+\_\+s\+\_\+}
\item 
geometry\+\_\+msgs\+::\+Vector3 \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c2cc7f70981981a723818039450cfe8}{direction\+Vector\+\_\+}
\item 
geometry\+\_\+msgs\+::\+Pose \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a5ebef44cab4cb3dec5148232ef0eb2f8}{pointer\+Relative\+Pose\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
geometry\+\_\+msgs\+::\+Point\+Stamped \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivot\+Point\+\_\+}
\item 
double \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{delta\+Height\+\_\+}
\item 
std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a6f53442c47cf9280d8be72ea1c35546f}{pointer\+Trajectory\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4986b396e0ba318a0046feea3f6eede6}{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 14 of file cb\+\_\+pouring\+\_\+motion.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a774a9d74ca112002c89a375f06166257}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a774a9d74ca112002c89a375f06166257}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!Cb\+Circular\+Pouring\+Motion@{Cb\+Circular\+Pouring\+Motion}}
\index{Cb\+Circular\+Pouring\+Motion@{Cb\+Circular\+Pouring\+Motion}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{Cb\+Circular\+Pouring\+Motion()}{CbCircularPouringMotion()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::\+Cb\+Circular\+Pouring\+Motion (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Point\+Stamped \&}]{pivot\+Point,  }\item[{double}]{delta\+Height,  }\item[{std\+::string}]{tip\+Link = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Definition at line 13 of file cb\+\_\+pouring\+\_\+motion.\+cpp.


\begin{DoxyCode}
14         : \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}(planePivotPoint)
15         , \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{deltaHeight\_}(deltaHeight)
16         , \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}{CbMoveEndEffectorTrajectory}(tipLink)
17     \{
18     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a4986b396e0ba318a0046feea3f6eede6}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a4986b396e0ba318a0046feea3f6eede6}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot@{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot}}
\index{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot@{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot()}{computeCurrentEndEffectorPoseRelativeToPivot()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!create\+Markers@{create\+Markers}}
\index{create\+Markers@{create\+Markers}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{create\+Markers()}{createMarkers()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::create\+Markers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}.



Definition at line 137 of file cb\+\_\+pouring\+\_\+motion.\+cpp.



References cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::beahior\+Markers\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::create\+Markers(), pivot\+Point\+\_\+, and pointer\+Trajectory\+\_\+.


\begin{DoxyCode}
138     \{
139         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}{CbMoveEndEffectorTrajectory::createMarkers}();
140 
141         visualization\_msgs::Marker marker;
142 
143         marker.ns = \textcolor{stringliteral}{"trajectory"};
144         marker.id = \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers.size();
145         marker.type = visualization\_msgs::Marker::SPHERE;
146         marker.action = visualization\_msgs::Marker::ADD;
147         marker.scale.x = 0.01;
148         marker.scale.y = 0.01;
149         marker.scale.z = 0.01;
150 
151         marker.color.a = 1.0;
152         marker.color.r = 0.0;
153         marker.color.g = 0;
154         marker.color.b = 1.0;
155 
156         marker.pose.position = this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.point;
157         marker.header.frame\_id = this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.header.frame\_id;
158         marker.header.stamp = ros::Time::now();
159 
160         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers.push\_back(marker);
161 
162 
163         tf::Transform localdirection;
164         localdirection.setIdentity();
165         localdirection.setOrigin(tf::Vector3(0.05, 0, 0));
166         \textcolor{keyword}{auto} frameid = this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a6f53442c47cf9280d8be72ea1c35546f}{pointerTrajectory\_}.front().header.frame\_id;
167 
168         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &pose : this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a6f53442c47cf9280d8be72ea1c35546f}{pointerTrajectory\_})
169         \{
170             visualization\_msgs::Marker marker;
171             marker.header.frame\_id = frameid;
172             marker.header.stamp = ros::Time::now();
173             marker.ns = \textcolor{stringliteral}{"trajectory"};
174             marker.id = this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers.size();
175             marker.type = visualization\_msgs::Marker::ARROW;
176             marker.action = visualization\_msgs::Marker::ADD;
177             marker.scale.x = 0.005;
178             marker.scale.y = 0.01;
179             marker.scale.z = 0.01;
180             marker.color.a = 0.8;
181             marker.color.r = 0.0;
182             marker.color.g = 1;
183             marker.color.b = 0.0;
184 
185             geometry\_msgs::Point start, end;
186             start.x = 0;
187             start.y = 0;
188             start.z = 0;
189 
190             tf::Transform basetransform;
191             tf::poseMsgToTF(pose.pose, basetransform);
192             tf::Transform endarrow = localdirection * basetransform;
193 
194             end.x = localdirection.getOrigin().x();
195             end.y = localdirection.getOrigin().y();
196             end.z = localdirection.getOrigin().z();
197 
198             marker.pose.position = pose.pose.position;
199             marker.pose.orientation = pose.pose.orientation;
200             marker.points.push\_back(start);
201             marker.points.push\_back(end);
202 
203             \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers.push\_back(marker);
204         \}
205     \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!generate\+Trajectory@{generate\+Trajectory}}
\index{generate\+Trajectory@{generate\+Trajectory}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{generate\+Trajectory()}{generateTrajectory()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::generate\+Trajectory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}.



Definition at line 44 of file cb\+\_\+pouring\+\_\+motion.\+cpp.



References delta\+Height\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::end\+Effector\+Trajectory\+\_\+, get\+Current\+End\+Effector\+Pose(), linear\+Speed\+\_\+m\+\_\+s\+\_\+, pivot\+Point\+\_\+, pointer\+Relative\+Pose\+\_\+, and pointer\+Trajectory\+\_\+.


\begin{DoxyCode}
45     \{
46         \textcolor{comment}{// at least 1 sample per centimeter (average)        }
47         \textcolor{keyword}{const} \textcolor{keywordtype}{double} METERS\_PER\_SAMPLE = 0.005;
48 
49         \textcolor{keywordtype}{float} dist\_meters =0;
50         \textcolor{keywordtype}{float} totallineardist = fabs(this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{deltaHeight\_});
51 
52         \textcolor{keywordtype}{int} totalSamplesCount = totallineardist / METERS\_PER\_SAMPLE;
53         \textcolor{keywordtype}{int} steps = totallineardist/ METERS\_PER\_SAMPLE;
54 
55         \textcolor{keywordtype}{float} interpolation\_factor\_step = 1.0/totalSamplesCount;
56 
57         \textcolor{keywordtype}{double} secondsPerSample;
58 
59         \textcolor{keywordflow}{if} (\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}{linearSpeed\_m\_s\_})
60         \{
61             secondsPerSample = METERS\_PER\_SAMPLE / (*linearSpeed\_m\_s\_);
62         \}
63         \textcolor{keywordflow}{else}
64         \{
65             secondsPerSample = std::numeric\_limits<double>::max();
66         \}
67 
68         tf::StampedTransform currentEndEffectorTransform;
69 
70         this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a0cc72cc5233ecb0c264621d4d9501b30}{getCurrentEndEffectorPose}(currentEndEffectorTransform);
71 
72         tf::Transform lidEndEffectorTransform;
73         tf::poseMsgToTF(this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a5ebef44cab4cb3dec5148232ef0eb2f8}{pointerRelativePose\_}, lidEndEffectorTransform);
74 
75         tf::Vector3 v0, v1;
76         v0 = (currentEndEffectorTransform * lidEndEffectorTransform).getOrigin();
77 
78         tf::Vector3 pivot;
79         tf::pointMsgToTF(\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.point,pivot);
80         v0 = v0 - pivot ;
81         v1 = v0;
82         v1.setZ(v1.z() + this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{deltaHeight\_});
83 
84         tf::Vector3 vp1(v1);
85         tf::Vector3 vp0(v0);
86         tf::Quaternion rotation = tf::shortestArcQuatNormalize2(vp0, vp1);
87 
88         tf::Quaternion initialEndEffectorOrientation = currentEndEffectorTransform.getRotation();
89         \textcolor{keyword}{auto} finalEndEffectorOrientation = initialEndEffectorOrientation* rotation ;
90 
91         tf::Quaternion initialPointerOrientation = initialEndEffectorOrientation * lidEndEffectorTransform.
      getRotation();
92         tf::Quaternion finalPointerOrientation = finalEndEffectorOrientation * lidEndEffectorTransform.
      getRotation();
93 
94         \textcolor{keyword}{auto} shortestAngle = tf::angleShortestPath(initialEndEffectorOrientation, 
      finalEndEffectorOrientation);
95 
96         v0+=pivot;
97         v1+=pivot;
98         
99         \textcolor{keywordtype}{float} linc = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}{deltaHeight\_}/steps;\textcolor{comment}{// METERS\_PER\_SAMPLE with sign}
100         \textcolor{keywordtype}{float} interpolation\_factor = 0;
101         tf::Vector3 vi = v0;
102 
103         tf::Transform invertedLidTransform = lidEndEffectorTransform.inverse(); 
104 
105         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{float} i =0; i < steps; i++)
106         \{
107             \textcolor{keyword}{auto} currentEndEffectorOrientation = tf::slerp(initialEndEffectorOrientation, 
      finalEndEffectorOrientation, interpolation\_factor);
108             \textcolor{keyword}{auto} currentPointerOrientation = tf::slerp(initialPointerOrientation, finalPointerOrientation, 
      interpolation\_factor);
109 
110             interpolation\_factor += interpolation\_factor\_step;
111             dist\_meters += linc;
112 
113             vi = v0;
114             vi.setZ(vi.getZ() + dist\_meters);
115 
116             tf::Transform pose;
117             pose.setOrigin(vi);
118             pose.setRotation(currentPointerOrientation);
119 
120             geometry\_msgs::PoseStamped pointerPose;
121             tf::poseTFToMsg(pose, pointerPose.pose);
122             pointerPose.header.frame\_id = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.header.frame\_id;
123             pointerPose.header.stamp = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.header.stamp + ros::Duration(i * 
      secondsPerSample);
124             this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a6f53442c47cf9280d8be72ea1c35546f}{pointerTrajectory\_}.push\_back(pointerPose);
125 
126             tf::Transform poseEndEffector = pose * invertedLidTransform;
127             
128             geometry\_msgs::PoseStamped globalEndEffectorPose;
129             tf::poseTFToMsg(poseEndEffector, globalEndEffectorPose.pose);
130             globalEndEffectorPose.header.frame\_id = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.header.frame\_id;
131             globalEndEffectorPose.header.stamp = \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.header.stamp + ros::Duration(i * 
      secondsPerSample);
132 
133             this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}.push\_back(globalEndEffectorPose);
134         \}
135     \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a0cc72cc5233ecb0c264621d4d9501b30}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a0cc72cc5233ecb0c264621d4d9501b30}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!get\+Current\+End\+Effector\+Pose@{get\+Current\+End\+Effector\+Pose}}
\index{get\+Current\+End\+Effector\+Pose@{get\+Current\+End\+Effector\+Pose}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{get\+Current\+End\+Effector\+Pose()}{getCurrentEndEffectorPose()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::get\+Current\+End\+Effector\+Pose (\begin{DoxyParamCaption}\item[{tf\+::\+Stamped\+Transform \&}]{current\+End\+Effector\+Transform }\end{DoxyParamCaption})}



Definition at line 20 of file cb\+\_\+pouring\+\_\+motion.\+cpp.



References cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::move\+Group\+Client\+Interface, pivot\+Point\+\_\+, and cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::tip\+Link\+\_\+.



Referenced by generate\+Trajectory().


\begin{DoxyCode}
21     \{
22         tf::TransformListener tfListener;
23 
24         \textcolor{keywordflow}{try}
25         \{
26             \textcolor{keywordflow}{if} (!\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} || *\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} == \textcolor{stringliteral}{""})
27             \{
28                 \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} = this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->
      \hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}.getEndEffectorLink();
29             \}
30 
31             tfListener.waitForTransform(this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.header.frame\_id, *
      \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_}, ros::Time(0), ros::Duration(10));
32             tfListener.lookupTransform(this->\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}{pivotPoint\_}.header.frame\_id, *
      \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_}, ros::Time(0), currentEndEffectorTransform);
33 
34             \textcolor{comment}{// we define here the global frame as the pivot frame id}
35             \textcolor{comment}{// tfListener.waitForTransform(currentRobotEndEffectorPose.header.frame\_id,
       planePivotPose\_.header.frame\_id, ros::Time(0), ros::Duration(10));}
36             \textcolor{comment}{// tfListener.lookupTransform(currentRobotEndEffectorPose.header.frame\_id,
       planePivotPose\_.header.frame\_id, ros::Time(0), globalBaseLink);}
37         \}
38         \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception &e)
39         \{
40             std::cerr << e.what() << \textcolor{charliteral}{'\(\backslash\)n'};
41         \}
42     \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbCircularPouringMotion_a0cc72cc5233ecb0c264621d4d9501b30_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a7f69b3f95281fc14902117d637b59972}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a7f69b3f95281fc14902117d637b59972}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!angular\+Speed\+\_\+rad\+\_\+s\+\_\+@{angular\+Speed\+\_\+rad\+\_\+s\+\_\+}}
\index{angular\+Speed\+\_\+rad\+\_\+s\+\_\+@{angular\+Speed\+\_\+rad\+\_\+s\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{angular\+Speed\+\_\+rad\+\_\+s\+\_\+}{angularSpeed\_rad\_s\_}}
{\footnotesize\ttfamily boost\+::optional$<$double$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::angular\+Speed\+\_\+rad\+\_\+s\+\_\+}



Definition at line 17 of file cb\+\_\+pouring\+\_\+motion.\+h.

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a7009d617bcd8ac1fba49100444434f3c}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!delta\+Height\+\_\+@{delta\+Height\+\_\+}}
\index{delta\+Height\+\_\+@{delta\+Height\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{delta\+Height\+\_\+}{deltaHeight\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::delta\+Height\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 38 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by generate\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c2cc7f70981981a723818039450cfe8}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c2cc7f70981981a723818039450cfe8}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!direction\+Vector\+\_\+@{direction\+Vector\+\_\+}}
\index{direction\+Vector\+\_\+@{direction\+Vector\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{direction\+Vector\+\_\+}{directionVector\_}}
{\footnotesize\ttfamily geometry\+\_\+msgs\+::\+Vector3 cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::direction\+Vector\+\_\+}



Definition at line 29 of file cb\+\_\+pouring\+\_\+motion.\+h.

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_ac78ce543451cbb78c95862dd4273deb7}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!linear\+Speed\+\_\+m\+\_\+s\+\_\+@{linear\+Speed\+\_\+m\+\_\+s\+\_\+}}
\index{linear\+Speed\+\_\+m\+\_\+s\+\_\+@{linear\+Speed\+\_\+m\+\_\+s\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{linear\+Speed\+\_\+m\+\_\+s\+\_\+}{linearSpeed\_m\_s\_}}
{\footnotesize\ttfamily boost\+::optional$<$double$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::linear\+Speed\+\_\+m\+\_\+s\+\_\+}



Definition at line 19 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by generate\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a4c100d8ba3e57f7ddfb614017d115fca}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!pivot\+Point\+\_\+@{pivot\+Point\+\_\+}}
\index{pivot\+Point\+\_\+@{pivot\+Point\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{pivot\+Point\+\_\+}{pivotPoint\_}}
{\footnotesize\ttfamily geometry\+\_\+msgs\+::\+Point\+Stamped cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::pivot\+Point\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 35 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by create\+Markers(), generate\+Trajectory(), and get\+Current\+End\+Effector\+Pose().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a5ebef44cab4cb3dec5148232ef0eb2f8}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a5ebef44cab4cb3dec5148232ef0eb2f8}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!pointer\+Relative\+Pose\+\_\+@{pointer\+Relative\+Pose\+\_\+}}
\index{pointer\+Relative\+Pose\+\_\+@{pointer\+Relative\+Pose\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{pointer\+Relative\+Pose\+\_\+}{pointerRelativePose\_}}
{\footnotesize\ttfamily geometry\+\_\+msgs\+::\+Pose cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::pointer\+Relative\+Pose\+\_\+}



Definition at line 33 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by generate\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbCircularPouringMotion_a6f53442c47cf9280d8be72ea1c35546f}\label{classcl__move__group__interface_1_1CbCircularPouringMotion_a6f53442c47cf9280d8be72ea1c35546f}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}!pointer\+Trajectory\+\_\+@{pointer\+Trajectory\+\_\+}}
\index{pointer\+Trajectory\+\_\+@{pointer\+Trajectory\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}
\subsubsection{\texorpdfstring{pointer\+Trajectory\+\_\+}{pointerTrajectory\_}}
{\footnotesize\ttfamily std\+::vector$<$geometry\+\_\+msgs\+::\+Pose\+Stamped$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::pointer\+Trajectory\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 40 of file cb\+\_\+pouring\+\_\+motion.\+h.



Referenced by create\+Markers(), and generate\+Trajectory().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\hyperlink{cb__pouring__motion_8h}{cb\+\_\+pouring\+\_\+motion.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/src/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\hyperlink{cb__pouring__motion_8cpp}{cb\+\_\+pouring\+\_\+motion.\+cpp}\end{DoxyCompactItemize}
