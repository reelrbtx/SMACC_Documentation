\hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory}{}\section{cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Move\+End\+Effector\+Trajectory Class Reference}
\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory}\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}


{\ttfamily \#include $<$cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Move\+End\+Effector\+Trajectory\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+:\+:Cb\+Move\+End\+Effector\+Trajectory\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}{Cb\+Move\+End\+Effector\+Trajectory} (std\+::string tip\+Link=\char`\"{}\char`\"{})
\item 
\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae6985de3f8f0e1ec7dea88c1e551889a}{Cb\+Move\+End\+Effector\+Trajectory} (const std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&end\+Effector\+Trajectory, std\+::string tip\+Link=\char`\"{}\char`\"{})
\item 
{\footnotesize template$<$typename T\+Orthogonal , typename T\+Source\+Object $>$ }\\void \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aae4797fba54cb3bf371cc67d26a82186}{on\+Orthogonal\+Allocation} ()
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3}{on\+Entry} () override
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a4952c092e69bc6e9831568de32888da5}{on\+Exit} () override
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a57fedb6a0603fe569842a13faf19f5cd}{update} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
boost\+::optional$<$ std\+::string $>$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa247cf74c1d4878bacecba836a839fa7}{group\+\_\+}
\item 
boost\+::optional$<$ std\+::string $>$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tip\+Link\+\_\+}
\item 
boost\+::optional$<$ \hyperlink{classbool}{bool} $>$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a01e02533602d045538fd8ccc9a011ea7}{allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017}{Compute\+Joint\+Trajectory\+Error\+Code} \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a485057c052729edd3e8303440b7ada66}{compute\+Joint\+Space\+Trajectory} (moveit\+\_\+msgs\+::\+Robot\+Trajectory \&computed\+Joint\+Trajectory)
\item 
void \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a3a75fa185c62591e1869427650338a32}{execute\+Joint\+Space\+Trajectory} (const moveit\+\_\+msgs\+::\+Robot\+Trajectory \&computed\+Joint\+Trajectory)
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}{generate\+Trajectory} ()
\item 
virtual void \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}{create\+Markers} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{end\+Effector\+Trajectory\+\_\+}
\item 
\hyperlink{classcl__move__group__interface_1_1ClMoveGroup}{Cl\+Move\+Group} $\ast$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroup\+Client\+\_\+}
\item 
visualization\+\_\+msgs\+::\+Marker\+Array \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahior\+Markers\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}{initialize\+R\+OS} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
ros\+::\+Publisher \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aabc2216b2d8625fecd83c5ec69928e63}{markers\+Pub\+\_\+}
\item 
std\+::atomic$<$ \hyperlink{classbool}{bool} $>$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markers\+Initialized\+\_\+} = false
\item 
ros\+::\+Service\+Client \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a8a2e2225a5b53325241e45e4e28fa3a7}{iksrv\+\_\+}
\item 
std\+::mutex \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}{m\+\_\+mutex\+\_\+}
\item 
std\+::function$<$ void(moveit\+\_\+msgs\+::\+Robot\+Trajectory \&)$>$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a308331beab9b2ec0eae72fa56fa999c9}{post\+Joint\+Discontinuity\+Event}
\item 
std\+::function$<$ void(moveit\+\_\+msgs\+::\+Robot\+Trajectory \&)$>$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6180230347c922fa0d85f514ce5029df}{post\+Incorrect\+Initial\+State\+Event}
\item 
std\+::function$<$ void()$>$ \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}{post\+Motion\+Execution\+Failure\+Events}
\item 
\hyperlink{classbool}{bool} \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a790c30b94509dc6f4d0064f6356a04db}{autocleanmarkers} = false
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 34 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!Cb\+Move\+End\+Effector\+Trajectory@{Cb\+Move\+End\+Effector\+Trajectory}}
\index{Cb\+Move\+End\+Effector\+Trajectory@{Cb\+Move\+End\+Effector\+Trajectory}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{Cb\+Move\+End\+Effector\+Trajectory()}{CbMoveEndEffectorTrajectory()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::\+Cb\+Move\+End\+Effector\+Trajectory (\begin{DoxyParamCaption}\item[{std\+::string}]{tip\+Link = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Definition at line 15 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References initialize\+R\+O\+S().


\begin{DoxyCode}
16         : \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_}(tipLink)
17     \{
18         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}{initializeROS}();
19     \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae6985de3f8f0e1ec7dea88c1e551889a}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae6985de3f8f0e1ec7dea88c1e551889a}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!Cb\+Move\+End\+Effector\+Trajectory@{Cb\+Move\+End\+Effector\+Trajectory}}
\index{Cb\+Move\+End\+Effector\+Trajectory@{Cb\+Move\+End\+Effector\+Trajectory}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{Cb\+Move\+End\+Effector\+Trajectory()}{CbMoveEndEffectorTrajectory()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::\+Cb\+Move\+End\+Effector\+Trajectory (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{end\+Effector\+Trajectory,  }\item[{std\+::string}]{tip\+Link = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Definition at line 21 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References initialize\+R\+O\+S().


\begin{DoxyCode}
22         : \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}(endEffectorTrajectory), 
      \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_}(tipLink)
23 
24     \{
25         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}{initializeROS}();
26     \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae6985de3f8f0e1ec7dea88c1e551889a_cgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a485057c052729edd3e8303440b7ada66}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a485057c052729edd3e8303440b7ada66}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!compute\+Joint\+Space\+Trajectory@{compute\+Joint\+Space\+Trajectory}}
\index{compute\+Joint\+Space\+Trajectory@{compute\+Joint\+Space\+Trajectory}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{compute\+Joint\+Space\+Trajectory()}{computeJointSpaceTrajectory()}}
{\footnotesize\ttfamily \hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017}{Compute\+Joint\+Trajectory\+Error\+Code} cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::compute\+Joint\+Space\+Trajectory (\begin{DoxyParamCaption}\item[{moveit\+\_\+msgs\+::\+Robot\+Trajectory \&}]{computed\+Joint\+Trajectory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 35 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+, smacc\+::\+I\+Smacc\+Client\+Behavior\+::current\+State, end\+Effector\+Trajectory\+\_\+, iksrv\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+I\+N\+C\+O\+R\+R\+E\+C\+T\+\_\+\+I\+N\+I\+T\+I\+A\+L\+\_\+\+S\+T\+A\+TE, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+J\+O\+I\+N\+T\+\_\+\+T\+R\+A\+J\+E\+C\+T\+O\+R\+Y\+\_\+\+D\+I\+S\+C\+O\+N\+T\+I\+N\+U\+I\+TY, movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::move\+Group\+Client\+Interface, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+S\+U\+C\+C\+E\+SS, and tip\+Link\+\_\+.



Referenced by on\+Entry().


\begin{DoxyCode}
36     \{
37         \textcolor{comment}{// get current robot state}
38         \textcolor{keyword}{auto} \hyperlink{classsmacc_1_1ISmaccClientBehavior_a5a6658a2deb72b700ae595e594617616}{currentState} = \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->
      \hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}.getCurrentState();
39 
40         \textcolor{comment}{// get the IK client}
41         \textcolor{keyword}{auto} groupname = \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->
      \hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}.getName();
42         \textcolor{keyword}{auto} currentjointnames = \hyperlink{classsmacc_1_1ISmaccClientBehavior_a5a6658a2deb72b700ae595e594617616}{currentState}->getJointModelGroup(groupname)->
      getActiveJointModelNames();
43 
44         \textcolor{keywordflow}{if} (!\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} || *\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} == \textcolor{stringliteral}{""})
45         \{
46             \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_} = \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->
      \hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}.getEndEffectorLink();
47         \}
48 
49         std::vector<double> jointPositions;
50         \hyperlink{classsmacc_1_1ISmaccClientBehavior_a5a6658a2deb72b700ae595e594617616}{currentState}->copyJointGroupPositions(groupname, jointPositions);
51 
52         std::vector<std::vector<double>> trajectory;
53         std::vector<ros::Duration> trajectoryTimeStamps;
54 
55         trajectory.push\_back(jointPositions);
56         trajectoryTimeStamps.push\_back(ros::Duration(0));
57 
58         \textcolor{keyword}{auto} &first = \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}.front();
59         ros::Time referenceTime = first.header.stamp;
60 
61         \textcolor{keywordtype}{int} discontinuity = 0;
62         \textcolor{keywordtype}{bool} initialStateDiscontinuity = \textcolor{keyword}{false};
63 
64         \textcolor{keywordtype}{int} ikAttempts = 4;
65         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}.size(); k++)
66         \{
67             \textcolor{keyword}{auto} &pose = this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}[k];
68             moveit\_msgs::GetPositionIKRequest req;
69 
70             req.ik\_request.ik\_link\_name = *\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}{tipLink\_};
71             req.ik\_request.robot\_state.joint\_state.name = currentjointnames;
72             req.ik\_request.robot\_state.joint\_state.position = jointPositions;
73 
74             req.ik\_request.group\_name = groupname;
75             req.ik\_request.avoid\_collisions = \textcolor{keyword}{true};
76 
77             moveit\_msgs::GetPositionIKResponse res;
78 
79             \textcolor{comment}{//pose.header.stamp = ros::Time::now();}
80             req.ik\_request.pose\_stamped = pose;
81 
82             ROS\_WARN\_STREAM(\textcolor{stringliteral}{"IK request: "} << req);
83             \textcolor{keywordflow}{if} (\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a8a2e2225a5b53325241e45e4e28fa3a7}{iksrv\_}.call(req, res))
84             \{
85                 \textcolor{keyword}{auto} &prevtrajpoint = trajectory.back();
86                 \textcolor{comment}{//jointPositions.clear();}
87 
88                 std::stringstream ss;
89                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < res.solution.joint\_state.position.size(); j++)
90                 \{
91                     \textcolor{keyword}{auto} &jointname = res.solution.joint\_state.name[j];
92                     \textcolor{keyword}{auto} it = std::find(currentjointnames.begin(), currentjointnames.end(), jointname);
93                     \textcolor{keywordflow}{if} (it != currentjointnames.end())
94                     \{
95                         \textcolor{keywordtype}{int} index = std::distance(currentjointnames.begin(), it);
96                         jointPositions[index] = res.solution.joint\_state.position[j];
97                         ss << jointname << \textcolor{stringliteral}{"("} << index << \textcolor{stringliteral}{"): "} << jointPositions[index] << std::endl;
98                     \}
99                 \}
100 
101                 \textcolor{comment}{// continuity check}
102                 \textcolor{keywordtype}{int} jointindex = 0;
103                 \textcolor{keywordtype}{int} discontinuityJointIndex = -1;
104                 \textcolor{keywordtype}{double} discontinuityDeltaJointIndex = -1;
105                 \textcolor{keywordtype}{double} deltajoint;
106 
107                 \textcolor{keywordtype}{bool} check = k > 0 || !
      \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a01e02533602d045538fd8ccc9a011ea7}{allowInitialTrajectoryStateJointDiscontinuity\_} || 
      \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a01e02533602d045538fd8ccc9a011ea7}{allowInitialTrajectoryStateJointDiscontinuity\_} && !
      (*allowInitialTrajectoryStateJointDiscontinuity\_);
108                 \textcolor{keywordflow}{if} (check)
109                 \{
110                     \textcolor{keywordflow}{for} (jointindex = 0; jointindex < jointPositions.size(); jointindex++)
111                     \{
112                         deltajoint = jointPositions[jointindex] - prevtrajpoint[jointindex];
113 
114                         \textcolor{keywordflow}{if} (!discontinuity && fabs(deltajoint) > 0.1 \textcolor{comment}{/*2.5 deg*/})
115                         \{
116                             discontinuity++;
117                             discontinuityDeltaJointIndex = deltajoint;
118                             discontinuityJointIndex = jointindex;
119 
120                             \textcolor{keywordflow}{if} (k == 0)
121                                 initialStateDiscontinuity = \textcolor{keyword}{true};
122                         \}
123                     \}
124                 \}
125 
126                 \textcolor{keywordflow}{if}(ikAttempts > 0 && discontinuityJointIndex!= -1)
127                 \{
128                     k --;
129                     ikAttempts --;
130                     \textcolor{keywordflow}{continue};
131                 \}
132                 \textcolor{keywordflow}{else}
133                 \{
134                     ikAttempts = 4;
135                 
136                     \textcolor{keywordflow}{if} (discontinuity && discontinuityJointIndex!= -1)
137                     \{
138                         \textcolor{comment}{// show a message and stop the trajectory generation}
139                         std::stringstream ss;
140                         ss << \textcolor{stringliteral}{"Traj["} << k << \textcolor{stringliteral}{"/"} << \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}.size() <<
       \textcolor{stringliteral}{"] "} << currentjointnames[discontinuityJointIndex] << \textcolor{stringliteral}{" IK discontinuity : "} << 
      discontinuityDeltaJointIndex << std::endl
141                             << \textcolor{stringliteral}{"prev joint value: "} << prevtrajpoint[discontinuityJointIndex] << std::endl
142                             << \textcolor{stringliteral}{"current joint value: "} << jointPositions[discontinuityJointIndex] << 
      std::endl;
143 
144                         ss << std::endl;
145                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ji = 0; ji < jointPositions.size(); ji++)
146                         \{
147                             ss << currentjointnames[ji] << \textcolor{stringliteral}{": "} << jointPositions[ji] << std::endl;
148                         \}
149 
150                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} kindex = 0; kindex < trajectory.size(); kindex++)
151                         \{
152                             ss << \textcolor{stringliteral}{"["} << kindex << \textcolor{stringliteral}{"]: "} << trajectory[kindex][discontinuityJointIndex] << 
      std::endl;
153                         \}
154 
155                         \textcolor{keywordflow}{if} (k == 0)
156                         \{
157                             ss << \textcolor{stringliteral}{"This is the first posture of the trajectory. Maybe the robot initial
       posture is not coincident to the initial posture of the generated joint trajectory."} << std::endl;
158                         \}
159 
160                         ROS\_ERROR\_STREAM(ss.str());
161 
162                         trajectory.push\_back(jointPositions);
163                         ros::Duration durationFromStart = pose.header.stamp - referenceTime;
164                         trajectoryTimeStamps.push\_back(durationFromStart);
165 
166                         
167                         \textcolor{keywordflow}{continue};
168                     \}
169                     \textcolor{keywordflow}{else}
170                     \{
171                         trajectory.push\_back(jointPositions);
172                         ros::Duration durationFromStart = pose.header.stamp - referenceTime;
173                         trajectoryTimeStamps.push\_back(durationFromStart);
174 
175                         ROS\_WARN\_STREAM(\textcolor{stringliteral}{"IK solution: "} << res.solution.joint\_state);
176                         ROS\_WARN\_STREAM(\textcolor{stringliteral}{"trajpoint: "} << std::endl
177                             << ss.str());
178                     \}
179                 \}
180             \}
181             \textcolor{keywordflow}{else}
182             \{
183                 ROS\_ERROR(\textcolor{stringliteral}{"[CbMoveEndEffectorTrajectory] wrong IK call"});
184             \}
185 
186             ROS\_WARN\_STREAM(\textcolor{stringliteral}{"-----"});
187         \}
188 
189         \textcolor{comment}{// interpolate speeds?}
190 
191         \textcolor{comment}{// interpolate accelerations?}
192 
193         \textcolor{comment}{// get current robot state}
194         \textcolor{comment}{// fill plan message}
195         \textcolor{comment}{// computedMotionPlan.start\_state\_.joint\_state.name = currentjointnames;}
196         \textcolor{comment}{// computedMotionPlan.start\_state\_.joint\_state.position = trajectory.front();}
197         \textcolor{comment}{// computedMotionPlan.trajectory\_.joint\_trajectory.joint\_names = currentjointnames;}
198 
199         computedJointTrajectory.joint\_trajectory.joint\_names = currentjointnames;
200         \textcolor{keywordtype}{int} i = 0;
201         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &p : trajectory)
202         \{
203             \textcolor{keywordflow}{if} (i == 0) \textcolor{comment}{// not copy the current state in the trajectory (used to solve discontinuity in
       other behaviors)}
204             \{
205                 i++;
206                 \textcolor{keywordflow}{continue};
207             \}
208 
209             trajectory\_msgs::JointTrajectoryPoint jp;
210             jp.positions = p;
211             jp.time\_from\_start = trajectoryTimeStamps[i]; \textcolor{comment}{//ros::Duration(t);}
212             computedJointTrajectory.joint\_trajectory.points.push\_back(jp);
213             i++;
214         \}
215 
216         \textcolor{keywordflow}{if} (initialStateDiscontinuity)
217             \textcolor{keywordflow}{return} \hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017a1b748367c8d468cb9b65ecd6b2eab32c}{ComputeJointTrajectoryErrorCode::INCORRECT\_INITIAL\_STATE}
      ;
218         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (discontinuity >0)
219             \textcolor{keywordflow}{return} 
      \hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017a3e86842785cd7c42003e516418347c8e}{ComputeJointTrajectoryErrorCode::JOINT\_TRAJECTORY\_DISCONTINUITY}
      ;
220         \textcolor{keywordflow}{return} \hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017ad0749aaba8b833466dfcbb0428e4f89c}{ComputeJointTrajectoryErrorCode::SUCCESS};
221     \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a485057c052729edd3e8303440b7ada66_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!create\+Markers@{create\+Markers}}
\index{create\+Markers@{create\+Markers}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{create\+Markers()}{createMarkers()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::create\+Markers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \hyperlink{classcl__move__group__interface_1_1CbCircularPivotMotion_a48911ad62608cb00c04e979e2f6f644a}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion}, and \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}.



Definition at line 323 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References beahior\+Markers\+\_\+, and end\+Effector\+Trajectory\+\_\+.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::create\+Markers(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::create\+Markers(), and on\+Entry().


\begin{DoxyCode}
324     \{
325         tf::Transform localdirection;
326         localdirection.setIdentity();
327         localdirection.setOrigin(tf::Vector3(0.05, 0, 0));
328         \textcolor{keyword}{auto} frameid = this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}.front().header.frame\_id;
329 
330         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &pose : this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_})
331         \{
332             visualization\_msgs::Marker marker;
333             marker.header.frame\_id = frameid;
334             marker.header.stamp = ros::Time::now();
335             marker.ns = \textcolor{stringliteral}{"trajectory"};
336             marker.id = this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers.size();
337             marker.type = visualization\_msgs::Marker::ARROW;
338             marker.action = visualization\_msgs::Marker::ADD;
339             marker.scale.x = 0.005;
340             marker.scale.y = 0.01;
341             marker.scale.z = 0.01;
342             marker.color.a = 0.8;
343             marker.color.r = 1.0;
344             marker.color.g = 0;
345             marker.color.b = 0;
346 
347             geometry\_msgs::Point start, end;
348             start.x = 0;
349             start.y = 0;
350             start.z = 0;
351 
352             tf::Transform basetransform;
353             tf::poseMsgToTF(pose.pose, basetransform);
354             tf::Transform endarrow = localdirection * basetransform;
355 
356             end.x = localdirection.getOrigin().x();
357             end.y = localdirection.getOrigin().y();
358             end.z = localdirection.getOrigin().z();
359 
360             marker.pose.position = pose.pose.position;
361             marker.pose.orientation = pose.pose.orientation;
362             marker.points.push\_back(start);
363             marker.points.push\_back(end);
364 
365             \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers.push\_back(marker);
366         \}
367     \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a3a75fa185c62591e1869427650338a32}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a3a75fa185c62591e1869427650338a32}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!execute\+Joint\+Space\+Trajectory@{execute\+Joint\+Space\+Trajectory}}
\index{execute\+Joint\+Space\+Trajectory@{execute\+Joint\+Space\+Trajectory}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{execute\+Joint\+Space\+Trajectory()}{executeJointSpaceTrajectory()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::execute\+Joint\+Space\+Trajectory (\begin{DoxyParamCaption}\item[{const moveit\+\_\+msgs\+::\+Robot\+Trajectory \&}]{computed\+Joint\+Trajectory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 223 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References smacc\+::\+I\+Smacc\+Client\+Behavior\+::get\+Name(), movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::move\+Group\+Client\+Interface, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::post\+Event\+Motion\+Execution\+Succeded(), smacc\+::\+Smacc\+Async\+Client\+Behavior\+::post\+Failure\+Event(), post\+Motion\+Execution\+Failure\+Events, and smacc\+::\+Smacc\+Async\+Client\+Behavior\+::post\+Success\+Event().



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Execute\+Last\+Trajectory\+::on\+Entry(), and on\+Entry().


\begin{DoxyCode}
224     \{
225         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"["} << this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a18e4bec9460b010f2894c0f7e7064a34}{getName}() << \textcolor{stringliteral}{"] Executing joint trajectory"});
226         \textcolor{comment}{// call execute}
227         \textcolor{keyword}{auto} executionResult = this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->
      \hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}.execute(computedJointTrajectory);
228 
229         \textcolor{keywordflow}{if} (executionResult == moveit\_msgs::MoveItErrorCodes::SUCCESS)
230         \{
231             ROS\_INFO\_STREAM(\textcolor{stringliteral}{"["} << this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a18e4bec9460b010f2894c0f7e7064a34}{getName}() << \textcolor{stringliteral}{"] motion execution succedded"});
232             \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_aebaf269db373d41837bae87651458e54}{postEventMotionExecutionSucceded}
      ();
233             this->\hyperlink{classsmacc_1_1SmaccAsyncClientBehavior_adf18efe1f0e4eacc1277b8865a8a94b1}{postSuccessEvent}();
234         \}
235         \textcolor{keywordflow}{else}
236         \{
237             this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}{postMotionExecutionFailureEvents}();
238             this->\hyperlink{classsmacc_1_1SmaccAsyncClientBehavior_af6fa358cb1ab5ed16791a201f59260e0}{postFailureEvent}();
239         \}
240     \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a3a75fa185c62591e1869427650338a32_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a3a75fa185c62591e1869427650338a32_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!generate\+Trajectory@{generate\+Trajectory}}
\index{generate\+Trajectory@{generate\+Trajectory}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{generate\+Trajectory()}{generateTrajectory()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::generate\+Trajectory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \hyperlink{classcl__move__group__interface_1_1CbCircularPivotMotion_a8d019ec6b9b26a2af0740b915d441a40}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion}, and \hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}.



Definition at line 369 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



Referenced by on\+Entry().


\begin{DoxyCode}
370     \{
371         \textcolor{comment}{// bypass current trajectory, overriden in derived classes}
372         \textcolor{comment}{// this->endEffectorTrajectory\_ = ...}
373     \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!initialize\+R\+OS@{initialize\+R\+OS}}
\index{initialize\+R\+OS@{initialize\+R\+OS}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{initialize\+R\+O\+S()}{initializeROS()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::initialize\+R\+OS (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 28 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References iksrv\+\_\+, and markers\+Pub\+\_\+.



Referenced by Cb\+Move\+End\+Effector\+Trajectory().


\begin{DoxyCode}
29     \{
30         ros::NodeHandle nh;
31         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aabc2216b2d8625fecd83c5ec69928e63}{markersPub\_} = nh.advertise<visualization\_msgs::MarkerArray>(\textcolor{stringliteral}{"trajectory\_markers"}, 1);
32         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a8a2e2225a5b53325241e45e4e28fa3a7}{iksrv\_} = nh.serviceClient<moveit\_msgs::GetPositionIK>(\textcolor{stringliteral}{"/compute\_ik"});
33     \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{on\+Entry()}{onEntry()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::on\+Entry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classsmacc_1_1ISmaccClientBehavior_a3ec24a839087c550e1d62a81e48cf530}{smacc\+::\+I\+Smacc\+Client\+Behavior}.



Reimplemented in \hyperlink{classcl__move__group__interface_1_1CbExecuteLastTrajectory_ac78713663c39635ca5ac9a749503e800}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Execute\+Last\+Trajectory}, and \hyperlink{classcl__move__group__interface_1_1CbEndEffectorRotate_a3e60bfba48906696587d66af89f7ee2b}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+End\+Effector\+Rotate}.



Definition at line 242 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References compute\+Joint\+Space\+Trajectory(), create\+Markers(), smacc\+::introspection\+::demangle\+Symbol(), end\+Effector\+Trajectory\+\_\+, execute\+Joint\+Space\+Trajectory(), generate\+Trajectory(), smacc\+::\+I\+Smacc\+Client\+Behavior\+::get\+Name(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+I\+N\+C\+O\+R\+R\+E\+C\+T\+\_\+\+I\+N\+I\+T\+I\+A\+L\+\_\+\+S\+T\+A\+TE, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+J\+O\+I\+N\+T\+\_\+\+T\+R\+A\+J\+E\+C\+T\+O\+R\+Y\+\_\+\+D\+I\+S\+C\+O\+N\+T\+I\+N\+U\+I\+TY, markers\+Initialized\+\_\+, movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::post\+Event\+Motion\+Execution\+Failed(), smacc\+::\+Smacc\+Async\+Client\+Behavior\+::post\+Failure\+Event(), post\+Incorrect\+Initial\+State\+Event, post\+Joint\+Discontinuity\+Event, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cp\+Trajectory\+History\+::push\+Trajectory(), smacc\+::\+I\+Smacc\+Client\+Behavior\+::requires\+Client(), smacc\+::\+I\+Smacc\+Client\+Behavior\+::requires\+Component(), and cl\+\_\+move\+\_\+group\+\_\+interface\+::\+S\+U\+C\+C\+E\+SS.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+End\+Effector\+Rotate\+::on\+Entry().


\begin{DoxyCode}
243     \{
244         this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a32b16e99e3b4cb289414203dc861a440}{requiresClient}(\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_});
245 
246         this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}{generateTrajectory}();
247 
248         \textcolor{keywordflow}{if} (this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}{endEffectorTrajectory\_}.size() == 0)
249         \{
250             ROS\_WARN\_STREAM(\textcolor{stringliteral}{"["} << \hyperlink{namespacesmacc_1_1introspection_a2f495108db3e57604d8d3ff5ef030302}{smacc::demangleSymbol}(\textcolor{keyword}{typeid}(*this).name()) << \textcolor{stringliteral}{"]
       No points in the trajectory. Skipping behavior."});
251             \textcolor{keywordflow}{return};
252         \}
253 
254         this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}{createMarkers}();
255         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markersInitialized\_} = \textcolor{keyword}{true};
256 
257         moveit\_msgs::RobotTrajectory computedTrajectory;
258 
259         \textcolor{keyword}{auto} errorcode = \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a485057c052729edd3e8303440b7ada66}{computeJointSpaceTrajectory}(computedTrajectory);
260 
261         \textcolor{keywordtype}{bool} trajectoryGenerationSuccess = errorcode == 
      \hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017ad0749aaba8b833466dfcbb0428e4f89c}{ComputeJointTrajectoryErrorCode::SUCCESS};
262 
263         CpTrajectoryHistory *trajectoryHistory;
264         this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a19c6d658c8e809bb93bfdc9b639a3ac3}{requiresComponent}(trajectoryHistory);
265 
266         \textcolor{keywordflow}{if} (!trajectoryGenerationSuccess)
267         \{
268             ROS\_INFO\_STREAM(\textcolor{stringliteral}{"["} << this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a18e4bec9460b010f2894c0f7e7064a34}{getName}() << \textcolor{stringliteral}{"] Incorrect trajectory. Posting failure
       event."});
269             \textcolor{keywordflow}{if} (trajectoryHistory != \textcolor{keyword}{nullptr})
270             \{
271                 moveit\_msgs::MoveItErrorCodes error;
272                 error.val = moveit\_msgs::MoveItErrorCodes::NO\_IK\_SOLUTION;
273                 trajectoryHistory->pushTrajectory(computedTrajectory, error);
274             \}
275 
276             \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a39dc3871d29b2af1ab739057f6ca6daa}{postEventMotionExecutionFailed}(
      );
277             this->\hyperlink{classsmacc_1_1SmaccAsyncClientBehavior_af6fa358cb1ab5ed16791a201f59260e0}{postFailureEvent}();
278 
279             \textcolor{keywordflow}{if} (errorcode == 
      \hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017a3e86842785cd7c42003e516418347c8e}{ComputeJointTrajectoryErrorCode::JOINT\_TRAJECTORY\_DISCONTINUITY}
      )
280             \{
281                 this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a308331beab9b2ec0eae72fa56fa999c9}{postJointDiscontinuityEvent}(computedTrajectory);
282             \}
283             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (errorcode == 
      \hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017a1b748367c8d468cb9b65ecd6b2eab32c}{ComputeJointTrajectoryErrorCode::INCORRECT\_INITIAL\_STATE}
      )
284             \{
285                 this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6180230347c922fa0d85f514ce5029df}{postIncorrectInitialStateEvent}(computedTrajectory);
286             \}
287             \textcolor{keywordflow}{return};
288         \}
289         \textcolor{keywordflow}{else}
290         \{
291             this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a3a75fa185c62591e1869427650338a32}{executeJointSpaceTrajectory}(computedTrajectory);
292         \}
293 
294         \textcolor{comment}{// handle finishing events}
295     \} \textcolor{comment}{// namespace cl\_move\_group\_interface}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a4952c092e69bc6e9831568de32888da5}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a4952c092e69bc6e9831568de32888da5}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!on\+Exit@{on\+Exit}}
\index{on\+Exit@{on\+Exit}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{on\+Exit()}{onExit()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::on\+Exit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classsmacc_1_1ISmaccClientBehavior_a36bf771905e3bf750909a15e4215a9b3}{smacc\+::\+I\+Smacc\+Client\+Behavior}.



Definition at line 306 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References autocleanmarkers, beahior\+Markers\+\_\+, m\+\_\+mutex\+\_\+, markers\+Initialized\+\_\+, and markers\+Pub\+\_\+.


\begin{DoxyCode}
307     \{
308         \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markersInitialized\_} = \textcolor{keyword}{false};
309 
310         \textcolor{keywordflow}{if} (\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a790c30b94509dc6f4d0064f6356a04db}{autocleanmarkers})
311         \{
312             std::lock\_guard<std::mutex> guard(\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}{m\_mutex\_});
313             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} &marker : this->\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_}.markers)
314             \{
315                 marker.header.stamp = ros::Time::now();
316                 marker.action = visualization\_msgs::Marker::DELETE;
317             \}
318 
319             \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aabc2216b2d8625fecd83c5ec69928e63}{markersPub\_}.publish(\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_});
320         \}
321     \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aae4797fba54cb3bf371cc67d26a82186}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aae4797fba54cb3bf371cc67d26a82186}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!on\+Orthogonal\+Allocation@{on\+Orthogonal\+Allocation}}
\index{on\+Orthogonal\+Allocation@{on\+Orthogonal\+Allocation}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{on\+Orthogonal\+Allocation()}{onOrthogonalAllocation()}}
{\footnotesize\ttfamily template$<$typename T\+Orthogonal , typename T\+Source\+Object $>$ \\
void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::on\+Orthogonal\+Allocation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 50 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



References cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Ev\+Joint\+Discontinuity$<$ Async\+C\+B, Orthogonal $>$\+::trajectory, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Ev\+Incorrect\+Initial\+Position$<$ Async\+C\+B, Orthogonal $>$\+::trajectory, and update().


\begin{DoxyCode}
51     \{
52       smacc::SmaccAsyncClientBehavior::onOrthogonalAllocation<TOrthogonal, TSourceObject>();
53 
54       \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a308331beab9b2ec0eae72fa56fa999c9}{postJointDiscontinuityEvent} = [\textcolor{keyword}{this}](\textcolor{keyword}{auto} traj) \{
55         \textcolor{keyword}{auto} ev = \textcolor{keyword}{new} EvJointDiscontinuity<TSourceObject, TOrthogonal>();
56         ev->trajectory = traj;
57         this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a5db577c585935114058770f2b7242f8a}{postEvent}(ev);
58       \};
59 
60       \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6180230347c922fa0d85f514ce5029df}{postIncorrectInitialStateEvent} = [\textcolor{keyword}{this}](\textcolor{keyword}{auto} traj) 
61       \{
62         \textcolor{keyword}{auto} ev = \textcolor{keyword}{new} EvIncorrectInitialPosition<TSourceObject, TOrthogonal>();
63         ev->trajectory = traj;
64         this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a5db577c585935114058770f2b7242f8a}{postEvent}(ev);
65       \};
66 
67       \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}{postMotionExecutionFailureEvents} = [\textcolor{keyword}{this}]
68       \{
69           ROS\_INFO\_STREAM(\textcolor{stringliteral}{"["} << this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a18e4bec9460b010f2894c0f7e7064a34}{getName}() << \textcolor{stringliteral}{"] motion execution failed"});
70           \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}->\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a39dc3871d29b2af1ab739057f6ca6daa}{postEventMotionExecutionFailed}();
71           this->postEvent<EvMoveGroupMotionExecutionFailed<TSourceObject,TOrthogonal>>();
72       \};
73     \}    
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aae4797fba54cb3bf371cc67d26a82186_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a57fedb6a0603fe569842a13faf19f5cd}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a57fedb6a0603fe569842a13faf19f5cd}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!update@{update}}
\index{update@{update}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \hyperlink{classsmacc_1_1ISmaccUpdatable_a84ee0520cbefdb1d412bed54650b028e}{smacc\+::\+I\+Smacc\+Updatable}.



Definition at line 297 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.



References beahior\+Markers\+\_\+, m\+\_\+mutex\+\_\+, markers\+Initialized\+\_\+, and markers\+Pub\+\_\+.


\begin{DoxyCode}
298     \{
299         \textcolor{keywordflow}{if} (\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markersInitialized\_})
300         \{
301             std::lock\_guard<std::mutex> guard(\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}{m\_mutex\_});
302             \hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aabc2216b2d8625fecd83c5ec69928e63}{markersPub\_}.publish(\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}{beahiorMarkers\_});
303         \}
304     \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a01e02533602d045538fd8ccc9a011ea7}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a01e02533602d045538fd8ccc9a011ea7}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+@{allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+}}
\index{allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+@{allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+}{allowInitialTrajectoryStateJointDiscontinuity\_}}
{\footnotesize\ttfamily boost\+::optional$<$\hyperlink{classbool}{bool}$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+}



Definition at line 43 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by compute\+Joint\+Space\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a790c30b94509dc6f4d0064f6356a04db}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a790c30b94509dc6f4d0064f6356a04db}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!autocleanmarkers@{autocleanmarkers}}
\index{autocleanmarkers@{autocleanmarkers}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{autocleanmarkers}{autocleanmarkers}}
{\footnotesize\ttfamily \hyperlink{classbool}{bool} cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::autocleanmarkers = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 112 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by on\+Exit().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a809fb5385adf27c0a1c8f8136566949c}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!beahior\+Markers\+\_\+@{beahior\+Markers\+\_\+}}
\index{beahior\+Markers\+\_\+@{beahior\+Markers\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{beahior\+Markers\+\_\+}{beahiorMarkers\_}}
{\footnotesize\ttfamily visualization\+\_\+msgs\+::\+Marker\+Array cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::beahior\+Markers\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 94 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::create\+Markers(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::create\+Markers(), create\+Markers(), on\+Exit(), and update().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ae13dfd31ea3660646e03882f0c2c29f0}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!end\+Effector\+Trajectory\+\_\+@{end\+Effector\+Trajectory\+\_\+}}
\index{end\+Effector\+Trajectory\+\_\+@{end\+Effector\+Trajectory\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{end\+Effector\+Trajectory\+\_\+}{endEffectorTrajectory\_}}
{\footnotesize\ttfamily std\+::vector$<$geometry\+\_\+msgs\+::\+Pose\+Stamped$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::end\+Effector\+Trajectory\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 90 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by compute\+Joint\+Space\+Trajectory(), create\+Markers(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::generate\+Trajectory(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::generate\+Trajectory(), and on\+Entry().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa247cf74c1d4878bacecba836a839fa7}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa247cf74c1d4878bacecba836a839fa7}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!group\+\_\+@{group\+\_\+}}
\index{group\+\_\+@{group\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{group\+\_\+}{group\_}}
{\footnotesize\ttfamily boost\+::optional$<$std\+::string$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::group\+\_\+}



Definition at line 39 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a8a2e2225a5b53325241e45e4e28fa3a7}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a8a2e2225a5b53325241e45e4e28fa3a7}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!iksrv\+\_\+@{iksrv\+\_\+}}
\index{iksrv\+\_\+@{iksrv\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{iksrv\+\_\+}{iksrv\_}}
{\footnotesize\ttfamily ros\+::\+Service\+Client cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::iksrv\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 103 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by compute\+Joint\+Space\+Trajectory(), and initialize\+R\+O\+S().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!m\+\_\+mutex\+\_\+@{m\+\_\+mutex\+\_\+}}
\index{m\+\_\+mutex\+\_\+@{m\+\_\+mutex\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{m\+\_\+mutex\+\_\+}{m\_mutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::m\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 105 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by on\+Exit(), and update().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!markers\+Initialized\+\_\+@{markers\+Initialized\+\_\+}}
\index{markers\+Initialized\+\_\+@{markers\+Initialized\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{markers\+Initialized\+\_\+}{markersInitialized\_}}
{\footnotesize\ttfamily std\+::atomic$<$\hyperlink{classbool}{bool}$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::markers\+Initialized\+\_\+ = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 101 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by on\+Entry(), on\+Exit(), and update().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aabc2216b2d8625fecd83c5ec69928e63}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aabc2216b2d8625fecd83c5ec69928e63}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!markers\+Pub\+\_\+@{markers\+Pub\+\_\+}}
\index{markers\+Pub\+\_\+@{markers\+Pub\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{markers\+Pub\+\_\+}{markersPub\_}}
{\footnotesize\ttfamily ros\+::\+Publisher cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::markers\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 99 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by initialize\+R\+O\+S(), on\+Exit(), and update().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!movegroup\+Client\+\_\+@{movegroup\+Client\+\_\+}}
\index{movegroup\+Client\+\_\+@{movegroup\+Client\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{movegroup\+Client\+\_\+}{movegroupClient\_}}
{\footnotesize\ttfamily \hyperlink{classcl__move__group__interface_1_1ClMoveGroup}{Cl\+Move\+Group}$\ast$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::movegroup\+Client\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 92 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot(), compute\+Joint\+Space\+Trajectory(), execute\+Joint\+Space\+Trajectory(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::get\+Current\+End\+Effector\+Pose(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+End\+Effector\+Rotate\+::on\+Entry(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Execute\+Last\+Trajectory\+::on\+Entry(), and on\+Entry().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6180230347c922fa0d85f514ce5029df}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6180230347c922fa0d85f514ce5029df}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!post\+Incorrect\+Initial\+State\+Event@{post\+Incorrect\+Initial\+State\+Event}}
\index{post\+Incorrect\+Initial\+State\+Event@{post\+Incorrect\+Initial\+State\+Event}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{post\+Incorrect\+Initial\+State\+Event}{postIncorrectInitialStateEvent}}
{\footnotesize\ttfamily std\+::function$<$void(moveit\+\_\+msgs\+::\+Robot\+Trajectory \&)$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::post\+Incorrect\+Initial\+State\+Event\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 108 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by on\+Entry().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a308331beab9b2ec0eae72fa56fa999c9}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a308331beab9b2ec0eae72fa56fa999c9}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!post\+Joint\+Discontinuity\+Event@{post\+Joint\+Discontinuity\+Event}}
\index{post\+Joint\+Discontinuity\+Event@{post\+Joint\+Discontinuity\+Event}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{post\+Joint\+Discontinuity\+Event}{postJointDiscontinuityEvent}}
{\footnotesize\ttfamily std\+::function$<$void(moveit\+\_\+msgs\+::\+Robot\+Trajectory \&)$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::post\+Joint\+Discontinuity\+Event\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 107 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by on\+Entry().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!post\+Motion\+Execution\+Failure\+Events@{post\+Motion\+Execution\+Failure\+Events}}
\index{post\+Motion\+Execution\+Failure\+Events@{post\+Motion\+Execution\+Failure\+Events}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{post\+Motion\+Execution\+Failure\+Events}{postMotionExecutionFailureEvents}}
{\footnotesize\ttfamily std\+::function$<$void()$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::post\+Motion\+Execution\+Failure\+Events\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 110 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by execute\+Joint\+Space\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a24c6c30b9b0761a61fa002d947bd3e11}} 
\index{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}!tip\+Link\+\_\+@{tip\+Link\+\_\+}}
\index{tip\+Link\+\_\+@{tip\+Link\+\_\+}!cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory@{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory}}
\subsubsection{\texorpdfstring{tip\+Link\+\_\+}{tipLink\_}}
{\footnotesize\ttfamily boost\+::optional$<$std\+::string$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::tip\+Link\+\_\+}



Definition at line 41 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot(), compute\+Joint\+Space\+Trajectory(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::get\+Current\+End\+Effector\+Pose(), and cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+End\+Effector\+Rotate\+::on\+Entry().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\hyperlink{cb__move__end__effector__trajectory_8h}{cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/src/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\hyperlink{cb__move__end__effector__trajectory_8cpp}{cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp}\end{DoxyCompactItemize}
