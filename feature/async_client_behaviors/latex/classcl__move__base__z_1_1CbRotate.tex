\hypertarget{classcl__move__base__z_1_1CbRotate}{}\section{cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Rotate Class Reference}
\label{classcl__move__base__z_1_1CbRotate}\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}}


{\ttfamily \#include $<$cb\+\_\+rotate.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{classcl__move__base__z_1_1CbRotate__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cb\+Rotate\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbRotate__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__base__z_1_1CbRotate_a00dc68fbc8e72461f338de1cbdfceffd}{Cb\+Rotate} ()
\item 
\hyperlink{classcl__move__base__z_1_1CbRotate_ac5b1f8c358d719d2cdc8417f65143ad8}{Cb\+Rotate} (float rotate\+\_\+degree)
\item 
virtual void \hyperlink{classcl__move__base__z_1_1CbRotate_a316ee51ecfd3f10fd1edae0d7d3b26c0}{on\+Entry} () override
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
tf\+::\+Transform\+Listener \hyperlink{classcl__move__base__z_1_1CbRotate_a2b57c5f392fde0a3bf38f5fd6e1bde11}{listener}
\item 
\hyperlink{classcl__move__base__z_1_1ClMoveBaseZ}{Cl\+Move\+BaseZ} $\ast$ \hyperlink{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}{move\+Base\+Client\+\_\+}
\item 
boost\+::optional$<$ float $>$ \hyperlink{classcl__move__base__z_1_1CbRotate_a83e9f97e917044f919c98a55d8e00db6}{rotate\+Degree}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 18 of file cb\+\_\+rotate.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbRotate_a00dc68fbc8e72461f338de1cbdfceffd}\label{classcl__move__base__z_1_1CbRotate_a00dc68fbc8e72461f338de1cbdfceffd}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}!Cb\+Rotate@{Cb\+Rotate}}
\index{Cb\+Rotate@{Cb\+Rotate}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}}
\subsubsection{\texorpdfstring{Cb\+Rotate()}{CbRotate()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate\+::\+Cb\+Rotate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 7 of file cb\+\_\+rotate.\+cpp.


\begin{DoxyCode}
8 \{
9 \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbRotate_ac5b1f8c358d719d2cdc8417f65143ad8}\label{classcl__move__base__z_1_1CbRotate_ac5b1f8c358d719d2cdc8417f65143ad8}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}!Cb\+Rotate@{Cb\+Rotate}}
\index{Cb\+Rotate@{Cb\+Rotate}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}}
\subsubsection{\texorpdfstring{Cb\+Rotate()}{CbRotate()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate\+::\+Cb\+Rotate (\begin{DoxyParamCaption}\item[{float}]{rotate\+\_\+degree }\end{DoxyParamCaption})}



Definition at line 11 of file cb\+\_\+rotate.\+cpp.



References rotate\+Degree.


\begin{DoxyCode}
12 \{
13     \hyperlink{classcl__move__base__z_1_1CbRotate_a83e9f97e917044f919c98a55d8e00db6}{rotateDegree} = rotate\_degree;
14 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbRotate_a316ee51ecfd3f10fd1edae0d7d3b26c0}\label{classcl__move__base__z_1_1CbRotate_a316ee51ecfd3f10fd1edae0d7d3b26c0}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}!on\+Entry@{on\+Entry}}
\index{on\+Entry@{on\+Entry}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}}
\subsubsection{\texorpdfstring{on\+Entry()}{onEntry()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate\+::on\+Entry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \hyperlink{classsmacc_1_1SmaccClientBehavior_ad5d3e1f1697c3cfe66c94cadba948493}{smacc\+::\+Smacc\+Client\+Behavior}.



Definition at line 16 of file cb\+\_\+rotate.\+cpp.



References smacc\+::\+I\+Smacc\+Client\+::get\+Component(), smacc\+::\+I\+Smacc\+Client\+Behavior\+::get\+Current\+State(), cl\+\_\+move\+\_\+base\+\_\+z\+::\+Pose\+::get\+Reference\+Frame(), move\+Base\+Client\+\_\+, smacc\+::\+I\+Smacc\+State\+::param(), cl\+\_\+move\+\_\+base\+\_\+z\+::odom\+\_\+tracker\+::\+R\+E\+C\+O\+R\+D\+\_\+\+P\+A\+TH, smacc\+::\+I\+Smacc\+Client\+Behavior\+::requires\+Client(), rotate\+Degree, smacc\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::send\+Goal(), and cl\+\_\+move\+\_\+base\+\_\+z\+::\+Planner\+Switcher\+::set\+Default\+Planners().


\begin{DoxyCode}
17 \{
18     \textcolor{keywordtype}{double} angle\_increment\_degree;
19 
20     \textcolor{keywordflow}{if} (!\hyperlink{classcl__move__base__z_1_1CbRotate_a83e9f97e917044f919c98a55d8e00db6}{rotateDegree})
21     \{
22         this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a34fde34e48fa13db622ee60d8374d0b8}{getCurrentState}()->\hyperlink{classsmacc_1_1ISmaccState_a4f2ff8e3eda8aa9bbb60c8ff17d0def1}{param}(\textcolor{stringliteral}{"angle\_increment\_degree"}, angle\_increment\_degree
      , 45.0);
23     \}
24     \textcolor{keywordflow}{else}
25     \{
26         angle\_increment\_degree = *\hyperlink{classcl__move__base__z_1_1CbRotate_a83e9f97e917044f919c98a55d8e00db6}{rotateDegree};
27     \}
28 
29     this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a32b16e99e3b4cb289414203dc861a440}{requiresClient}(\hyperlink{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}{moveBaseClient\_});
30 
31     \textcolor{keyword}{auto} plannerSwitcher = \hyperlink{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<PlannerSwitcher>();
32     \textcolor{comment}{//this should work better with a coroutine and await}
33     \textcolor{comment}{//this->plannerSwitcher\_->setForwardPlanner();}
34     plannerSwitcher->setDefaultPlanners();
35 
36     \textcolor{keyword}{auto} p = \hyperlink{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<
      \hyperlink{classcl__move__base__z_1_1Pose}{cl\_move\_base\_z::Pose}>();
37     \textcolor{keyword}{auto} referenceFrame = p->\hyperlink{classcl__move__base__z_1_1Pose_af8c2dc151e74aa8da6b283d1c8563051}{getReferenceFrame}();
38     \textcolor{keyword}{auto} currentPoseMsg = p->toPoseMsg();
39 
40     tf::Transform currentPose;
41     tf::poseMsgToTF(currentPoseMsg, currentPose);
42 
43     \textcolor{keyword}{auto} odomTracker = \hyperlink{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}{moveBaseClient\_}->\hyperlink{classsmacc_1_1ISmaccClient_adef78db601749ca63c19e74a27cb88cc}{getComponent}<odom\_tracker::OdomTracker>(
      );
44     ClMoveBaseZ::Goal goal;
45     goal.target\_pose.header.frame\_id = referenceFrame;
46     goal.target\_pose.header.stamp = ros::Time::now();
47 
48     \textcolor{keyword}{auto} currentAngle = tf::getYaw(currentPoseMsg.orientation);
49     \textcolor{keyword}{auto} targetAngle = currentAngle + angle\_increment\_degree * M\_PI / 180.0;
50     goal.target\_pose.pose.position = currentPoseMsg.position;
51     goal.target\_pose.pose.orientation = tf::createQuaternionMsgFromYaw(targetAngle);
52 
53     geometry\_msgs::PoseStamped stampedCurrentPoseMsg;
54     stampedCurrentPoseMsg.header.frame\_id = referenceFrame;
55     stampedCurrentPoseMsg.header.stamp = ros::Time::now();
56     stampedCurrentPoseMsg.pose = currentPoseMsg;
57 
58     this->\hyperlink{classsmacc_1_1ISmaccClientBehavior_a32b16e99e3b4cb289414203dc861a440}{requiresClient}(\hyperlink{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}{moveBaseClient\_});
59     odomTracker->pushPath();
60 
61     odomTracker->setStartPoint(stampedCurrentPoseMsg);
62     odomTracker->setWorkingMode(\hyperlink{namespacecl__move__base__z_1_1odom__tracker_ac46b05813b2791604f6cd0a39ace3ef8a023bc3adf68871ef7a0c616765ac80a7}{odom\_tracker::WorkingMode::RECORD\_PATH}
      );
63 
64     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"current pose: "} << currentPoseMsg);
65     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"goal pose: "} << goal.target\_pose.pose);
66     \hyperlink{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}{moveBaseClient\_}->\hyperlink{classsmacc_1_1client__bases_1_1SmaccActionClientBase_a9c47a5094ac8afb01680307fe5eca922}{sendGoal}(goal);
67 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CbRotate_a316ee51ecfd3f10fd1edae0d7d3b26c0_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CbRotate_a2b57c5f392fde0a3bf38f5fd6e1bde11}\label{classcl__move__base__z_1_1CbRotate_a2b57c5f392fde0a3bf38f5fd6e1bde11}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}!listener@{listener}}
\index{listener@{listener}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}}
\subsubsection{\texorpdfstring{listener}{listener}}
{\footnotesize\ttfamily tf\+::\+Transform\+Listener cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate\+::listener}



Definition at line 21 of file cb\+\_\+rotate.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}\label{classcl__move__base__z_1_1CbRotate_a390623f5bcbdad18fe2a65428e4621cb}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}!move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}}
\index{move\+Base\+Client\+\_\+@{move\+Base\+Client\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}}
\subsubsection{\texorpdfstring{move\+Base\+Client\+\_\+}{moveBaseClient\_}}
{\footnotesize\ttfamily \hyperlink{classcl__move__base__z_1_1ClMoveBaseZ}{Cl\+Move\+BaseZ}$\ast$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate\+::move\+Base\+Client\+\_\+}



Definition at line 23 of file cb\+\_\+rotate.\+h.



Referenced by on\+Entry().

\mbox{\Hypertarget{classcl__move__base__z_1_1CbRotate_a83e9f97e917044f919c98a55d8e00db6}\label{classcl__move__base__z_1_1CbRotate_a83e9f97e917044f919c98a55d8e00db6}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}!rotate\+Degree@{rotate\+Degree}}
\index{rotate\+Degree@{rotate\+Degree}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate}}
\subsubsection{\texorpdfstring{rotate\+Degree}{rotateDegree}}
{\footnotesize\ttfamily boost\+::optional$<$float$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate\+::rotate\+Degree}



Definition at line 25 of file cb\+\_\+rotate.\+h.



Referenced by Cb\+Rotate(), and on\+Entry().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/include/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/client\+\_\+behaviors/\hyperlink{cb__rotate_8h}{cb\+\_\+rotate.\+h}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/move\+\_\+base\+\_\+z\+\_\+client\+\_\+plugin/src/client\+\_\+behaviors/\hyperlink{cb__rotate_8cpp}{cb\+\_\+rotate.\+cpp}\end{DoxyCompactItemize}
