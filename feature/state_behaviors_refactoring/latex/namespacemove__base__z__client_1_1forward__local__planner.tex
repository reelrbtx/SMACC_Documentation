\hypertarget{namespacemove__base__z__client_1_1forward__local__planner}{}\section{move\+\_\+base\+\_\+z\+\_\+client\+:\+:forward\+\_\+local\+\_\+planner Namespace Reference}
\label{namespacemove__base__z__client_1_1forward__local__planner}\index{move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner@{move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classmove__base__z__client_1_1forward__local__planner_1_1ForwardLocalPlanner}{Forward\+Local\+Planner}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \hyperlink{namespacemove__base__z__client_1_1forward__local__planner_a683a39a154ed5aa179fdb1afb7bfe2e4}{optional\+Robot\+Pose} (costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$costmap\+Ros)
\item 
void \hyperlink{namespacemove__base__z__client_1_1forward__local__planner_a5d0513634a69cbd890b025cd3731d687}{clamp} (geometry\+\_\+msgs\+::\+Twist \&cmd\+\_\+vel, double max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+, double max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner@{move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner}!clamp@{clamp}}
\index{clamp@{clamp}!move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner@{move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner}}
\subsubsection[{\texorpdfstring{clamp(geometry\+\_\+msgs\+::\+Twist \&cmd\+\_\+vel, double max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+, double max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+)}{clamp(geometry_msgs::Twist &cmd_vel, double max_linear_x_speed_, double max_angular_z_speed_)}}]{\setlength{\rightskip}{0pt plus 5cm}void move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner\+::clamp (
\begin{DoxyParamCaption}
\item[{geometry\+\_\+msgs\+::\+Twist \&}]{cmd\+\_\+vel, }
\item[{double}]{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+, }
\item[{double}]{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}
\end{DoxyParamCaption}
)}\hypertarget{namespacemove__base__z__client_1_1forward__local__planner_a5d0513634a69cbd890b025cd3731d687}{}\label{namespacemove__base__z__client_1_1forward__local__planner_a5d0513634a69cbd890b025cd3731d687}


Definition at line 215 of file forward\+\_\+local\+\_\+planner.\+cpp.


\begin{DoxyCode}
216 \{
217     \textcolor{keywordflow}{if} (max\_angular\_z\_speed\_ == 0 || max\_linear\_x\_speed\_ == 0)
218         \textcolor{keywordflow}{return};
219 
220     \textcolor{keywordflow}{if} (cmd\_vel.angular.z == 0)
221     \{
222         cmd\_vel.linear.x = max\_linear\_x\_speed\_;
223     \}
224     \textcolor{keywordflow}{else}
225     \{
226         \textcolor{keywordtype}{double} kurvature = cmd\_vel.linear.x / cmd\_vel.angular.z;
227 
228         \textcolor{keywordtype}{double} linearAuthority = fabs(cmd\_vel.linear.x / max\_linear\_x\_speed\_);
229         \textcolor{keywordtype}{double} angularAuthority = fabs(cmd\_vel.angular.z / max\_angular\_z\_speed\_);
230         \textcolor{keywordflow}{if} (linearAuthority < angularAuthority)
231         \{
232             \textcolor{comment}{// lets go to maximum linear speed}
233             cmd\_vel.linear.x = max\_linear\_x\_speed\_;
234             cmd\_vel.angular.z = kurvature / max\_linear\_x\_speed\_;
235             ROS\_WARN\_STREAM(\textcolor{stringliteral}{"k="} << kurvature << \textcolor{stringliteral}{"lets go to maximum linear capacity: "} << cmd\_vel);
236         \}
237         \textcolor{keywordflow}{else}
238         \{
239             \textcolor{comment}{// lets go with maximum angular speed}
240             cmd\_vel.angular.x = max\_angular\_z\_speed\_;
241             cmd\_vel.linear.x = kurvature * max\_angular\_z\_speed\_;
242             ROS\_WARN\_STREAM(\textcolor{stringliteral}{"lets go to maximum angular capacity: "} << cmd\_vel);
243         \}
244     \}
245 \}
\end{DoxyCode}
\index{move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner@{move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner}!optional\+Robot\+Pose@{optional\+Robot\+Pose}}
\index{optional\+Robot\+Pose@{optional\+Robot\+Pose}!move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner@{move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner}}
\subsubsection[{\texorpdfstring{optional\+Robot\+Pose(costmap\+\_\+2d\+::\+Costmap2\+D\+R\+O\+S $\ast$costmap\+Ros)}{optionalRobotPose(costmap_2d::Costmap2DROS *costmapRos)}}]{\setlength{\rightskip}{0pt plus 5cm}tf\+::\+Stamped$<$tf\+::\+Pose$>$ move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner\+::optional\+Robot\+Pose (
\begin{DoxyParamCaption}
\item[{costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$}]{costmap\+Ros}
\end{DoxyParamCaption}
)}\hypertarget{namespacemove__base__z__client_1_1forward__local__planner_a683a39a154ed5aa179fdb1afb7bfe2e4}{}\label{namespacemove__base__z__client_1_1forward__local__planner_a683a39a154ed5aa179fdb1afb7bfe2e4}


Definition at line 207 of file forward\+\_\+local\+\_\+planner.\+cpp.



Referenced by move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner\+::\+Forward\+Local\+Planner\+::compute\+Velocity\+Commands(), and move\+\_\+base\+\_\+z\+\_\+client\+::forward\+\_\+local\+\_\+planner\+::\+Forward\+Local\+Planner\+::publish\+Goal\+Marker().


\begin{DoxyCode}
208 \{
209     tf::Stamped<tf::Pose> tfpose;
210     costmapRos->getRobotPose(tfpose);
211     \textcolor{keywordflow}{return} tfpose;
212 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacemove__base__z__client_1_1forward__local__planner_a683a39a154ed5aa179fdb1afb7bfe2e4_icgraph}
\end{center}
\end{figure}


