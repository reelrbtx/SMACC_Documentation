\hypertarget{classcl__move__base__z_1_1CpTFListener}{}\section{cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cp\+T\+F\+Listener Class Reference}
\label{classcl__move__base__z_1_1CpTFListener}\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}


{\ttfamily \#include $<$cp\+\_\+tf\+\_\+listener.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cp\+T\+F\+Listener\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CpTFListener__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+:\+:Cp\+T\+F\+Listener\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CpTFListener__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}{Cp\+T\+F\+Listener} ()
\item 
virtual void \hyperlink{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}{update} () override
\item 
void \hyperlink{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}{get\+Last\+Transform} (std\+::string \&target\+Pose\+Frame\+Name, std\+::string \&reference\+Base\+Frame, geometry\+\_\+msgs\+::\+Pose \&out)
\item 
std\+::future$<$ geometry\+\_\+msgs\+::\+Pose $>$ \hyperlink{classcl__move__base__z_1_1CpTFListener_a26977736e54c6f00e55e3b8e7247fa85}{wait\+For\+Next\+Transform} (std\+::string \&target\+Name, std\+::string \&reference\+Base\+Frame)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::mutex \hyperlink{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}{m\+\_\+mutex\+\_\+}
\item 
std\+::list$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{structcl__move__base__z_1_1TfPoseTrack}{Tf\+Pose\+Track} $>$ $>$ \hyperlink{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}{pose\+Tracks\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::shared\+\_\+ptr$<$ tf\+::\+Transform\+Listener $>$ \hyperlink{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}{tf\+Listener\+\_\+}
\item 
static std\+::mutex \hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listener\+Mutex\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 29 of file cp\+\_\+tf\+\_\+listener.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}\label{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}!Cp\+T\+F\+Listener@{Cp\+T\+F\+Listener}}
\index{Cp\+T\+F\+Listener@{Cp\+T\+F\+Listener}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}
\subsubsection{\texorpdfstring{Cp\+T\+F\+Listener()}{CpTFListener()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::\+Cp\+T\+F\+Listener (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}\label{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}!get\+Last\+Transform@{get\+Last\+Transform}}
\index{get\+Last\+Transform@{get\+Last\+Transform}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}
\subsubsection{\texorpdfstring{get\+Last\+Transform()}{getLastTransform()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::get\+Last\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Pose\+Frame\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame,  }\item[{geometry\+\_\+msgs\+::\+Pose \&}]{out }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 62 of file cp\+\_\+tf\+\_\+listener.\+h.


\begin{DoxyCode}
63         \{
64         \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}\label{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}!update@{update}}
\index{update@{update}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily virtual void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \hyperlink{classsmacc_1_1ISmaccUpdatable_a84ee0520cbefdb1d412bed54650b028e}{smacc\+::\+I\+Smacc\+Updatable}.



Definition at line 34 of file cp\+\_\+tf\+\_\+listener.\+h.


\begin{DoxyCode}
35         \{
36             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}& poseTrack: \hyperlink{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}{poseTracks\_})
37             \{
38                 tf::StampedTransform transform;
39                 \textcolor{keywordflow}{try}
40                 \{
41                     \{
42                         std::lock\_guard<std::mutex> lock(\hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listenerMutex\_});
43                         \hyperlink{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}{tfListener\_}->lookupTransform(poseTrack->referenceBaseFrame\_,poseTrack->
      targetPoseFrame\_,
44                                                     ros::Time(0), transform);
45                     \}
46 
47                     \{
48                         std::lock\_guard<std::mutex> guard(\hyperlink{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}{m\_mutex\_});
49                         tf::poseTFToMsg(transform, poseTrack->pose\_.pose);
50                         poseTrack->pose\_.header.stamp = transform.stamp\_;
51                         poseTrack->pose\_.header.frame\_id = poseTrack->referenceBaseFrame\_;
52                         poseTrack->isInitialized = \textcolor{keyword}{true};
53                     \}
54                 \}
55                 \textcolor{keywordflow}{catch} (tf::TransformException ex)
56                 \{
57                     ROS\_ERROR\_STREAM\_THROTTLE(1, \textcolor{stringliteral}{"[Component pose] ("} << poseFrameName\_ << \textcolor{stringliteral}{"/["} << 
      referenceFrame\_ << \textcolor{stringliteral}{"] ) is failing on pose update : "} << ex.what());
58                 \}
59             \}
60         \}
\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a26977736e54c6f00e55e3b8e7247fa85}\label{classcl__move__base__z_1_1CpTFListener_a26977736e54c6f00e55e3b8e7247fa85}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}!wait\+For\+Next\+Transform@{wait\+For\+Next\+Transform}}
\index{wait\+For\+Next\+Transform@{wait\+For\+Next\+Transform}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}
\subsubsection{\texorpdfstring{wait\+For\+Next\+Transform()}{waitForNextTransform()}}
{\footnotesize\ttfamily std\+::future$<$geometry\+\_\+msgs\+::\+Pose$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::wait\+For\+Next\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 66 of file cp\+\_\+tf\+\_\+listener.\+h.


\begin{DoxyCode}
67         \{
68             tracks\_
69         \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}\label{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}!listener\+Mutex\+\_\+@{listener\+Mutex\+\_\+}}
\index{listener\+Mutex\+\_\+@{listener\+Mutex\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}
\subsubsection{\texorpdfstring{listener\+Mutex\+\_\+}{listenerMutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::listener\+Mutex\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 73 of file cp\+\_\+tf\+\_\+listener.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}\label{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}!m\+\_\+mutex\+\_\+@{m\+\_\+mutex\+\_\+}}
\index{m\+\_\+mutex\+\_\+@{m\+\_\+mutex\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}
\subsubsection{\texorpdfstring{m\+\_\+mutex\+\_\+}{m\_mutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::m\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 75 of file cp\+\_\+tf\+\_\+listener.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}\label{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}!pose\+Tracks\+\_\+@{pose\+Tracks\+\_\+}}
\index{pose\+Tracks\+\_\+@{pose\+Tracks\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}
\subsubsection{\texorpdfstring{pose\+Tracks\+\_\+}{poseTracks\_}}
{\footnotesize\ttfamily std\+::list$<$std\+::shared\+\_\+ptr$<$\hyperlink{structcl__move__base__z_1_1TfPoseTrack}{Tf\+Pose\+Track}$>$ $>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::pose\+Tracks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 76 of file cp\+\_\+tf\+\_\+listener.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}\label{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}} 
\index{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}!tf\+Listener\+\_\+@{tf\+Listener\+\_\+}}
\index{tf\+Listener\+\_\+@{tf\+Listener\+\_\+}!cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener@{cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener}}
\subsubsection{\texorpdfstring{tf\+Listener\+\_\+}{tfListener\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$tf\+::\+Transform\+Listener$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::tf\+Listener\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 72 of file cp\+\_\+tf\+\_\+listener.\+h.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/components/\hyperlink{cp__tf__listener_8h}{cp\+\_\+tf\+\_\+listener.\+h}\end{DoxyCompactItemize}
