\hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp}{}\doxysection{smacc\+\_\+sm\+\_\+reference\+\_\+library/sm\+\_\+ridgeback\+\_\+barrel\+\_\+search\+\_\+1/servers/opencv\+\_\+perception\+\_\+node/opencv\+\_\+perception\+\_\+node.cpp File Reference}
\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp}\index{smacc\_sm\_reference\_library/sm\_ridgeback\_barrel\_search\_1/servers/opencv\_perception\_node/opencv\_perception\_node.cpp@{smacc\_sm\_reference\_library/sm\_ridgeback\_barrel\_search\_1/servers/opencv\_perception\_node/opencv\_perception\_node.cpp}}
{\ttfamily \#include $<$cv\+\_\+bridge/cv\+\_\+bridge.\+h$>$}\newline
{\ttfamily \#include $<$ros/ros.\+h$>$}\newline
{\ttfamily \#include $<$sensor\+\_\+msgs/\+Image.\+h$>$}\newline
{\ttfamily \#include $<$std\+\_\+msgs/\+Int32.\+h$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$opencv2/opencv.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/features2d.\+hpp$>$}\newline
Include dependency graph for opencv\+\_\+perception\+\_\+node.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aa483d0ec97a846bd4bfa13d793f5c1e1}{segment\+Color}} (const cv\+::\+Mat \&input\+R\+GB, int hue\+Mean, int hue\+Window, cv\+::\+Mat \&out)
\item 
int \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}{test\+Image}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, std\+::string color\+Name, int hue\+Mean, int hue\+Window)
\item 
int \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9bf2df48cb6b85ffe7173b65640b69e3}{test\+Red}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image)
\item 
int \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a1fa01e06b7bc85d9a3f2f5c29829978d}{test\+Blue}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image)
\item 
int \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a63b8f2427ed7ea7fd23e6db392dd4838}{test\+Green}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image)
\item 
int \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a14524e094ba2e4413fffc9d44b507332}{test\+Red}} (std\+::string path, cv\+::\+Mat \&debug\+Image)
\item 
int \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aaa7922f0a8fa1080e4df5cbc44df343c}{test\+Blue}} (std\+::string path, cv\+::\+Mat \&debug\+Image)
\item 
int \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a3c639b5feb1e6d3fc83e493573bc0e77}{test\+Green}} (std\+::string path, cv\+::\+Mat \&debug\+Image)
\item 
void \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ac5c54df7ed3b930268c8d7752c101725}{update}} ()
\item 
void \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a050e697bd654facce10ea3f6549669b3}{callback}} (const sensor\+\_\+msgs\+::\+Image \&img)
\item 
int \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
ros\+::\+Publisher \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9c3047923cbbebb0fbfd7f1ff9d13fe9}{detection\+Pub}}
\item 
ros\+::\+Publisher \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a521668875556ae8845c9246c2c0ac096}{debug\+Image\+Pub}}
\item 
ros\+::\+Subscriber \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ae403eef1a94a795b5eb6de44f6e36b06}{image\+Sub}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a050e697bd654facce10ea3f6549669b3}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a050e697bd654facce10ea3f6549669b3}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!callback@{callback}}
\index{callback@{callback}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{callback()}{callback()}}
{\footnotesize\ttfamily void callback (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::\+Image \&}]{img }\end{DoxyParamCaption})}



Definition at line 104 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{105 \{}
\DoxyCodeLine{106   cv\_bridge::CvImagePtr cv\_image = cv\_bridge::toCvCopy(img, \textcolor{stringliteral}{"rgb8"});}
\DoxyCodeLine{107   }
\DoxyCodeLine{108   cv::Mat image = cv\_image-\/>image;}
\DoxyCodeLine{109   cv\_bridge::CvImage debugImageBridge;}
\DoxyCodeLine{110   debugImageBridge.encoding = \textcolor{stringliteral}{"rgb8"};}
\DoxyCodeLine{111   debugImageBridge.image = image.clone();}
\DoxyCodeLine{112 }
\DoxyCodeLine{113   \textcolor{keywordtype}{int} detectedColor = 0;}
\DoxyCodeLine{114   \textcolor{keywordflow}{if} (\mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9bf2df48cb6b85ffe7173b65640b69e3}{testRed}}(image, debugImageBridge.image) > 0)}
\DoxyCodeLine{115   \{}
\DoxyCodeLine{116     detectedColor = 1;}
\DoxyCodeLine{117   \}}
\DoxyCodeLine{118   }
\DoxyCodeLine{119   \textcolor{keywordflow}{if} (\mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a63b8f2427ed7ea7fd23e6db392dd4838}{testGreen}}(image, debugImageBridge.image) > 0)}
\DoxyCodeLine{120   \{}
\DoxyCodeLine{121     detectedColor = 2;}
\DoxyCodeLine{122   \}}
\DoxyCodeLine{123   }
\DoxyCodeLine{124   \textcolor{keywordflow}{if} (\mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a1fa01e06b7bc85d9a3f2f5c29829978d}{testBlue}}(image, debugImageBridge.image) > 0)}
\DoxyCodeLine{125   \{}
\DoxyCodeLine{126     detectedColor = 3;}
\DoxyCodeLine{127   \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   std\_msgs::Int32 detectedColorMsg;}
\DoxyCodeLine{130   detectedColorMsg.data = detectedColor;}
\DoxyCodeLine{131   \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9c3047923cbbebb0fbfd7f1ff9d13fe9}{detectionPub}}.publish(detectedColorMsg);}
\DoxyCodeLine{132 }
\DoxyCodeLine{133   debugImageBridge.header = img.header;}
\DoxyCodeLine{134   \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a521668875556ae8845c9246c2c0ac096}{debugImagePub}}.publish(debugImageBridge.toImageMsg());}
\DoxyCodeLine{135 \}}

\end{DoxyCode}


References debug\+Image\+Pub, detection\+Pub, test\+Blue(), test\+Green(), and test\+Red().



Referenced by smacc\+::introspection\+::\+Event\+Generator\+Handler\+::configure\+Event\+Generator(), smacc\+::introspection\+::\+State\+Reactor\+Handler\+::configure\+State\+Reactor(), smacc\+::\+I\+Smacc\+Client\+::create\+Component(), main(), smacc\+::components\+::\+Cp\+Topic\+Subscriber$<$ Message\+Type $>$\+::on\+First\+Message\+Received(), cl\+\_\+keyboard\+::\+Cl\+Keyboard\+::\+On\+Key\+Press(), smacc\+::components\+::\+Cp\+Topic\+Subscriber$<$ Message\+Type $>$\+::on\+Message\+Received(), cl\+\_\+multirole\+\_\+sensor\+::\+Cl\+Multirole\+Sensor$<$ sensor\+\_\+msgs\+::\+Temperature $>$\+::on\+Message\+Timeout(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::on\+Motion\+Execution\+Succedded(), and smacc\+::state\+\_\+reactors\+::\+Srsr\+\_\+conditional\+::\+Srsr\+\_\+conditional().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a050e697bd654facce10ea3f6549669b3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a050e697bd654facce10ea3f6549669b3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!main@{main}}
\index{main@{main}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Definition at line 137 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{138 \{}
\DoxyCodeLine{139   ros::init(argc, argv, \textcolor{stringliteral}{"blob\_detector\_node"});}
\DoxyCodeLine{140   ros::NodeHandle nh;}
\DoxyCodeLine{141 }
\DoxyCodeLine{142   \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9c3047923cbbebb0fbfd7f1ff9d13fe9}{detectionPub}} = nh.advertise<std\_msgs::Int32>(\textcolor{stringliteral}{"detected\_color"}, 1);}
\DoxyCodeLine{143   \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ae403eef1a94a795b5eb6de44f6e36b06}{imageSub}} = nh.subscribe(\textcolor{stringliteral}{"/image\_raw"}, 1, \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a050e697bd654facce10ea3f6549669b3}{callback}});}
\DoxyCodeLine{144   \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a521668875556ae8845c9246c2c0ac096}{debugImagePub}} = nh.advertise<sensor\_msgs::Image>(\textcolor{stringliteral}{"/opencv\_debug\_image"}, 1);}
\DoxyCodeLine{145 }
\DoxyCodeLine{146   ros::Rate \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}(10);}
\DoxyCodeLine{147 }
\DoxyCodeLine{148   \textcolor{keywordflow}{while} (ros::ok())}
\DoxyCodeLine{149   \{}
\DoxyCodeLine{150     \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ac5c54df7ed3b930268c8d7752c101725}{update}}();}
\DoxyCodeLine{151     ros::spinOnce();}
\DoxyCodeLine{152     \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}.sleep();}
\DoxyCodeLine{153   \}}
\DoxyCodeLine{154 }
\DoxyCodeLine{155   \textcolor{comment}{/*}}
\DoxyCodeLine{156 \textcolor{comment}{  testRed("../../red1.png");}}
\DoxyCodeLine{157 \textcolor{comment}{  testRed("../../green1.png");}}
\DoxyCodeLine{158 \textcolor{comment}{  testRed("../../blue1.png");}}
\DoxyCodeLine{159 \textcolor{comment}{  testRed("../../red2.png");}}
\DoxyCodeLine{160 \textcolor{comment}{}}
\DoxyCodeLine{161 \textcolor{comment}{  testGreen("../../red1.png");}}
\DoxyCodeLine{162 \textcolor{comment}{  testGreen("../../green1.png");}}
\DoxyCodeLine{163 \textcolor{comment}{  testGreen("../../blue1.png");}}
\DoxyCodeLine{164 \textcolor{comment}{  testGreen("../../red2.png");}}
\DoxyCodeLine{165 \textcolor{comment}{}}
\DoxyCodeLine{166 \textcolor{comment}{  testBlue("../../red1.png");}}
\DoxyCodeLine{167 \textcolor{comment}{  testBlue("../../green1.png");}}
\DoxyCodeLine{168 \textcolor{comment}{  testBlue("../../blue1.png");}}
\DoxyCodeLine{169 \textcolor{comment}{  testBlue("../../red2.png");}}
\DoxyCodeLine{170 \textcolor{comment}{  */}}
\DoxyCodeLine{171 \}}

\end{DoxyCode}


References callback(), debug\+Image\+Pub, detection\+Pub, image\+Sub, fake\+\_\+cube\+\_\+perception\+\_\+node\+::r, and update().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aa483d0ec97a846bd4bfa13d793f5c1e1}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aa483d0ec97a846bd4bfa13d793f5c1e1}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!segmentColor@{segmentColor}}
\index{segmentColor@{segmentColor}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{segmentColor()}{segmentColor()}}
{\footnotesize\ttfamily void segment\+Color (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{input\+R\+GB,  }\item[{int}]{hue\+Mean,  }\item[{int}]{hue\+Window,  }\item[{cv\+::\+Mat \&}]{out }\end{DoxyParamCaption})}



Definition at line 13 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{14 \{}
\DoxyCodeLine{15   cv::Mat hsvInput;}
\DoxyCodeLine{16   cv::cvtColor(inputRGB, hsvInput, cv::COLOR\_BGR2HSV);}
\DoxyCodeLine{17   cv::inRange(hsvInput, cv::Scalar(hueMean -\/ hueWindow, 20, 20), cv::Scalar(hueMean + hueWindow, 255, 255), out);}
\DoxyCodeLine{18   cv::threshold(out, out, 100, 255, cv::THRESH\_BINARY);}
\DoxyCodeLine{19 \}}

\end{DoxyCode}


Referenced by test\+Image().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aa483d0ec97a846bd4bfa13d793f5c1e1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a1fa01e06b7bc85d9a3f2f5c29829978d}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a1fa01e06b7bc85d9a3f2f5c29829978d}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testBlue@{testBlue}}
\index{testBlue@{testBlue}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testBlue()}{testBlue()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int test\+Blue (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line 72 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{73 \{}
\DoxyCodeLine{74   \textcolor{keywordflow}{return} \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}{testImage}}(input, debugImage, \textcolor{stringliteral}{"blue"}, 10, 10);}
\DoxyCodeLine{75 \}}

\end{DoxyCode}


References test\+Image().



Referenced by callback().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a1fa01e06b7bc85d9a3f2f5c29829978d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a1fa01e06b7bc85d9a3f2f5c29829978d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aaa7922f0a8fa1080e4df5cbc44df343c}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aaa7922f0a8fa1080e4df5cbc44df343c}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testBlue@{testBlue}}
\index{testBlue@{testBlue}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testBlue()}{testBlue()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int test\+Blue (\begin{DoxyParamCaption}\item[{std\+::string}]{path,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line 88 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{89 \{}
\DoxyCodeLine{90   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{91   \textcolor{keywordflow}{return} \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}{testImage}}(input, debugImage, \textcolor{stringliteral}{"blue"}, 10, 10);}
\DoxyCodeLine{92 \}}

\end{DoxyCode}


References test\+Image().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aaa7922f0a8fa1080e4df5cbc44df343c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a63b8f2427ed7ea7fd23e6db392dd4838}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a63b8f2427ed7ea7fd23e6db392dd4838}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testGreen@{testGreen}}
\index{testGreen@{testGreen}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testGreen()}{testGreen()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int test\+Green (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line 77 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{78 \{}
\DoxyCodeLine{79   \textcolor{keywordflow}{return} \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}{testImage}}(input, debugImage, \textcolor{stringliteral}{"green"}, 50, 10);}
\DoxyCodeLine{80 \}}

\end{DoxyCode}


References test\+Image().



Referenced by callback().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a63b8f2427ed7ea7fd23e6db392dd4838_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a63b8f2427ed7ea7fd23e6db392dd4838_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a3c639b5feb1e6d3fc83e493573bc0e77}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a3c639b5feb1e6d3fc83e493573bc0e77}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testGreen@{testGreen}}
\index{testGreen@{testGreen}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testGreen()}{testGreen()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int test\+Green (\begin{DoxyParamCaption}\item[{std\+::string}]{path,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line 94 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{95 \{}
\DoxyCodeLine{96   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{97   \textcolor{keywordflow}{return} \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}{testImage}}(input, debugImage, \textcolor{stringliteral}{"green"}, 50, 10);}
\DoxyCodeLine{98 \}}

\end{DoxyCode}


References test\+Image().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a3c639b5feb1e6d3fc83e493573bc0e77_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testImage@{testImage}}
\index{testImage@{testImage}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testImage()}{testImage()}}
{\footnotesize\ttfamily int test\+Image (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{std\+::string}]{color\+Name,  }\item[{int}]{hue\+Mean,  }\item[{int}]{hue\+Window }\end{DoxyParamCaption})}



Definition at line 21 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{22 \{}
\DoxyCodeLine{23   cv::Mat segmented;}
\DoxyCodeLine{24 }
\DoxyCodeLine{25   \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_aa483d0ec97a846bd4bfa13d793f5c1e1}{segmentColor}}(input, hueMean, hueWindow, segmented);}
\DoxyCodeLine{26 }
\DoxyCodeLine{27   cv::SimpleBlobDetector::Params params;}
\DoxyCodeLine{28   \textcolor{comment}{// params.filterByArea= true;}}
\DoxyCodeLine{29   \textcolor{comment}{// params.minArea = 10;}}
\DoxyCodeLine{30   params.filterByArea = \textcolor{keyword}{true};}
\DoxyCodeLine{31   params.minArea = 100;}
\DoxyCodeLine{32   params.maxArea = 100000;}
\DoxyCodeLine{33   params.filterByColor = \textcolor{keyword}{true};}
\DoxyCodeLine{34   params.blobColor = 255;}
\DoxyCodeLine{35 }
\DoxyCodeLine{36   \textcolor{keyword}{auto} blobDetector = cv::SimpleBlobDetector::create(params);}
\DoxyCodeLine{37   std::vector<cv::KeyPoint> blobs;}
\DoxyCodeLine{38   blobDetector-\/>detect(segmented, blobs);}
\DoxyCodeLine{39 }
\DoxyCodeLine{40   std::cout << \textcolor{stringliteral}{"-\/-\/-\/-\/-\/-\/-\/"} << std::endl;}
\DoxyCodeLine{41   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& b : blobs)}
\DoxyCodeLine{42   \{}
\DoxyCodeLine{43     std::cout << \textcolor{stringliteral}{"blob "} << colorName << \textcolor{stringliteral}{" detected: "} << b.size << std::endl;}
\DoxyCodeLine{44   \}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46   \textcolor{keywordflow}{if}(!blobs.empty())}
\DoxyCodeLine{47   \{ }
\DoxyCodeLine{48     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\& b: blobs)}
\DoxyCodeLine{49     \{}
\DoxyCodeLine{50       cv::Rect \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}};}
\DoxyCodeLine{51       \textcolor{keywordtype}{float} diameter = b.size;}
\DoxyCodeLine{52       \textcolor{keyword}{auto} radius = diameter*0.5;}
\DoxyCodeLine{53       \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}.x = b.pt.x -\/ radius;}
\DoxyCodeLine{54       \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}.y = b.pt.y -\/ radius;}
\DoxyCodeLine{55       \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}.width = diameter;}
\DoxyCodeLine{56       \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}.height = diameter;}
\DoxyCodeLine{57       cv::rectangle(debugImage,\mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}, cv::Scalar(255,0,0),1 );}
\DoxyCodeLine{58     \}}
\DoxyCodeLine{59   \}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61   \textcolor{comment}{// cv::imshow(colorName + " filter -\/ "+ path, segmented);}}
\DoxyCodeLine{62   \textcolor{comment}{// cv::waitKey();}}
\DoxyCodeLine{63 }
\DoxyCodeLine{64   \textcolor{keywordflow}{return} blobs.size();}
\DoxyCodeLine{65 \}}

\end{DoxyCode}


References fake\+\_\+cube\+\_\+perception\+\_\+node\+::r, and segment\+Color().



Referenced by test\+Blue(), test\+Green(), and test\+Red().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9bf2df48cb6b85ffe7173b65640b69e3}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9bf2df48cb6b85ffe7173b65640b69e3}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testRed@{testRed}}
\index{testRed@{testRed}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testRed()}{testRed()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int test\+Red (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line 67 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{68 \{}
\DoxyCodeLine{69   \textcolor{keywordflow}{return} \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}{testImage}}(input, debugImage, \textcolor{stringliteral}{"red"}, 130, 20);}
\DoxyCodeLine{70 \}}

\end{DoxyCode}


References test\+Image().



Referenced by callback().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9bf2df48cb6b85ffe7173b65640b69e3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9bf2df48cb6b85ffe7173b65640b69e3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a14524e094ba2e4413fffc9d44b507332}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a14524e094ba2e4413fffc9d44b507332}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testRed@{testRed}}
\index{testRed@{testRed}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testRed()}{testRed()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int test\+Red (\begin{DoxyParamCaption}\item[{std\+::string}]{path,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line 82 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{83 \{}
\DoxyCodeLine{84   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{85   \textcolor{keywordflow}{return} \mbox{\hyperlink{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ad246f945adbcf477432e6857f1062e52}{testImage}}(input, debugImage, \textcolor{stringliteral}{"red"}, 130, 20);}
\DoxyCodeLine{86 \}}

\end{DoxyCode}


References test\+Image().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a14524e094ba2e4413fffc9d44b507332_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ac5c54df7ed3b930268c8d7752c101725}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ac5c54df7ed3b930268c8d7752c101725}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!update@{update}}
\index{update@{update}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 100 of file opencv\+\_\+perception\+\_\+node.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{101 \{}
\DoxyCodeLine{102 \}}

\end{DoxyCode}


Referenced by main().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=207pt]{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ac5c54df7ed3b930268c8d7752c101725_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a521668875556ae8845c9246c2c0ac096}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a521668875556ae8845c9246c2c0ac096}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!debugImagePub@{debugImagePub}}
\index{debugImagePub@{debugImagePub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{debugImagePub}{debugImagePub}}
{\footnotesize\ttfamily ros\+::\+Publisher debug\+Image\+Pub}



Definition at line 10 of file opencv\+\_\+perception\+\_\+node.\+cpp.



Referenced by callback(), and main().

\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9c3047923cbbebb0fbfd7f1ff9d13fe9}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_a9c3047923cbbebb0fbfd7f1ff9d13fe9}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!detectionPub@{detectionPub}}
\index{detectionPub@{detectionPub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{detectionPub}{detectionPub}}
{\footnotesize\ttfamily ros\+::\+Publisher detection\+Pub}



Definition at line 9 of file opencv\+\_\+perception\+\_\+node.\+cpp.



Referenced by callback(), and main().

\mbox{\Hypertarget{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ae403eef1a94a795b5eb6de44f6e36b06}\label{sm__ridgeback__barrel__search__1_2servers_2opencv__perception__node_2opencv__perception__node_8cpp_ae403eef1a94a795b5eb6de44f6e36b06}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!imageSub@{imageSub}}
\index{imageSub@{imageSub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{imageSub}{imageSub}}
{\footnotesize\ttfamily ros\+::\+Subscriber image\+Sub}



Definition at line 11 of file opencv\+\_\+perception\+\_\+node.\+cpp.



Referenced by main().

