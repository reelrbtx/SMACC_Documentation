\hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin}{}\doxysection{fetch\+\_\+arm\+::I\+K\+Fast\+Kinematics\+Plugin Class Reference}
\label{classfetch__arm_1_1IKFastKinematicsPlugin}\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}


Inheritance diagram for fetch\+\_\+arm\+::I\+K\+Fast\+Kinematics\+Plugin\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classfetch__arm_1_1IKFastKinematicsPlugin__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for fetch\+\_\+arm\+::I\+K\+Fast\+Kinematics\+Plugin\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfetch__arm_1_1IKFastKinematicsPlugin__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a957ce62e7d99bd938c17d4dbdddfa706}{I\+K\+Fast\+Kinematics\+Plugin}} ()
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a40214ff942d1506207d812b75154a0f3}{get\+Position\+IK}} (const geometry\+\_\+msgs\+::\+Pose \&ik\+\_\+pose, const std\+::vector$<$ double $>$ \&ik\+\_\+seed\+\_\+state, std\+::vector$<$ double $>$ \&solution, moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&error\+\_\+code, const kinematics\+::\+Kinematics\+Query\+Options \&options=kinematics\+::\+Kinematics\+Query\+Options()) const override
\begin{DoxyCompactList}\small\item\em Given a desired pose of the end-\/effector, compute the joint angles to reach it. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a0d617664d189cb218e7929d72d6d7cbc}{get\+Position\+IK}} (const std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose $>$ \&ik\+\_\+poses, const std\+::vector$<$ double $>$ \&ik\+\_\+seed\+\_\+state, std\+::vector$<$ std\+::vector$<$ double $>$$>$ \&solutions, kinematics\+::\+Kinematics\+Result \&result, const kinematics\+::\+Kinematics\+Query\+Options \&options) const override
\begin{DoxyCompactList}\small\item\em Given a desired pose of the end-\/effector, compute the set joint angles solutions that are able to reach it. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a7e5949cda80a64ebfdc9b1acd40e7c91}{search\+Position\+IK}} (const geometry\+\_\+msgs\+::\+Pose \&ik\+\_\+pose, const std\+::vector$<$ double $>$ \&ik\+\_\+seed\+\_\+state, double timeout, std\+::vector$<$ double $>$ \&solution, moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&error\+\_\+code, const kinematics\+::\+Kinematics\+Query\+Options \&options=kinematics\+::\+Kinematics\+Query\+Options()) const override
\begin{DoxyCompactList}\small\item\em Given a desired pose of the end-\/effector, search for the joint angles required to reach it. This particular method is intended for \char`\"{}searching\char`\"{} for a solutions by stepping through the redundancy (or other numerical routines). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ac037ee5d3c5309b075f89bd8da9cbd02}{search\+Position\+IK}} (const geometry\+\_\+msgs\+::\+Pose \&ik\+\_\+pose, const std\+::vector$<$ double $>$ \&ik\+\_\+seed\+\_\+state, double timeout, const std\+::vector$<$ double $>$ \&consistency\+\_\+limits, std\+::vector$<$ double $>$ \&solution, moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&error\+\_\+code, const kinematics\+::\+Kinematics\+Query\+Options \&options=kinematics\+::\+Kinematics\+Query\+Options()) const override
\begin{DoxyCompactList}\small\item\em Given a desired pose of the end-\/effector, search for the joint angles required to reach it. This particular method is intended for \char`\"{}searching\char`\"{} for a solutions by stepping through the redundancy (or other numerical routines). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad0549e44e00ed41c0432e33bc9b9b1c8}{search\+Position\+IK}} (const geometry\+\_\+msgs\+::\+Pose \&ik\+\_\+pose, const std\+::vector$<$ double $>$ \&ik\+\_\+seed\+\_\+state, double timeout, std\+::vector$<$ double $>$ \&solution, const I\+K\+Callback\+Fn \&solution\+\_\+callback, moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&error\+\_\+code, const kinematics\+::\+Kinematics\+Query\+Options \&options=kinematics\+::\+Kinematics\+Query\+Options()) const override
\begin{DoxyCompactList}\small\item\em Given a desired pose of the end-\/effector, search for the joint angles required to reach it. This particular method is intended for \char`\"{}searching\char`\"{} for a solutions by stepping through the redundancy (or other numerical routines). \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a78674f0c81f66ec38471fab8f75c1d72}{search\+Position\+IK}} (const geometry\+\_\+msgs\+::\+Pose \&ik\+\_\+pose, const std\+::vector$<$ double $>$ \&ik\+\_\+seed\+\_\+state, double timeout, const std\+::vector$<$ double $>$ \&consistency\+\_\+limits, std\+::vector$<$ double $>$ \&solution, const I\+K\+Callback\+Fn \&solution\+\_\+callback, moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&error\+\_\+code, const kinematics\+::\+Kinematics\+Query\+Options \&options=kinematics\+::\+Kinematics\+Query\+Options()) const override
\begin{DoxyCompactList}\small\item\em Given a desired pose of the end-\/effector, search for the joint angles required to reach it. This particular method is intended for \char`\"{}searching\char`\"{} for a solutions by stepping through the redundancy (or other numerical routines). The consistency\+\_\+limit specifies that only certain redundancy positions around those specified in the seed state are admissible and need to be searched. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a7211ee34bb6551d89101751f8675910b}{get\+Position\+FK}} (const std\+::vector$<$ std\+::string $>$ \&link\+\_\+names, const std\+::vector$<$ double $>$ \&joint\+\_\+angles, std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose $>$ \&poses) const override
\begin{DoxyCompactList}\small\item\em Given a set of joint angles and a set of links, compute their pose. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a190aa0c0aff22504c8872c289d429504}{set\+Search\+Discretization}} (const std\+::map$<$ unsigned int, double $>$ \&discretization)
\begin{DoxyCompactList}\small\item\em Sets the discretization value for the redundant joint. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a2bddbf1819e0520e27f20f752ce2d391}{set\+Redundant\+Joints}} (const std\+::vector$<$ unsigned int $>$ \&redundant\+\_\+joint\+\_\+indices) override
\begin{DoxyCompactList}\small\item\em Overrides the default method to prevent changing the redundant joints. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
const std\+::vector$<$ std\+::string $>$ \& \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abef26c516fd84d243b3a9097006e4cb6}{get\+Joint\+Names}} () const override
\item 
const std\+::vector$<$ std\+::string $>$ \& \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a4be14519224792f5d4fc366c57cf3a8a}{get\+Link\+Names}} () const override
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a79242ec31353f6045a71abbed2f7b815}{initialize}} (const moveit\+::core\+::\+Robot\+Model \&robot\+\_\+model, const std\+::string \&group\+\_\+name, const std\+::string \&base\+\_\+frame, const std\+::vector$<$ std\+::string $>$ \&tip\+\_\+frames, double search\+\_\+discretization) override
\item 
size\+\_\+t \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64}{solve}} (K\+D\+L\+::\+Frame \&pose\+\_\+frame, const std\+::vector$<$ double $>$ \&vfree, \mbox{\hyperlink{classikfast_1_1IkSolutionList}{Ik\+Solution\+List}}$<$ Ik\+Real $>$ \&solutions) const
\begin{DoxyCompactList}\small\item\em Calls the IK solver from I\+K\+Fast. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34}{get\+Solution}} (const \mbox{\hyperlink{classikfast_1_1IkSolutionList}{Ik\+Solution\+List}}$<$ Ik\+Real $>$ \&solutions, int i, std\+::vector$<$ double $>$ \&solution) const
\begin{DoxyCompactList}\small\item\em Gets a specific solution from the set. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6d4b4d9ba0a8279807777b7982f43f98}{get\+Solution}} (const \mbox{\hyperlink{classikfast_1_1IkSolutionList}{Ik\+Solution\+List}}$<$ Ik\+Real $>$ \&solutions, const std\+::vector$<$ double $>$ \&ik\+\_\+seed\+\_\+state, int i, std\+::vector$<$ double $>$ \&solution) const
\begin{DoxyCompactList}\small\item\em Gets a specific solution from the set with joints rotated 360Â° to be near seed state where possible. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ac321fb5ad126f6ca096ddfcb5b5a074d}{enforce\+Limits}} (double val, double min, double max) const
\begin{DoxyCompactList}\small\item\em If the value is outside of min/max then it tries to +/-\/ 2 $\ast$ pi to put the value into the range. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a373a476a057b47a0516d43f9d0f2a575}{fill\+Free\+Params}} (int count, int $\ast$array)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a74ef3a6f3113a0ad268d24cea9350404}{get\+Count}} (int \&count, const int \&max\+\_\+count, const int \&min\+\_\+count) const
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a630dd8b86f08d2672ad7a43a995e80e6}{sample\+Redundant\+Joint}} (kinematics\+::\+Discretization\+Method method, std\+::vector$<$ double $>$ \&sampled\+\_\+joint\+\_\+vals) const
\begin{DoxyCompactList}\small\item\em samples the designated redundant joint using the chosen discretization method \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a20d8e8799dcc040f8ed7ebbab2cd68f7}{compute\+Relative\+Transform}} (const std\+::string \&from, const std\+::string \&to, Eigen\+::\+Isometry3d \&transform, \mbox{\hyperlink{classbool}{bool}} \&differs\+\_\+from\+\_\+identity)
\begin{DoxyCompactList}\small\item\em Validate that we can compute a fixed transform between from and to links. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_aba28897043f901b8a417d95195dbe0f3}{transform\+To\+Chain\+Frame}} (const geometry\+\_\+msgs\+::\+Pose \&ik\+\_\+pose, K\+D\+L\+::\+Frame \&ik\+\_\+pose\+\_\+chain) const
\begin{DoxyCompactList}\small\item\em Transforms the input pose to the correct frame for the solver. This assumes that the group includes the entire solver chain and that any joints outside of the solver chain within the group are are fixed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\+\_\+names\+\_\+}}
\item 
std\+::vector$<$ double $>$ \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\+\_\+min\+\_\+vector\+\_\+}}
\item 
std\+::vector$<$ double $>$ \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\+\_\+max\+\_\+vector\+\_\+}}
\item 
std\+::vector$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\+\_\+has\+\_\+limits\+\_\+vector\+\_\+}}
\item 
std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a4555bbc0e1527d78f89afad21f232e20}{link\+\_\+names\+\_\+}}
\item 
const size\+\_\+t \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\+\_\+joints\+\_\+}}
\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\+\_\+params\+\_\+}}
\item 
const std\+::string \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a61fcdeb99f856099c8d29cf377de089c}{I\+K\+F\+A\+S\+T\+\_\+\+T\+I\+P\+\_\+\+F\+R\+A\+M\+E\+\_\+}} = \char`\"{}wrist\+\_\+roll\+\_\+link\char`\"{}
\item 
const std\+::string \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a23e78d49922170df649d5492cd67d1a1}{I\+K\+F\+A\+S\+T\+\_\+\+B\+A\+S\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+}} = \char`\"{}torso\+\_\+lift\+\_\+link\char`\"{}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a210a1c46609eb68c3781e027e0df7253}{tip\+\_\+transform\+\_\+required\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a965e0db42d5326012a591c0d277f9bd7}{base\+\_\+transform\+\_\+required\+\_\+}}
\item 
Eigen\+::\+Isometry3d \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a62e117a3013e82c9826810eec6d39d9b}{chain\+\_\+base\+\_\+to\+\_\+group\+\_\+base\+\_\+}}
\item 
Eigen\+::\+Isometry3d \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abbe06d61680f9512965875ed92239e33}{group\+\_\+tip\+\_\+to\+\_\+chain\+\_\+tip\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6cd6e556315e890a097129395a028f9f}{initialized\+\_\+}}
\item 
const std\+::string \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\+\_\+}} \{ \char`\"{}ikfast\char`\"{} \}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 154 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a957ce62e7d99bd938c17d4dbdddfa706}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a957ce62e7d99bd938c17d4dbdddfa706}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!IKFastKinematicsPlugin@{IKFastKinematicsPlugin}}
\index{IKFastKinematicsPlugin@{IKFastKinematicsPlugin}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{IKFastKinematicsPlugin()}{IKFastKinematicsPlugin()}}
{\footnotesize\ttfamily fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::\+I\+K\+Fast\+Kinematics\+Plugin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 197 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{197                            : \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}}(\mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_a3e9541dde410904e043fe18701061b62}{GetNumJoints}}()), \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6cd6e556315e890a097129395a028f9f}{initialized\_}}(\textcolor{keyword}{false})}
\DoxyCodeLine{198   \{}
\DoxyCodeLine{199     srand(time(\textcolor{keyword}{nullptr}));}
\DoxyCodeLine{200     supported\_methods\_.push\_back(kinematics::DiscretizationMethods::NO\_DISCRETIZATION);}
\DoxyCodeLine{201     supported\_methods\_.push\_back(kinematics::DiscretizationMethods::ALL\_DISCRETIZED);}
\DoxyCodeLine{202     supported\_methods\_.push\_back(kinematics::DiscretizationMethods::ALL\_RANDOM\_SAMPLED);}
\DoxyCodeLine{203   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a20d8e8799dcc040f8ed7ebbab2cd68f7}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a20d8e8799dcc040f8ed7ebbab2cd68f7}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!computeRelativeTransform@{computeRelativeTransform}}
\index{computeRelativeTransform@{computeRelativeTransform}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{computeRelativeTransform()}{computeRelativeTransform()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::compute\+Relative\+Transform (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{from,  }\item[{const std\+::string \&}]{to,  }\item[{Eigen\+::\+Isometry3d \&}]{transform,  }\item[{\mbox{\hyperlink{classbool}{bool}} \&}]{differs\+\_\+from\+\_\+identity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Validate that we can compute a fixed transform between from and to links. 



Definition at line 373 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{375 \{}
\DoxyCodeLine{376   RobotStatePtr robot\_state;}
\DoxyCodeLine{377   robot\_state.reset(\textcolor{keyword}{new} RobotState(robot\_model\_));}
\DoxyCodeLine{378 }
\DoxyCodeLine{379   \textcolor{keyword}{auto}* from\_link = robot\_state-\/>getLinkModel(from);}
\DoxyCodeLine{380   \textcolor{keyword}{auto}* to\_link = robot\_state-\/>getLinkModel(to);}
\DoxyCodeLine{381   \textcolor{keywordflow}{if} (!from\_link)}
\DoxyCodeLine{382     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Could not find frame "} << from);}
\DoxyCodeLine{383   \textcolor{keywordflow}{if} (!to\_link)}
\DoxyCodeLine{384     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Could not find frame "} << to);}
\DoxyCodeLine{385   \textcolor{keywordflow}{if} (!from\_link || !to\_link)}
\DoxyCodeLine{386     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{387 }
\DoxyCodeLine{388   \textcolor{keywordflow}{if} (robot\_state-\/>getRobotModel()-\/>getRigidlyConnectedParentLinkModel(from\_link) !=}
\DoxyCodeLine{389       robot\_state-\/>getRobotModel()-\/>getRigidlyConnectedParentLinkModel(to\_link))}
\DoxyCodeLine{390   \{}
\DoxyCodeLine{391     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Link frames "} << from << \textcolor{stringliteral}{" and "} << to << \textcolor{stringliteral}{" are not rigidly connected."});}
\DoxyCodeLine{392     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{393   \}}
\DoxyCodeLine{394 }
\DoxyCodeLine{395   transform = robot\_state-\/>getGlobalLinkTransform(from\_link).inverse() * robot\_state-\/>getGlobalLinkTransform(to\_link);}
\DoxyCodeLine{396   differs\_from\_identity = !transform.matrix().isIdentity();}
\DoxyCodeLine{397   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{398 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_ac321fb5ad126f6ca096ddfcb5b5a074d}\label{classfetch__arm_1_1IKFastKinematicsPlugin_ac321fb5ad126f6ca096ddfcb5b5a074d}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!enforceLimits@{enforceLimits}}
\index{enforceLimits@{enforceLimits}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{enforceLimits()}{enforceLimits()}}
{\footnotesize\ttfamily double fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::enforce\+Limits (\begin{DoxyParamCaption}\item[{double}]{val,  }\item[{double}]{min,  }\item[{double}]{max }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



If the value is outside of min/max then it tries to +/-\/ 2 $\ast$ pi to put the value into the range. 



Definition at line 679 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{680 \{}
\DoxyCodeLine{681   \textcolor{comment}{// If the joint\_value is greater than max subtract 2 * PI until it is less than the max}}
\DoxyCodeLine{682   \textcolor{keywordflow}{while} (joint\_value > max)}
\DoxyCodeLine{683   \{}
\DoxyCodeLine{684     joint\_value -\/= 2 * M\_PI;}
\DoxyCodeLine{685   \}}
\DoxyCodeLine{686 }
\DoxyCodeLine{687   \textcolor{comment}{// If the joint\_value is less than the min, add 2 * PI until it is more than the min}}
\DoxyCodeLine{688   \textcolor{keywordflow}{while} (joint\_value < min)}
\DoxyCodeLine{689   \{}
\DoxyCodeLine{690     joint\_value += 2 * M\_PI;}
\DoxyCodeLine{691   \}}
\DoxyCodeLine{692   \textcolor{keywordflow}{return} joint\_value;}
\DoxyCodeLine{693 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a373a476a057b47a0516d43f9d0f2a575}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a373a476a057b47a0516d43f9d0f2a575}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!fillFreeParams@{fillFreeParams}}
\index{fillFreeParams@{fillFreeParams}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{fillFreeParams()}{fillFreeParams()}}
{\footnotesize\ttfamily void fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::fill\+Free\+Params (\begin{DoxyParamCaption}\item[{int}]{count,  }\item[{int $\ast$}]{array }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 695 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{696 \{}
\DoxyCodeLine{697   \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}.clear();}
\DoxyCodeLine{698   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}}; ++i)}
\DoxyCodeLine{699     \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}.push\_back(array[i]);}
\DoxyCodeLine{700 \}}

\end{DoxyCode}


References sm\+\_\+fetch\+\_\+two\+\_\+table\+\_\+whiskey\+\_\+pour\+::count.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a74ef3a6f3113a0ad268d24cea9350404}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a74ef3a6f3113a0ad268d24cea9350404}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!getCount@{getCount}}
\index{getCount@{getCount}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{getCount()}{getCount()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::get\+Count (\begin{DoxyParamCaption}\item[{int \&}]{count,  }\item[{const int \&}]{max\+\_\+count,  }\item[{const int \&}]{min\+\_\+count }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 702 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{703 \{}
\DoxyCodeLine{704   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} > 0)}
\DoxyCodeLine{705   \{}
\DoxyCodeLine{706     \textcolor{keywordflow}{if} (-\/\mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} >= min\_count)}
\DoxyCodeLine{707     \{}
\DoxyCodeLine{708       \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} = -\/\mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}};}
\DoxyCodeLine{709       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{710     \}}
\DoxyCodeLine{711     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} + 1 <= max\_count)}
\DoxyCodeLine{712     \{}
\DoxyCodeLine{713       \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} = \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} + 1;}
\DoxyCodeLine{714       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{715     \}}
\DoxyCodeLine{716     \textcolor{keywordflow}{else}}
\DoxyCodeLine{717     \{}
\DoxyCodeLine{718       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{719     \}}
\DoxyCodeLine{720   \}}
\DoxyCodeLine{721   \textcolor{keywordflow}{else}}
\DoxyCodeLine{722   \{}
\DoxyCodeLine{723     \textcolor{keywordflow}{if} (1 -\/ \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} <= max\_count)}
\DoxyCodeLine{724     \{}
\DoxyCodeLine{725       \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} = 1 -\/ \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}};}
\DoxyCodeLine{726       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{727     \}}
\DoxyCodeLine{728     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} -\/ 1 >= min\_count)}
\DoxyCodeLine{729     \{}
\DoxyCodeLine{730       \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} = \mbox{\hyperlink{namespacesm__fetch__two__table__whiskey__pour_acbce06cd0c9048e8be6a258e2c406986}{count}} -\/ 1;}
\DoxyCodeLine{731       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{732     \}}
\DoxyCodeLine{733     \textcolor{keywordflow}{else}}
\DoxyCodeLine{734       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{735   \}}
\DoxyCodeLine{736 \}}

\end{DoxyCode}


References sm\+\_\+fetch\+\_\+two\+\_\+table\+\_\+whiskey\+\_\+pour\+::count.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_abef26c516fd84d243b3a9097006e4cb6}\label{classfetch__arm_1_1IKFastKinematicsPlugin_abef26c516fd84d243b3a9097006e4cb6}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!getJointNames@{getJointNames}}
\index{getJointNames@{getJointNames}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{getJointNames()}{getJointNames()}}
{\footnotesize\ttfamily const std\+::vector$<$std\+::string$>$\& fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::get\+Joint\+Names (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [private]}}



Definition at line 184 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{185   \{}
\DoxyCodeLine{186     \textcolor{keywordflow}{return} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\_names\_}};}
\DoxyCodeLine{187   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a4be14519224792f5d4fc366c57cf3a8a}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a4be14519224792f5d4fc366c57cf3a8a}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!getLinkNames@{getLinkNames}}
\index{getLinkNames@{getLinkNames}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{getLinkNames()}{getLinkNames()}}
{\footnotesize\ttfamily const std\+::vector$<$std\+::string$>$\& fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::get\+Link\+Names (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [private]}}



Definition at line 188 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{189   \{}
\DoxyCodeLine{190     \textcolor{keywordflow}{return} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a4555bbc0e1527d78f89afad21f232e20}{link\_names\_}};}
\DoxyCodeLine{191   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a7211ee34bb6551d89101751f8675910b}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a7211ee34bb6551d89101751f8675910b}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!getPositionFK@{getPositionFK}}
\index{getPositionFK@{getPositionFK}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{getPositionFK()}{getPositionFK()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::get\+Position\+FK (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::string $>$ \&}]{link\+\_\+names,  }\item[{const std\+::vector$<$ double $>$ \&}]{joint\+\_\+angles,  }\item[{std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose $>$ \&}]{poses }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Given a set of joint angles and a set of links, compute their pose. 


\begin{DoxyParams}{Parameters}
{\em link\+\_\+names} & A set of links for which FK needs to be computed \\
\hline
{\em joint\+\_\+angles} & The state for which FK is being computed \\
\hline
{\em poses} & The resultant set of poses (in the frame returned by get\+Base\+Frame()) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid solution was found, false otherwise 
\end{DoxyReturn}


Definition at line 738 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{741 \{}
\DoxyCodeLine{742   \textcolor{keywordflow}{if} (\mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_abc401850b948d5a0402e9dbb77d3846f}{GetIkType}}() != \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa4e12b1f799acebbe08a3eb82621bd1fe}{IKP\_Transform6D}})}
\DoxyCodeLine{743   \{}
\DoxyCodeLine{744     \textcolor{comment}{// ComputeFk() is the inverse function of ComputeIk(), so the format of}}
\DoxyCodeLine{745     \textcolor{comment}{// eerot differs depending on IK type. The Transform6D IK type is the only}}
\DoxyCodeLine{746     \textcolor{comment}{// one for which a 3x3 rotation matrix is returned, which means we can only}}
\DoxyCodeLine{747     \textcolor{comment}{// compute FK for that IK type.}}
\DoxyCodeLine{748     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Can only compute FK for Transform6D IK type!"});}
\DoxyCodeLine{749     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{750   \}}
\DoxyCodeLine{751 }
\DoxyCodeLine{752   KDL::Frame p\_out;}
\DoxyCodeLine{753   \textcolor{keywordflow}{if} (link\_names.size() == 0)}
\DoxyCodeLine{754   \{}
\DoxyCodeLine{755     ROS\_WARN\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Link names with nothing"});}
\DoxyCodeLine{756     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{757   \}}
\DoxyCodeLine{758 }
\DoxyCodeLine{759   \textcolor{keywordflow}{if} (link\_names.size() != 1 || link\_names[0] != getTipFrame())}
\DoxyCodeLine{760   \{}
\DoxyCodeLine{761     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Can compute FK for \%s only"}, getTipFrame().c\_str());}
\DoxyCodeLine{762     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{763   \}}
\DoxyCodeLine{764 }
\DoxyCodeLine{765   \textcolor{keywordtype}{bool} valid = \textcolor{keyword}{true};}
\DoxyCodeLine{766 }
\DoxyCodeLine{767   IkReal eerot[9], eetrans[3];}
\DoxyCodeLine{768 }
\DoxyCodeLine{769   \textcolor{keywordflow}{if} (joint\_angles.size() != \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}})}
\DoxyCodeLine{770   \{}
\DoxyCodeLine{771     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Unexpected number of joint angles"});}
\DoxyCodeLine{772     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{773   \}}
\DoxyCodeLine{774 }
\DoxyCodeLine{775   IkReal angles[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}}];}
\DoxyCodeLine{776   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} i = 0; i < \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}}; i++)}
\DoxyCodeLine{777     angles[i] = joint\_angles[i];}
\DoxyCodeLine{778 }
\DoxyCodeLine{779   \textcolor{comment}{// IKFast56/61}}
\DoxyCodeLine{780   \mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_ac5b257dc48deeb1c904d40b5dbf4a5a4}{ComputeFk}}(angles, eetrans, eerot);}
\DoxyCodeLine{781 }
\DoxyCodeLine{782   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 3; ++i)}
\DoxyCodeLine{783     p\_out.p.data[i] = eetrans[i];}
\DoxyCodeLine{784 }
\DoxyCodeLine{785   for (\textcolor{keywordtype}{int} i = 0; i < 9; ++i)}
\DoxyCodeLine{786     p\_out.M.data[i] = eerot[i];}
\DoxyCodeLine{787 }
\DoxyCodeLine{788   poses.resize(1);}
\DoxyCodeLine{789   poses[0] = tf2::toMsg(p\_out);}
\DoxyCodeLine{790 }
\DoxyCodeLine{791   \textcolor{keywordflow}{return} valid;}
\DoxyCodeLine{792 \}}

\end{DoxyCode}


References Compute\+Fk(), Get\+Ik\+Type(), and fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Transform6D.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfetch__arm_1_1IKFastKinematicsPlugin_a7211ee34bb6551d89101751f8675910b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a40214ff942d1506207d812b75154a0f3}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a40214ff942d1506207d812b75154a0f3}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!getPositionIK@{getPositionIK}}
\index{getPositionIK@{getPositionIK}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{getPositionIK()}{getPositionIK()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::get\+Position\+IK (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{ik\+\_\+pose,  }\item[{const std\+::vector$<$ double $>$ \&}]{ik\+\_\+seed\+\_\+state,  }\item[{std\+::vector$<$ double $>$ \&}]{solution,  }\item[{moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&}]{error\+\_\+code,  }\item[{const kinematics\+::\+Kinematics\+Query\+Options \&}]{options = {\ttfamily kinematics\+:\+:KinematicsQueryOptions()} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Given a desired pose of the end-\/effector, compute the joint angles to reach it. 


\begin{DoxyParams}{Parameters}
{\em ik\+\_\+pose} & the desired pose of the link \\
\hline
{\em ik\+\_\+seed\+\_\+state} & an initial guess solution for the inverse kinematics \\
\hline
{\em solution} & the solution vector \\
\hline
{\em error\+\_\+code} & an error code that encodes the reason for failure or success \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid solution was found, false otherwise 
\end{DoxyReturn}


Definition at line 1056 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{1059 \{}
\DoxyCodeLine{1060   ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"getPositionIK"});}
\DoxyCodeLine{1061 }
\DoxyCodeLine{1062   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6cd6e556315e890a097129395a028f9f}{initialized\_}})}
\DoxyCodeLine{1063   \{}
\DoxyCodeLine{1064     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"kinematics not active"});}
\DoxyCodeLine{1065     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1066   \}}
\DoxyCodeLine{1067 }
\DoxyCodeLine{1068   \textcolor{keywordflow}{if} (ik\_seed\_state.size() < \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}})}
\DoxyCodeLine{1069   \{}
\DoxyCodeLine{1070     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"ik\_seed\_state only has "} << ik\_seed\_state.size()}
\DoxyCodeLine{1071                                                             << \textcolor{stringliteral}{" entries, this ikfast solver requires "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}});}
\DoxyCodeLine{1072     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1073   \}}
\DoxyCodeLine{1074 }
\DoxyCodeLine{1075   \textcolor{comment}{// Check if seed is in bound}}
\DoxyCodeLine{1076   \textcolor{keywordflow}{for} (std::size\_t i = 0; i < ik\_seed\_state.size(); i++)}
\DoxyCodeLine{1077   \{}
\DoxyCodeLine{1078     \textcolor{comment}{// Add tolerance to limit check}}
\DoxyCodeLine{1079     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[i] \&\& ((ik\_seed\_state[i] < (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i] -\/ \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}})) ||}
\DoxyCodeLine{1080                                         (ik\_seed\_state[i] > (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i] + \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}}))))}
\DoxyCodeLine{1081     \{}
\DoxyCodeLine{1082       ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"IK seed not in limits! "} << \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i) << \textcolor{stringliteral}{" value "} << ik\_seed\_state[i]}
\DoxyCodeLine{1083                                                               << \textcolor{stringliteral}{" has limit: "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[i]}
\DoxyCodeLine{1084                                                               << \textcolor{stringliteral}{"  being  "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i] << \textcolor{stringliteral}{" to "}}
\DoxyCodeLine{1085                                                               << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i]);}
\DoxyCodeLine{1086       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1087     \}}
\DoxyCodeLine{1088   \}}
\DoxyCodeLine{1089 }
\DoxyCodeLine{1090   std::vector<double> vfree(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}.size());}
\DoxyCodeLine{1091   \textcolor{keywordflow}{for} (std::size\_t i = 0; i < \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}.size(); ++i)}
\DoxyCodeLine{1092   \{}
\DoxyCodeLine{1093     \textcolor{keywordtype}{int} p = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[i];}
\DoxyCodeLine{1094     ROS\_ERROR(\textcolor{stringliteral}{"\%u is \%f"}, p, ik\_seed\_state[p]);  \textcolor{comment}{// DTC}}
\DoxyCodeLine{1095     vfree[i] = ik\_seed\_state[p];}
\DoxyCodeLine{1096   \}}
\DoxyCodeLine{1097 }
\DoxyCodeLine{1098   KDL::Frame frame;}
\DoxyCodeLine{1099   \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_aba28897043f901b8a417d95195dbe0f3}{transformToChainFrame}}(ik\_pose, frame);}
\DoxyCodeLine{1100 }
\DoxyCodeLine{1101   \mbox{\hyperlink{classikfast_1_1IkSolutionList}{IkSolutionList<IkReal>}} solutions;}
\DoxyCodeLine{1102   \textcolor{keywordtype}{size\_t} numsol = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64}{solve}}(frame, vfree, solutions);}
\DoxyCodeLine{1103   ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Found "} << numsol << \textcolor{stringliteral}{" solutions from IKFast"});}
\DoxyCodeLine{1104 }
\DoxyCodeLine{1105   std::vector<LimitObeyingSol> solutions\_obey\_limits;}
\DoxyCodeLine{1106 }
\DoxyCodeLine{1107   \textcolor{keywordflow}{if} (numsol)}
\DoxyCodeLine{1108   \{}
\DoxyCodeLine{1109     std::vector<double> solution\_obey\_limits;}
\DoxyCodeLine{1110     \textcolor{keywordflow}{for} (std::size\_t \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}} = 0; \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}} < numsol; ++\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}})}
\DoxyCodeLine{1111     \{}
\DoxyCodeLine{1112       std::vector<double> sol;}
\DoxyCodeLine{1113       \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34}{getSolution}}(solutions, ik\_seed\_state, \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}, sol);}
\DoxyCodeLine{1114       ROS\_DEBUG\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Sol \%d: \%e   \%e   \%e   \%e   \%e   \%e"}, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}), sol[0], sol[1], sol[2], sol[3],}
\DoxyCodeLine{1115                       sol[4], sol[5]);}
\DoxyCodeLine{1116 }
\DoxyCodeLine{1117       \textcolor{keywordtype}{bool} obeys\_limits = \textcolor{keyword}{true};}
\DoxyCodeLine{1118       \textcolor{keywordflow}{for} (std::size\_t i = 0; i < sol.size(); i++)}
\DoxyCodeLine{1119       \{}
\DoxyCodeLine{1120         \textcolor{comment}{// Add tolerance to limit check}}
\DoxyCodeLine{1121         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[i] \&\& ((sol[i] < (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i] -\/ \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}})) ||}
\DoxyCodeLine{1122                                             (sol[i] > (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i] + \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}}))))}
\DoxyCodeLine{1123         \{}
\DoxyCodeLine{1124           \textcolor{comment}{// One element of solution is not within limits}}
\DoxyCodeLine{1125           obeys\_limits = \textcolor{keyword}{false};}
\DoxyCodeLine{1126           ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Not in limits! "} << \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(i) << \textcolor{stringliteral}{" value "} << sol[i]}
\DoxyCodeLine{1127                                                           << \textcolor{stringliteral}{" has limit: "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[i]}
\DoxyCodeLine{1128                                                           << \textcolor{stringliteral}{"  being  "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i] << \textcolor{stringliteral}{" to "}}
\DoxyCodeLine{1129                                                           << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i]);}
\DoxyCodeLine{1130           \textcolor{keywordflow}{break};}
\DoxyCodeLine{1131         \}}
\DoxyCodeLine{1132       \}}
\DoxyCodeLine{1133       \textcolor{keywordflow}{if} (obeys\_limits)}
\DoxyCodeLine{1134       \{}
\DoxyCodeLine{1135         \textcolor{comment}{// All elements of this solution obey limits}}
\DoxyCodeLine{1136         \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34}{getSolution}}(solutions, ik\_seed\_state, \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}, solution\_obey\_limits);}
\DoxyCodeLine{1137         \textcolor{keywordtype}{double} dist\_from\_seed = 0.0;}
\DoxyCodeLine{1138         \textcolor{keywordflow}{for} (std::size\_t i = 0; i < ik\_seed\_state.size(); ++i)}
\DoxyCodeLine{1139         \{}
\DoxyCodeLine{1140           dist\_from\_seed += fabs(ik\_seed\_state[i] -\/ solution\_obey\_limits[i]);}
\DoxyCodeLine{1141         \}}
\DoxyCodeLine{1142 }
\DoxyCodeLine{1143         solutions\_obey\_limits.push\_back(\{ solution\_obey\_limits, dist\_from\_seed \});}
\DoxyCodeLine{1144       \}}
\DoxyCodeLine{1145     \}}
\DoxyCodeLine{1146   \}}
\DoxyCodeLine{1147   \textcolor{keywordflow}{else}}
\DoxyCodeLine{1148   \{}
\DoxyCodeLine{1149     ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"No IK solution"});}
\DoxyCodeLine{1150   \}}
\DoxyCodeLine{1151 }
\DoxyCodeLine{1152   \textcolor{comment}{// Sort the solutions under limits and find the one that is closest to ik\_seed\_state}}
\DoxyCodeLine{1153   \textcolor{keywordflow}{if} (!solutions\_obey\_limits.empty())}
\DoxyCodeLine{1154   \{}
\DoxyCodeLine{1155     std::sort(solutions\_obey\_limits.begin(), solutions\_obey\_limits.end());}
\DoxyCodeLine{1156     solution = solutions\_obey\_limits[0].value;}
\DoxyCodeLine{1157     error\_code.val = moveit\_msgs::MoveItErrorCodes::SUCCESS;}
\DoxyCodeLine{1158     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1159   \}}
\DoxyCodeLine{1160 }
\DoxyCodeLine{1161   error\_code.val = moveit\_msgs::MoveItErrorCodes::NO\_IK\_SOLUTION;}
\DoxyCodeLine{1162   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1163 \}}

\end{DoxyCode}


References L\+I\+M\+I\+T\+\_\+\+T\+O\+L\+E\+R\+A\+N\+CE, and service\+\_\+node\+\_\+3\+::s.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a0d617664d189cb218e7929d72d6d7cbc}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a0d617664d189cb218e7929d72d6d7cbc}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!getPositionIK@{getPositionIK}}
\index{getPositionIK@{getPositionIK}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{getPositionIK()}{getPositionIK()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::get\+Position\+IK (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose $>$ \&}]{ik\+\_\+poses,  }\item[{const std\+::vector$<$ double $>$ \&}]{ik\+\_\+seed\+\_\+state,  }\item[{std\+::vector$<$ std\+::vector$<$ double $>$$>$ \&}]{solutions,  }\item[{kinematics\+::\+Kinematics\+Result \&}]{result,  }\item[{const kinematics\+::\+Kinematics\+Query\+Options \&}]{options }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Given a desired pose of the end-\/effector, compute the set joint angles solutions that are able to reach it. 

This is a default implementation that returns only one solution and so its result is equivalent to calling \textquotesingle{}get\+Position\+I\+K(...)\textquotesingle{} with a zero initialized seed.


\begin{DoxyParams}{Parameters}
{\em ik\+\_\+poses} & The desired pose of each tip link \\
\hline
{\em ik\+\_\+seed\+\_\+state} & an initial guess solution for the inverse kinematics \\
\hline
{\em solutions} & A vector of vectors where each entry is a valid joint solution \\
\hline
{\em result} & A struct that reports the results of the query \\
\hline
{\em options} & An option struct which contains the type of redundancy discretization used. This default implementation only supports the Kinmatic\+Searches\+::\+N\+O\+\_\+\+D\+I\+S\+C\+R\+E\+T\+I\+Z\+A\+T\+I\+ON method; requesting any other will result in failure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid set of solutions was found, false otherwise. 
\end{DoxyReturn}


Definition at line 1165 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{1170 \{}
\DoxyCodeLine{1171   ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"getPositionIK with multiple solutions"});}
\DoxyCodeLine{1172 }
\DoxyCodeLine{1173   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6cd6e556315e890a097129395a028f9f}{initialized\_}})}
\DoxyCodeLine{1174   \{}
\DoxyCodeLine{1175     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"kinematics not active"});}
\DoxyCodeLine{1176     \mbox{\hyperlink{namespacesick__camera__client_a9d947cde3882f536db9c9474a53a3677}{result}}.kinematic\_error = kinematics::KinematicErrors::SOLVER\_NOT\_ACTIVE;}
\DoxyCodeLine{1177     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1178   \}}
\DoxyCodeLine{1179 }
\DoxyCodeLine{1180   \textcolor{keywordflow}{if} (ik\_poses.empty())}
\DoxyCodeLine{1181   \{}
\DoxyCodeLine{1182     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"ik\_poses is empty"});}
\DoxyCodeLine{1183     \mbox{\hyperlink{namespacesick__camera__client_a9d947cde3882f536db9c9474a53a3677}{result}}.kinematic\_error = kinematics::KinematicErrors::EMPTY\_TIP\_POSES;}
\DoxyCodeLine{1184     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1185   \}}
\DoxyCodeLine{1186 }
\DoxyCodeLine{1187   \textcolor{keywordflow}{if} (ik\_poses.size() > 1)}
\DoxyCodeLine{1188   \{}
\DoxyCodeLine{1189     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"ik\_poses contains multiple entries, only one is allowed"});}
\DoxyCodeLine{1190     \mbox{\hyperlink{namespacesick__camera__client_a9d947cde3882f536db9c9474a53a3677}{result}}.kinematic\_error = kinematics::KinematicErrors::MULTIPLE\_TIPS\_NOT\_SUPPORTED;}
\DoxyCodeLine{1191     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1192   \}}
\DoxyCodeLine{1193 }
\DoxyCodeLine{1194   \textcolor{keywordflow}{if} (ik\_seed\_state.size() < \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}})}
\DoxyCodeLine{1195   \{}
\DoxyCodeLine{1196     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"ik\_seed\_state only has "} << ik\_seed\_state.size()}
\DoxyCodeLine{1197                                                             << \textcolor{stringliteral}{" entries, this ikfast solver requires "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}});}
\DoxyCodeLine{1198     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1199   \}}
\DoxyCodeLine{1200 }
\DoxyCodeLine{1201   KDL::Frame frame;}
\DoxyCodeLine{1202   \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_aba28897043f901b8a417d95195dbe0f3}{transformToChainFrame}}(ik\_poses[0], frame);}
\DoxyCodeLine{1203 }
\DoxyCodeLine{1204   \textcolor{comment}{// solving ik}}
\DoxyCodeLine{1205   std::vector<IkSolutionList<IkReal>> solution\_set;}
\DoxyCodeLine{1206   \mbox{\hyperlink{classikfast_1_1IkSolutionList}{IkSolutionList<IkReal>}} ik\_solutions;}
\DoxyCodeLine{1207   std::vector<double> vfree;}
\DoxyCodeLine{1208   \textcolor{keywordtype}{int} numsol = 0;}
\DoxyCodeLine{1209   std::vector<double> sampled\_joint\_vals;}
\DoxyCodeLine{1210   \textcolor{keywordflow}{if} (!redundant\_joint\_indices\_.empty())}
\DoxyCodeLine{1211   \{}
\DoxyCodeLine{1212     \textcolor{comment}{// initializing from seed}}
\DoxyCodeLine{1213     sampled\_joint\_vals.push\_back(ik\_seed\_state[redundant\_joint\_indices\_[0]]);}
\DoxyCodeLine{1214 }
\DoxyCodeLine{1215     \textcolor{comment}{// checking joint limits when using no discretization}}
\DoxyCodeLine{1216     \textcolor{keywordflow}{if} (options.discretization\_method == kinematics::DiscretizationMethods::NO\_DISCRETIZATION \&\&}
\DoxyCodeLine{1217         \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[redundant\_joint\_indices\_.front()])}
\DoxyCodeLine{1218     \{}
\DoxyCodeLine{1219       \textcolor{keywordtype}{double} joint\_min = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[redundant\_joint\_indices\_.front()];}
\DoxyCodeLine{1220       \textcolor{keywordtype}{double} joint\_max = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[redundant\_joint\_indices\_.front()];}
\DoxyCodeLine{1221 }
\DoxyCodeLine{1222       \textcolor{keywordtype}{double} jv = sampled\_joint\_vals[0];}
\DoxyCodeLine{1223       \textcolor{keywordflow}{if} (!((jv > (joint\_min -\/ \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}})) \&\& (jv < (joint\_max + \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}}))))}
\DoxyCodeLine{1224       \{}
\DoxyCodeLine{1225         \mbox{\hyperlink{namespacesick__camera__client_a9d947cde3882f536db9c9474a53a3677}{result}}.kinematic\_error = kinematics::KinematicErrors::IK\_SEED\_OUTSIDE\_LIMITS;}
\DoxyCodeLine{1226         ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"ik seed is out of bounds"});}
\DoxyCodeLine{1227         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1228       \}}
\DoxyCodeLine{1229     \}}
\DoxyCodeLine{1230 }
\DoxyCodeLine{1231     \textcolor{comment}{// computing all solutions sets for each sampled value of the redundant joint}}
\DoxyCodeLine{1232     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a630dd8b86f08d2672ad7a43a995e80e6}{sampleRedundantJoint}}(options.discretization\_method, sampled\_joint\_vals))}
\DoxyCodeLine{1233     \{}
\DoxyCodeLine{1234       \mbox{\hyperlink{namespacesick__camera__client_a9d947cde3882f536db9c9474a53a3677}{result}}.kinematic\_error = kinematics::KinematicErrors::UNSUPORTED\_DISCRETIZATION\_REQUESTED;}
\DoxyCodeLine{1235       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1236     \}}
\DoxyCodeLine{1237 }
\DoxyCodeLine{1238     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < sampled\_joint\_vals.size(); i++)}
\DoxyCodeLine{1239     \{}
\DoxyCodeLine{1240       vfree.clear();}
\DoxyCodeLine{1241       vfree.push\_back(sampled\_joint\_vals[i]);}
\DoxyCodeLine{1242       numsol += \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64}{solve}}(frame, vfree, ik\_solutions);}
\DoxyCodeLine{1243       solution\_set.push\_back(ik\_solutions);}
\DoxyCodeLine{1244     \}}
\DoxyCodeLine{1245   \}}
\DoxyCodeLine{1246   \textcolor{keywordflow}{else}}
\DoxyCodeLine{1247   \{}
\DoxyCodeLine{1248     \textcolor{comment}{// computing for single solution set}}
\DoxyCodeLine{1249     numsol = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64}{solve}}(frame, vfree, ik\_solutions);}
\DoxyCodeLine{1250     solution\_set.push\_back(ik\_solutions);}
\DoxyCodeLine{1251   \}}
\DoxyCodeLine{1252 }
\DoxyCodeLine{1253   ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Found "} << numsol << \textcolor{stringliteral}{" solutions from IKFast"});}
\DoxyCodeLine{1254   \textcolor{keywordtype}{bool} solutions\_found = \textcolor{keyword}{false};}
\DoxyCodeLine{1255   \textcolor{keywordflow}{if} (numsol > 0)}
\DoxyCodeLine{1256   \{}
\DoxyCodeLine{1257     \textcolor{comment}{/*}}
\DoxyCodeLine{1258 \textcolor{comment}{      Iterating through all solution sets and storing those that do not exceed joint limits.}}
\DoxyCodeLine{1259 \textcolor{comment}{    */}}
\DoxyCodeLine{1260     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}} = 0; \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}} < solution\_set.size(); \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}++)}
\DoxyCodeLine{1261     \{}
\DoxyCodeLine{1262       ik\_solutions = solution\_set[\mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}}];}
\DoxyCodeLine{1263       numsol = ik\_solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_ac9679184adc4a704c4c6497eef3cb597}{GetNumSolutions}}();}
\DoxyCodeLine{1264       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}} = 0; \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}} < numsol; ++\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}})}
\DoxyCodeLine{1265       \{}
\DoxyCodeLine{1266         std::vector<double> sol;}
\DoxyCodeLine{1267         \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34}{getSolution}}(ik\_solutions, ik\_seed\_state, \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}, sol);}
\DoxyCodeLine{1268 }
\DoxyCodeLine{1269         \textcolor{keywordtype}{bool} obeys\_limits = \textcolor{keyword}{true};}
\DoxyCodeLine{1270         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < sol.size(); i++)}
\DoxyCodeLine{1271         \{}
\DoxyCodeLine{1272           \textcolor{comment}{// Add tolerance to limit check}}
\DoxyCodeLine{1273           \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[i] \&\& ((sol[i] < (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i] -\/ \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}})) ||}
\DoxyCodeLine{1274                                               (sol[i] > (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i] + \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}}))))}
\DoxyCodeLine{1275           \{}
\DoxyCodeLine{1276             \textcolor{comment}{// One element of solution is not within limits}}
\DoxyCodeLine{1277             obeys\_limits = \textcolor{keyword}{false};}
\DoxyCodeLine{1278             ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Not in limits! "} << i << \textcolor{stringliteral}{" value "} << sol[i] << \textcolor{stringliteral}{" has limit: "}}
\DoxyCodeLine{1279                                                             << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[i] << \textcolor{stringliteral}{"  being  "}}
\DoxyCodeLine{1280                                                             << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i] << \textcolor{stringliteral}{" to "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i]);}
\DoxyCodeLine{1281             \textcolor{keywordflow}{break};}
\DoxyCodeLine{1282           \}}
\DoxyCodeLine{1283         \}}
\DoxyCodeLine{1284         \textcolor{keywordflow}{if} (obeys\_limits)}
\DoxyCodeLine{1285         \{}
\DoxyCodeLine{1286           \textcolor{comment}{// All elements of solution obey limits}}
\DoxyCodeLine{1287           solutions\_found = \textcolor{keyword}{true};}
\DoxyCodeLine{1288           solutions.push\_back(sol);}
\DoxyCodeLine{1289         \}}
\DoxyCodeLine{1290       \}}
\DoxyCodeLine{1291     \}}
\DoxyCodeLine{1292 }
\DoxyCodeLine{1293     \textcolor{keywordflow}{if} (solutions\_found)}
\DoxyCodeLine{1294     \{}
\DoxyCodeLine{1295       \mbox{\hyperlink{namespacesick__camera__client_a9d947cde3882f536db9c9474a53a3677}{result}}.kinematic\_error = kinematics::KinematicErrors::OK;}
\DoxyCodeLine{1296       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1297     \}}
\DoxyCodeLine{1298   \}}
\DoxyCodeLine{1299   \textcolor{keywordflow}{else}}
\DoxyCodeLine{1300   \{}
\DoxyCodeLine{1301     ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"No IK solution"});}
\DoxyCodeLine{1302   \}}
\DoxyCodeLine{1303 }
\DoxyCodeLine{1304   \mbox{\hyperlink{namespacesick__camera__client_a9d947cde3882f536db9c9474a53a3677}{result}}.kinematic\_error = kinematics::KinematicErrors::NO\_SOLUTION;}
\DoxyCodeLine{1305   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1306 \}}

\end{DoxyCode}


References ikfast\+::\+Ik\+Solution\+List$<$ T $>$\+::\+Get\+Num\+Solutions(), L\+I\+M\+I\+T\+\_\+\+T\+O\+L\+E\+R\+A\+N\+CE, fake\+\_\+cube\+\_\+perception\+\_\+node\+::r, sick\+\_\+camera\+\_\+client\+::result, and service\+\_\+node\+\_\+3\+::s.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfetch__arm_1_1IKFastKinematicsPlugin_a0d617664d189cb218e7929d72d6d7cbc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a6d4b4d9ba0a8279807777b7982f43f98}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a6d4b4d9ba0a8279807777b7982f43f98}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!getSolution@{getSolution}}
\index{getSolution@{getSolution}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{getSolution()}{getSolution()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::get\+Solution (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classikfast_1_1IkSolutionList}{Ik\+Solution\+List}}$<$ Ik\+Real $>$ \&}]{solutions,  }\item[{const std\+::vector$<$ double $>$ \&}]{ik\+\_\+seed\+\_\+state,  }\item[{int}]{i,  }\item[{std\+::vector$<$ double $>$ \&}]{solution }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Gets a specific solution from the set with joints rotated 360Â° to be near seed state where possible. 



Definition at line 646 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{649 \{}
\DoxyCodeLine{650   solution.clear();}
\DoxyCodeLine{651   solution.resize(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}});}
\DoxyCodeLine{652 }
\DoxyCodeLine{653   \textcolor{comment}{// IKFast56/61}}
\DoxyCodeLine{654   \textcolor{keyword}{const} \mbox{\hyperlink{classikfast_1_1IkSolutionBase}{IkSolutionBase<IkReal>}}\& sol = solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_a0320618db6b5432cd609e1e2c8c73614}{GetSolution}}(i);}
\DoxyCodeLine{655   std::vector<IkReal> vsolfree(sol.\mbox{\hyperlink{classikfast_1_1IkSolutionBase_a2693ede66be937b7c4c1c949284282ca}{GetFree}}().size());}
\DoxyCodeLine{656   sol.\mbox{\hyperlink{classikfast_1_1IkSolutionBase_a9405530feb49f12f56c3175e7150c66f}{GetSolution}}(\&solution[0], vsolfree.size() > 0 ? \&vsolfree[0] : \textcolor{keyword}{nullptr});}
\DoxyCodeLine{657 }
\DoxyCodeLine{658   \textcolor{comment}{// rotate joints by +/-\/360Â° where it is possible and useful}}
\DoxyCodeLine{659   \textcolor{keywordflow}{for} (std::size\_t i = 0; i < \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}}; ++i)}
\DoxyCodeLine{660   \{}
\DoxyCodeLine{661     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[i])}
\DoxyCodeLine{662     \{}
\DoxyCodeLine{663       solution[i] = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ac321fb5ad126f6ca096ddfcb5b5a074d}{enforceLimits}}(solution[i], \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i], \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i]);}
\DoxyCodeLine{664       \textcolor{keywordtype}{double} signed\_distance = solution[i] -\/ ik\_seed\_state[i];}
\DoxyCodeLine{665       \textcolor{keywordflow}{while} (signed\_distance > M\_PI \&\& solution[i] -\/ 2 * M\_PI > (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i] -\/ \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}}))}
\DoxyCodeLine{666       \{}
\DoxyCodeLine{667         signed\_distance -\/= 2 * M\_PI;}
\DoxyCodeLine{668         solution[i] -\/= 2 * M\_PI;}
\DoxyCodeLine{669       \}}
\DoxyCodeLine{670       \textcolor{keywordflow}{while} (signed\_distance < -\/M\_PI \&\& solution[i] + 2 * M\_PI < (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i] + \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a6db90f19cce82ba375acd26f431403b6}{LIMIT\_TOLERANCE}}))}
\DoxyCodeLine{671       \{}
\DoxyCodeLine{672         signed\_distance += 2 * M\_PI;}
\DoxyCodeLine{673         solution[i] += 2 * M\_PI;}
\DoxyCodeLine{674       \}}
\DoxyCodeLine{675     \}}
\DoxyCodeLine{676   \}}
\DoxyCodeLine{677 \}}

\end{DoxyCode}


References ikfast\+::\+Ik\+Solution\+Base$<$ T $>$\+::\+Get\+Free(), ikfast\+::\+Ik\+Solution\+Base$<$ T $>$\+::\+Get\+Solution(), ikfast\+::\+Ik\+Solution\+List$<$ T $>$\+::\+Get\+Solution(), and L\+I\+M\+I\+T\+\_\+\+T\+O\+L\+E\+R\+A\+N\+CE.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfetch__arm_1_1IKFastKinematicsPlugin_a6d4b4d9ba0a8279807777b7982f43f98_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!getSolution@{getSolution}}
\index{getSolution@{getSolution}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{getSolution()}{getSolution()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::get\+Solution (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classikfast_1_1IkSolutionList}{Ik\+Solution\+List}}$<$ Ik\+Real $>$ \&}]{solutions,  }\item[{int}]{i,  }\item[{std\+::vector$<$ double $>$ \&}]{solution }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Gets a specific solution from the set. 



Definition at line 626 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{628 \{}
\DoxyCodeLine{629   solution.clear();}
\DoxyCodeLine{630   solution.resize(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}});}
\DoxyCodeLine{631 }
\DoxyCodeLine{632   \textcolor{comment}{// IKFast56/61}}
\DoxyCodeLine{633   \textcolor{keyword}{const} \mbox{\hyperlink{classikfast_1_1IkSolutionBase}{IkSolutionBase<IkReal>}}\& sol = solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_a0320618db6b5432cd609e1e2c8c73614}{GetSolution}}(i);}
\DoxyCodeLine{634   std::vector<IkReal> vsolfree(sol.\mbox{\hyperlink{classikfast_1_1IkSolutionBase_a2693ede66be937b7c4c1c949284282ca}{GetFree}}().size());}
\DoxyCodeLine{635   sol.\mbox{\hyperlink{classikfast_1_1IkSolutionBase_a9405530feb49f12f56c3175e7150c66f}{GetSolution}}(\&solution[0], vsolfree.size() > 0 ? \&vsolfree[0] : \textcolor{keyword}{nullptr});}
\DoxyCodeLine{636 }
\DoxyCodeLine{637   \textcolor{keywordflow}{for} (std::size\_t joint\_id = 0; joint\_id < \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}}; ++joint\_id)}
\DoxyCodeLine{638   \{}
\DoxyCodeLine{639     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[joint\_id])}
\DoxyCodeLine{640     \{}
\DoxyCodeLine{641       solution[joint\_id] = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ac321fb5ad126f6ca096ddfcb5b5a074d}{enforceLimits}}(solution[joint\_id], \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[joint\_id], \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[joint\_id]);}
\DoxyCodeLine{642     \}}
\DoxyCodeLine{643   \}}
\DoxyCodeLine{644 \}}

\end{DoxyCode}


References ikfast\+::\+Ik\+Solution\+Base$<$ T $>$\+::\+Get\+Free(), ikfast\+::\+Ik\+Solution\+Base$<$ T $>$\+::\+Get\+Solution(), and ikfast\+::\+Ik\+Solution\+List$<$ T $>$\+::\+Get\+Solution().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a79242ec31353f6045a71abbed2f7b815}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a79242ec31353f6045a71abbed2f7b815}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!initialize@{initialize}}
\index{initialize@{initialize}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::initialize (\begin{DoxyParamCaption}\item[{const moveit\+::core\+::\+Robot\+Model \&}]{robot\+\_\+model,  }\item[{const std\+::string \&}]{group\+\_\+name,  }\item[{const std\+::string \&}]{base\+\_\+frame,  }\item[{const std\+::vector$<$ std\+::string $>$ \&}]{tip\+\_\+frames,  }\item[{double}]{search\+\_\+discretization }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}}



Definition at line 400 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{403 \{}
\DoxyCodeLine{404   \textcolor{keywordflow}{if} (tip\_frames.size() != 1)}
\DoxyCodeLine{405   \{}
\DoxyCodeLine{406     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Expecting exactly one tip frame."});}
\DoxyCodeLine{407     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{408   \}}
\DoxyCodeLine{409 }
\DoxyCodeLine{410   storeValues(robot\_model, group\_name, base\_frame, tip\_frames, search\_discretization);}
\DoxyCodeLine{411 }
\DoxyCodeLine{412   \textcolor{comment}{// This IKFast solution was generated with IKFAST\_TIP\_FRAME\_ and IKFAST\_BASE\_FRAME\_.}}
\DoxyCodeLine{413   \textcolor{comment}{// It is often the case that fixed joints are added to these links to model things like}}
\DoxyCodeLine{414   \textcolor{comment}{// a robot mounted on a table or a robot with an end effector attached to the last link.}}
\DoxyCodeLine{415   \textcolor{comment}{// To support these use cases, we store the transform from the IKFAST\_BASE\_FRAME\_ to the}}
\DoxyCodeLine{416   \textcolor{comment}{// base\_frame\_ and IKFAST\_TIP\_FRAME\_ the tip\_frame\_ and transform to the input pose accordingly}}
\DoxyCodeLine{417   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a20d8e8799dcc040f8ed7ebbab2cd68f7}{computeRelativeTransform}}(tip\_frames\_[0], \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a61fcdeb99f856099c8d29cf377de089c}{IKFAST\_TIP\_FRAME\_}}, \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abbe06d61680f9512965875ed92239e33}{group\_tip\_to\_chain\_tip\_}}, \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a210a1c46609eb68c3781e027e0df7253}{tip\_transform\_required\_}}) ||}
\DoxyCodeLine{418       !\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a20d8e8799dcc040f8ed7ebbab2cd68f7}{computeRelativeTransform}}(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a23e78d49922170df649d5492cd67d1a1}{IKFAST\_BASE\_FRAME\_}}, base\_frame\_, \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a62e117a3013e82c9826810eec6d39d9b}{chain\_base\_to\_group\_base\_}}, \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a965e0db42d5326012a591c0d277f9bd7}{base\_transform\_required\_}}))}
\DoxyCodeLine{419     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{420 }
\DoxyCodeLine{421   \textcolor{comment}{// IKFast56/61}}
\DoxyCodeLine{422   \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a373a476a057b47a0516d43f9d0f2a575}{fillFreeParams}}(\mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_af0cf03d3ad69d099a9a2eb6db5e5b352}{GetNumFreeParameters}}(), \mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_a17f253d85cd4ac00e8840c417eef2487}{GetFreeParameters}}());}
\DoxyCodeLine{423 }
\DoxyCodeLine{424   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}.size() > 1)}
\DoxyCodeLine{425   \{}
\DoxyCodeLine{426     ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Only one free joint parameter supported!"});}
\DoxyCodeLine{427     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{428   \}}
\DoxyCodeLine{429   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}.size() == 1)}
\DoxyCodeLine{430   \{}
\DoxyCodeLine{431     redundant\_joint\_indices\_.clear();}
\DoxyCodeLine{432     redundant\_joint\_indices\_.push\_back(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]);}
\DoxyCodeLine{433     KinematicsBase::setSearchDiscretization(search\_discretization);}
\DoxyCodeLine{434   \}}
\DoxyCodeLine{435 }
\DoxyCodeLine{436   \textcolor{keyword}{const} moveit::core::JointModelGroup* jmg = robot\_model\_-\/>getJointModelGroup(group\_name);}
\DoxyCodeLine{437   \textcolor{keywordflow}{if} (!jmg)}
\DoxyCodeLine{438   \{}
\DoxyCodeLine{439     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Unknown planning group: "} << group\_name);}
\DoxyCodeLine{440     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{441   \}}
\DoxyCodeLine{442 }
\DoxyCodeLine{443   ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Registering joints and links"});}
\DoxyCodeLine{444   \textcolor{keyword}{const} moveit::core::LinkModel* link = robot\_model\_-\/>getLinkModel(tip\_frames\_[0]);}
\DoxyCodeLine{445   \textcolor{keyword}{const} moveit::core::LinkModel* base\_link = robot\_model\_-\/>getLinkModel(base\_frame\_);}
\DoxyCodeLine{446   \textcolor{keywordflow}{while} (link \&\& link != base\_link)}
\DoxyCodeLine{447   \{}
\DoxyCodeLine{448     ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Link "} << link-\/>getName());}
\DoxyCodeLine{449     \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a4555bbc0e1527d78f89afad21f232e20}{link\_names\_}}.push\_back(link-\/>getName());}
\DoxyCodeLine{450     \textcolor{keyword}{const} moveit::core::JointModel* joint = link-\/>getParentJointModel();}
\DoxyCodeLine{451     \textcolor{keywordflow}{if} (joint-\/>getType() != joint-\/>UNKNOWN \&\& joint-\/>getType() != joint-\/>FIXED \&\& joint-\/>getVariableCount() == 1)}
\DoxyCodeLine{452     \{}
\DoxyCodeLine{453       ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Adding joint "} << joint-\/>getName());}
\DoxyCodeLine{454 }
\DoxyCodeLine{455       \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\_names\_}}.push\_back(joint-\/>getName());}
\DoxyCodeLine{456       \textcolor{keyword}{const} moveit::core::VariableBounds\& bounds = joint-\/>getVariableBounds()[0];}
\DoxyCodeLine{457       \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}.push\_back(bounds.position\_bounded\_);}
\DoxyCodeLine{458       \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}.push\_back(bounds.min\_position\_);}
\DoxyCodeLine{459       \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}.push\_back(bounds.max\_position\_);}
\DoxyCodeLine{460     \}}
\DoxyCodeLine{461     link = link-\/>getParentLinkModel();}
\DoxyCodeLine{462   \}}
\DoxyCodeLine{463 }
\DoxyCodeLine{464   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\_names\_}}.size() != \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}})}
\DoxyCodeLine{465   \{}
\DoxyCodeLine{466     ROS\_FATAL\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Joint numbers of RobotModel (\%zd) and IKFast solver (\%zd) do not match"},}
\DoxyCodeLine{467                     \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\_names\_}}.size(), \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}});}
\DoxyCodeLine{468     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{469   \}}
\DoxyCodeLine{470 }
\DoxyCodeLine{471   std::reverse(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a4555bbc0e1527d78f89afad21f232e20}{link\_names\_}}.begin(), \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a4555bbc0e1527d78f89afad21f232e20}{link\_names\_}}.end());}
\DoxyCodeLine{472   std::reverse(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\_names\_}}.begin(), \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\_names\_}}.end());}
\DoxyCodeLine{473   std::reverse(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}.begin(), \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}.end());}
\DoxyCodeLine{474   std::reverse(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}.begin(), \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}.end());}
\DoxyCodeLine{475   std::reverse(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}.begin(), \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}.end());}
\DoxyCodeLine{476 }
\DoxyCodeLine{477   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} joint\_id = 0; joint\_id < \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}}; ++joint\_id)}
\DoxyCodeLine{478     ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\_names\_}}[joint\_id] << \textcolor{stringliteral}{" "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[joint\_id] << \textcolor{stringliteral}{" "}}
\DoxyCodeLine{479                                                          << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[joint\_id] << \textcolor{stringliteral}{" "}}
\DoxyCodeLine{480                                                          << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[joint\_id]);}
\DoxyCodeLine{481 }
\DoxyCodeLine{482   \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6cd6e556315e890a097129395a028f9f}{initialized\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{483   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{484 \}}

\end{DoxyCode}


References Get\+Free\+Parameters(), and Get\+Num\+Free\+Parameters().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfetch__arm_1_1IKFastKinematicsPlugin_a79242ec31353f6045a71abbed2f7b815_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a630dd8b86f08d2672ad7a43a995e80e6}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a630dd8b86f08d2672ad7a43a995e80e6}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!sampleRedundantJoint@{sampleRedundantJoint}}
\index{sampleRedundantJoint@{sampleRedundantJoint}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{sampleRedundantJoint()}{sampleRedundantJoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::sample\+Redundant\+Joint (\begin{DoxyParamCaption}\item[{kinematics\+::\+Discretization\+Method}]{method,  }\item[{std\+::vector$<$ double $>$ \&}]{sampled\+\_\+joint\+\_\+vals }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



samples the designated redundant joint using the chosen discretization method 


\begin{DoxyParams}{Parameters}
{\em method} & An enumeration flag indicating the discretization method to be used \\
\hline
{\em sampled\+\_\+joint\+\_\+vals} & Sampled joint values for the redundant joint \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if sampling succeeded. 
\end{DoxyReturn}


Definition at line 1308 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{1310 \{}
\DoxyCodeLine{1311   \textcolor{keywordtype}{int} index = redundant\_joint\_indices\_.front();}
\DoxyCodeLine{1312   \textcolor{keywordtype}{double} joint\_dscrt = redundant\_joint\_discretization\_.at(index);}
\DoxyCodeLine{1313   \textcolor{keywordtype}{double} joint\_min = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[index];}
\DoxyCodeLine{1314   \textcolor{keywordtype}{double} joint\_max = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[index];}
\DoxyCodeLine{1315 }
\DoxyCodeLine{1316   \textcolor{keywordflow}{switch} (method)}
\DoxyCodeLine{1317   \{}
\DoxyCodeLine{1318     \textcolor{keywordflow}{case} kinematics::DiscretizationMethods::ALL\_DISCRETIZED:}
\DoxyCodeLine{1319     \{}
\DoxyCodeLine{1320       \textcolor{keywordtype}{size\_t} steps = std::ceil((joint\_max -\/ joint\_min) / joint\_dscrt);}
\DoxyCodeLine{1321       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < steps; i++)}
\DoxyCodeLine{1322       \{}
\DoxyCodeLine{1323         sampled\_joint\_vals.push\_back(joint\_min + joint\_dscrt * i);}
\DoxyCodeLine{1324       \}}
\DoxyCodeLine{1325       sampled\_joint\_vals.push\_back(joint\_max);}
\DoxyCodeLine{1326     \}}
\DoxyCodeLine{1327     \textcolor{keywordflow}{break};}
\DoxyCodeLine{1328     \textcolor{keywordflow}{case} kinematics::DiscretizationMethods::ALL\_RANDOM\_SAMPLED:}
\DoxyCodeLine{1329     \{}
\DoxyCodeLine{1330       \textcolor{keywordtype}{int} steps = std::ceil((joint\_max -\/ joint\_min) / joint\_dscrt);}
\DoxyCodeLine{1331       steps = steps > 0 ? steps : 1;}
\DoxyCodeLine{1332       \textcolor{keywordtype}{double} diff = joint\_max -\/ joint\_min;}
\DoxyCodeLine{1333       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < steps; i++)}
\DoxyCodeLine{1334       \{}
\DoxyCodeLine{1335         sampled\_joint\_vals.push\_back(((diff * std::rand()) / (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(RAND\_MAX))) + joint\_min);}
\DoxyCodeLine{1336       \}}
\DoxyCodeLine{1337     \}}
\DoxyCodeLine{1338 }
\DoxyCodeLine{1339     \textcolor{keywordflow}{break};}
\DoxyCodeLine{1340     \textcolor{keywordflow}{case} kinematics::DiscretizationMethods::NO\_DISCRETIZATION:}
\DoxyCodeLine{1341 }
\DoxyCodeLine{1342       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1343     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{1344       ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Discretization method "} << method << \textcolor{stringliteral}{" is not supported"});}
\DoxyCodeLine{1345       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1346   \}}
\DoxyCodeLine{1347 }
\DoxyCodeLine{1348   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1349 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a78674f0c81f66ec38471fab8f75c1d72}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a78674f0c81f66ec38471fab8f75c1d72}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!searchPositionIK@{searchPositionIK}}
\index{searchPositionIK@{searchPositionIK}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{searchPositionIK()}{searchPositionIK()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::search\+Position\+IK (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{ik\+\_\+pose,  }\item[{const std\+::vector$<$ double $>$ \&}]{ik\+\_\+seed\+\_\+state,  }\item[{double}]{timeout,  }\item[{const std\+::vector$<$ double $>$ \&}]{consistency\+\_\+limits,  }\item[{std\+::vector$<$ double $>$ \&}]{solution,  }\item[{const I\+K\+Callback\+Fn \&}]{solution\+\_\+callback,  }\item[{moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&}]{error\+\_\+code,  }\item[{const kinematics\+::\+Kinematics\+Query\+Options \&}]{options = {\ttfamily kinematics\+:\+:KinematicsQueryOptions()} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Given a desired pose of the end-\/effector, search for the joint angles required to reach it. This particular method is intended for \char`\"{}searching\char`\"{} for a solutions by stepping through the redundancy (or other numerical routines). The consistency\+\_\+limit specifies that only certain redundancy positions around those specified in the seed state are admissible and need to be searched. 


\begin{DoxyParams}{Parameters}
{\em ik\+\_\+pose} & the desired pose of the link \\
\hline
{\em ik\+\_\+seed\+\_\+state} & an initial guess solution for the inverse kinematics \\
\hline
{\em consistency\+\_\+limit} & the distance that the redundancy can be from the current position \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid solution was found, false otherwise 
\end{DoxyReturn}


Definition at line 825 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{831 \{}
\DoxyCodeLine{832   \textcolor{comment}{// "SEARCH\_MODE" is fixed during code generation}}
\DoxyCodeLine{833   \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a7e3e138f11a31c3d463b94d39ee5f43d}{SEARCH\_MODE}} search\_mode = \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90}{OPTIMIZE\_MAX\_JOINT}};}
\DoxyCodeLine{834 }
\DoxyCodeLine{835   \textcolor{comment}{// Check if there are no redundant joints}}
\DoxyCodeLine{836   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}.size() == 0)}
\DoxyCodeLine{837   \{}
\DoxyCodeLine{838     ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"No need to search since no free params/redundant joints"});}
\DoxyCodeLine{839 }
\DoxyCodeLine{840     std::vector<geometry\_msgs::Pose> ik\_poses(1, ik\_pose);}
\DoxyCodeLine{841     std::vector<std::vector<double>> solutions;}
\DoxyCodeLine{842     kinematics::KinematicsResult kinematic\_result;}
\DoxyCodeLine{843     \textcolor{comment}{// Find all IK solutions within joint limits}}
\DoxyCodeLine{844     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a40214ff942d1506207d812b75154a0f3}{getPositionIK}}(ik\_poses, ik\_seed\_state, solutions, kinematic\_result, options))}
\DoxyCodeLine{845     \{}
\DoxyCodeLine{846       ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"No solution whatsoever"});}
\DoxyCodeLine{847       error\_code.val = moveit\_msgs::MoveItErrorCodes::NO\_IK\_SOLUTION;}
\DoxyCodeLine{848       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{849     \}}
\DoxyCodeLine{850 }
\DoxyCodeLine{851     \textcolor{comment}{// sort solutions by their distance to the seed}}
\DoxyCodeLine{852     std::vector<LimitObeyingSol> solutions\_obey\_limits;}
\DoxyCodeLine{853     \textcolor{keywordflow}{for} (std::size\_t i = 0; i < solutions.size(); ++i)}
\DoxyCodeLine{854     \{}
\DoxyCodeLine{855       \textcolor{keywordtype}{double} dist\_from\_seed = 0.0;}
\DoxyCodeLine{856       \textcolor{keywordflow}{for} (std::size\_t j = 0; j < ik\_seed\_state.size(); ++j)}
\DoxyCodeLine{857       \{}
\DoxyCodeLine{858         dist\_from\_seed += fabs(ik\_seed\_state[j] -\/ solutions[i][j]);}
\DoxyCodeLine{859       \}}
\DoxyCodeLine{860 }
\DoxyCodeLine{861       solutions\_obey\_limits.push\_back(\{ solutions[i], dist\_from\_seed \});}
\DoxyCodeLine{862     \}}
\DoxyCodeLine{863     std::sort(solutions\_obey\_limits.begin(), solutions\_obey\_limits.end());}
\DoxyCodeLine{864 }
\DoxyCodeLine{865     \textcolor{comment}{// check for collisions if a callback is provided}}
\DoxyCodeLine{866     \textcolor{keywordflow}{if} (!solution\_callback.empty())}
\DoxyCodeLine{867     \{}
\DoxyCodeLine{868       \textcolor{keywordflow}{for} (std::size\_t i = 0; i < solutions\_obey\_limits.size(); ++i)}
\DoxyCodeLine{869       \{}
\DoxyCodeLine{870         solution\_callback(ik\_pose, solutions\_obey\_limits[i].value, error\_code);}
\DoxyCodeLine{871         \textcolor{keywordflow}{if} (error\_code.val == moveit\_msgs::MoveItErrorCodes::SUCCESS)}
\DoxyCodeLine{872         \{}
\DoxyCodeLine{873           solution = solutions\_obey\_limits[i].value;}
\DoxyCodeLine{874           ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Solution passes callback"});}
\DoxyCodeLine{875           \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{876         \}}
\DoxyCodeLine{877       \}}
\DoxyCodeLine{878 }
\DoxyCodeLine{879       ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Solution has error code "} << error\_code);}
\DoxyCodeLine{880       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{881     \}}
\DoxyCodeLine{882     \textcolor{keywordflow}{else}}
\DoxyCodeLine{883     \{}
\DoxyCodeLine{884       solution = solutions\_obey\_limits[0].value;}
\DoxyCodeLine{885       error\_code.val = moveit\_msgs::MoveItErrorCodes::SUCCESS;}
\DoxyCodeLine{886       \textcolor{keywordflow}{return} \textcolor{keyword}{true};  \textcolor{comment}{// no collision check callback provided}}
\DoxyCodeLine{887     \}}
\DoxyCodeLine{888   \}}
\DoxyCodeLine{889 }
\DoxyCodeLine{890   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{891   \textcolor{comment}{// Error Checking}}
\DoxyCodeLine{892   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6cd6e556315e890a097129395a028f9f}{initialized\_}})}
\DoxyCodeLine{893   \{}
\DoxyCodeLine{894     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Kinematics not active"});}
\DoxyCodeLine{895     error\_code.val = error\_code.NO\_IK\_SOLUTION;}
\DoxyCodeLine{896     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{897   \}}
\DoxyCodeLine{898 }
\DoxyCodeLine{899   \textcolor{keywordflow}{if} (ik\_seed\_state.size() != \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}})}
\DoxyCodeLine{900   \{}
\DoxyCodeLine{901     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Seed state must have size "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}} << \textcolor{stringliteral}{" instead of size "}}
\DoxyCodeLine{902                                                                << ik\_seed\_state.size());}
\DoxyCodeLine{903     error\_code.val = error\_code.NO\_IK\_SOLUTION;}
\DoxyCodeLine{904     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{905   \}}
\DoxyCodeLine{906 }
\DoxyCodeLine{907   \textcolor{keywordflow}{if} (!consistency\_limits.empty() \&\& consistency\_limits.size() != \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}})}
\DoxyCodeLine{908   \{}
\DoxyCodeLine{909     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Consistency limits be empty or must have size "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}{num\_joints\_}} << \textcolor{stringliteral}{" instead of size "}}
\DoxyCodeLine{910                                                                                    << consistency\_limits.size());}
\DoxyCodeLine{911     error\_code.val = error\_code.NO\_IK\_SOLUTION;}
\DoxyCodeLine{912     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{913   \}}
\DoxyCodeLine{914 }
\DoxyCodeLine{915   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{916   \textcolor{comment}{// Initialize}}
\DoxyCodeLine{917 }
\DoxyCodeLine{918   KDL::Frame frame;}
\DoxyCodeLine{919   \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_aba28897043f901b8a417d95195dbe0f3}{transformToChainFrame}}(ik\_pose, frame);}
\DoxyCodeLine{920 }
\DoxyCodeLine{921   std::vector<double> vfree(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}.size());}
\DoxyCodeLine{922 }
\DoxyCodeLine{923   \textcolor{keywordtype}{int} counter = 0;}
\DoxyCodeLine{924 }
\DoxyCodeLine{925   \textcolor{keywordtype}{double} initial\_guess = ik\_seed\_state[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]];}
\DoxyCodeLine{926   vfree[0] = initial\_guess;}
\DoxyCodeLine{927 }
\DoxyCodeLine{928   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{929   \textcolor{comment}{// Handle consitency limits if needed}}
\DoxyCodeLine{930   \textcolor{keywordtype}{int} num\_positive\_increments;}
\DoxyCodeLine{931   \textcolor{keywordtype}{int} num\_negative\_increments;}
\DoxyCodeLine{932   \textcolor{keywordtype}{double} search\_discretization = redundant\_joint\_discretization\_.at(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]);}
\DoxyCodeLine{933 }
\DoxyCodeLine{934   \textcolor{keywordflow}{if} (!consistency\_limits.empty())}
\DoxyCodeLine{935   \{}
\DoxyCodeLine{936     \textcolor{comment}{// MoveIt! replaced consistency\_limit (scalar) w/ consistency\_limits (vector)}}
\DoxyCodeLine{937     \textcolor{comment}{// Assume [0]th free\_params element for now.  Probably wrong.}}
\DoxyCodeLine{938     \textcolor{keywordtype}{double} max\_limit = fmin(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]], initial\_guess + consistency\_limits[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]]);}
\DoxyCodeLine{939     \textcolor{keywordtype}{double} min\_limit = fmax(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]], initial\_guess -\/ consistency\_limits[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]]);}
\DoxyCodeLine{940 }
\DoxyCodeLine{941     num\_positive\_increments = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((max\_limit -\/ initial\_guess) / search\_discretization);}
\DoxyCodeLine{942     num\_negative\_increments = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}((initial\_guess -\/ min\_limit) / search\_discretization);}
\DoxyCodeLine{943   \}}
\DoxyCodeLine{944   \textcolor{keywordflow}{else}  \textcolor{comment}{// no consistency limits provided}}
\DoxyCodeLine{945   \{}
\DoxyCodeLine{946     num\_positive\_increments = (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]] -\/ initial\_guess) / search\_discretization;}
\DoxyCodeLine{947     num\_negative\_increments = (initial\_guess -\/ \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]]) / search\_discretization;}
\DoxyCodeLine{948   \}}
\DoxyCodeLine{949 }
\DoxyCodeLine{950   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{951   \textcolor{comment}{// Begin searching}}
\DoxyCodeLine{952 }
\DoxyCodeLine{953   ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Free param is "} << \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0] << \textcolor{stringliteral}{" initial guess is "} << initial\_guess}
\DoxyCodeLine{954                                                  << \textcolor{stringliteral}{", \# positive increments: "} << num\_positive\_increments}
\DoxyCodeLine{955                                                  << \textcolor{stringliteral}{", \# negative increments: "} << num\_negative\_increments);}
\DoxyCodeLine{956   \textcolor{keywordflow}{if} ((search\_mode \& \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90}{OPTIMIZE\_MAX\_JOINT}}) \&\& (num\_positive\_increments + num\_negative\_increments) > 1000)}
\DoxyCodeLine{957     ROS\_WARN\_STREAM\_ONCE\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Large search space, consider increasing the search discretization"});}
\DoxyCodeLine{958 }
\DoxyCodeLine{959   \textcolor{keywordtype}{double} best\_costs = -\/1.0;}
\DoxyCodeLine{960   std::vector<double> best\_solution;}
\DoxyCodeLine{961   \textcolor{keywordtype}{int} nattempts = 0, nvalid = 0;}
\DoxyCodeLine{962 }
\DoxyCodeLine{963   \textcolor{keywordflow}{while} (\textcolor{keyword}{true})}
\DoxyCodeLine{964   \{}
\DoxyCodeLine{965     \mbox{\hyperlink{classikfast_1_1IkSolutionList}{IkSolutionList<IkReal>}} solutions;}
\DoxyCodeLine{966     \textcolor{keywordtype}{size\_t} numsol = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64}{solve}}(frame, vfree, solutions);}
\DoxyCodeLine{967 }
\DoxyCodeLine{968     ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Found "} << numsol << \textcolor{stringliteral}{" solutions from IKFast"});}
\DoxyCodeLine{969 }
\DoxyCodeLine{970     \textcolor{keywordflow}{if} (numsol > 0)}
\DoxyCodeLine{971     \{}
\DoxyCodeLine{972       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}} = 0; \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}} < numsol; ++\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}})}
\DoxyCodeLine{973       \{}
\DoxyCodeLine{974         nattempts++;}
\DoxyCodeLine{975         std::vector<double> sol;}
\DoxyCodeLine{976         \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34}{getSolution}}(solutions, ik\_seed\_state, \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}, sol);}
\DoxyCodeLine{977 }
\DoxyCodeLine{978         \textcolor{keywordtype}{bool} obeys\_limits = \textcolor{keyword}{true};}
\DoxyCodeLine{979         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < sol.size(); i++)}
\DoxyCodeLine{980         \{}
\DoxyCodeLine{981           \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}{joint\_has\_limits\_vector\_}}[i] \&\& (sol[i] < \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}{joint\_min\_vector\_}}[i] || sol[i] > \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}{joint\_max\_vector\_}}[i]))}
\DoxyCodeLine{982           \{}
\DoxyCodeLine{983             obeys\_limits = \textcolor{keyword}{false};}
\DoxyCodeLine{984             \textcolor{keywordflow}{break};}
\DoxyCodeLine{985           \}}
\DoxyCodeLine{986           \textcolor{comment}{// ROS\_INFO\_STREAM\_NAMED(name\_,"Num " << i << " value " << sol[i] << " has limits " <<}}
\DoxyCodeLine{987           \textcolor{comment}{// joint\_has\_limits\_vector\_[i] << " " << joint\_min\_vector\_[i] << " " << joint\_max\_vector\_[i]);}}
\DoxyCodeLine{988         \}}
\DoxyCodeLine{989         \textcolor{keywordflow}{if} (obeys\_limits)}
\DoxyCodeLine{990         \{}
\DoxyCodeLine{991           \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34}{getSolution}}(solutions, ik\_seed\_state, \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}, solution);}
\DoxyCodeLine{992 }
\DoxyCodeLine{993           \textcolor{comment}{// This solution is within joint limits, now check if in collision (if callback provided)}}
\DoxyCodeLine{994           \textcolor{keywordflow}{if} (!solution\_callback.empty())}
\DoxyCodeLine{995           \{}
\DoxyCodeLine{996             solution\_callback(ik\_pose, solution, error\_code);}
\DoxyCodeLine{997           \}}
\DoxyCodeLine{998           \textcolor{keywordflow}{else}}
\DoxyCodeLine{999           \{}
\DoxyCodeLine{1000             error\_code.val = error\_code.SUCCESS;}
\DoxyCodeLine{1001           \}}
\DoxyCodeLine{1002 }
\DoxyCodeLine{1003           \textcolor{keywordflow}{if} (error\_code.val == error\_code.SUCCESS)}
\DoxyCodeLine{1004           \{}
\DoxyCodeLine{1005             nvalid++;}
\DoxyCodeLine{1006             \textcolor{keywordflow}{if} (search\_mode \& \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90}{OPTIMIZE\_MAX\_JOINT}})}
\DoxyCodeLine{1007             \{}
\DoxyCodeLine{1008               \textcolor{comment}{// Costs for solution: Largest joint motion}}
\DoxyCodeLine{1009               \textcolor{keywordtype}{double} costs = 0.0;}
\DoxyCodeLine{1010               \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < solution.size(); i++)}
\DoxyCodeLine{1011               \{}
\DoxyCodeLine{1012                 \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacesetup_aa2586b6c4dd84a0aaaf49cb1565cee6e}{d}} = fabs(ik\_seed\_state[i] -\/ solution[i]);}
\DoxyCodeLine{1013                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacesetup_aa2586b6c4dd84a0aaaf49cb1565cee6e}{d}} > costs)}
\DoxyCodeLine{1014                   costs = \mbox{\hyperlink{namespacesetup_aa2586b6c4dd84a0aaaf49cb1565cee6e}{d}};}
\DoxyCodeLine{1015               \}}
\DoxyCodeLine{1016               \textcolor{keywordflow}{if} (costs < best\_costs || best\_costs == -\/1.0)}
\DoxyCodeLine{1017               \{}
\DoxyCodeLine{1018                 best\_costs = costs;}
\DoxyCodeLine{1019                 best\_solution = solution;}
\DoxyCodeLine{1020               \}}
\DoxyCodeLine{1021             \}}
\DoxyCodeLine{1022             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1023               \textcolor{comment}{// Return first feasible solution}}
\DoxyCodeLine{1024               \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1025           \}}
\DoxyCodeLine{1026         \}}
\DoxyCodeLine{1027       \}}
\DoxyCodeLine{1028     \}}
\DoxyCodeLine{1029 }
\DoxyCodeLine{1030     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a74ef3a6f3113a0ad268d24cea9350404}{getCount}}(counter, num\_positive\_increments, -\/num\_negative\_increments))}
\DoxyCodeLine{1031     \{}
\DoxyCodeLine{1032       \textcolor{comment}{// Everything searched}}
\DoxyCodeLine{1033       error\_code.val = moveit\_msgs::MoveItErrorCodes::NO\_IK\_SOLUTION;}
\DoxyCodeLine{1034       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1035     \}}
\DoxyCodeLine{1036 }
\DoxyCodeLine{1037     vfree[0] = initial\_guess + search\_discretization * counter;}
\DoxyCodeLine{1038     \textcolor{comment}{// ROS\_DEBUG\_STREAM\_NAMED(name\_,"Attempt " << counter << " with 0th free joint having value " << vfree[0]);}}
\DoxyCodeLine{1039   \}}
\DoxyCodeLine{1040 }
\DoxyCodeLine{1041   ROS\_DEBUG\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Valid solutions: "} << nvalid << \textcolor{stringliteral}{"/"} << nattempts);}
\DoxyCodeLine{1042 }
\DoxyCodeLine{1043   \textcolor{keywordflow}{if} ((search\_mode \& \mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp_a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90}{OPTIMIZE\_MAX\_JOINT}}) \&\& best\_costs != -\/1.0)}
\DoxyCodeLine{1044   \{}
\DoxyCodeLine{1045     solution = best\_solution;}
\DoxyCodeLine{1046     error\_code.val = error\_code.SUCCESS;}
\DoxyCodeLine{1047     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1048   \}}
\DoxyCodeLine{1049 }
\DoxyCodeLine{1050   \textcolor{comment}{// No solution found}}
\DoxyCodeLine{1051   error\_code.val = moveit\_msgs::MoveItErrorCodes::NO\_IK\_SOLUTION;}
\DoxyCodeLine{1052   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1053 \}}

\end{DoxyCode}


References setup\+::d, O\+P\+T\+I\+M\+I\+Z\+E\+\_\+\+M\+A\+X\+\_\+\+J\+O\+I\+NT, and service\+\_\+node\+\_\+3\+::s.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_ac037ee5d3c5309b075f89bd8da9cbd02}\label{classfetch__arm_1_1IKFastKinematicsPlugin_ac037ee5d3c5309b075f89bd8da9cbd02}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!searchPositionIK@{searchPositionIK}}
\index{searchPositionIK@{searchPositionIK}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{searchPositionIK()}{searchPositionIK()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::search\+Position\+IK (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{ik\+\_\+pose,  }\item[{const std\+::vector$<$ double $>$ \&}]{ik\+\_\+seed\+\_\+state,  }\item[{double}]{timeout,  }\item[{const std\+::vector$<$ double $>$ \&}]{consistency\+\_\+limits,  }\item[{std\+::vector$<$ double $>$ \&}]{solution,  }\item[{moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&}]{error\+\_\+code,  }\item[{const kinematics\+::\+Kinematics\+Query\+Options \&}]{options = {\ttfamily kinematics\+:\+:KinematicsQueryOptions()} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Given a desired pose of the end-\/effector, search for the joint angles required to reach it. This particular method is intended for \char`\"{}searching\char`\"{} for a solutions by stepping through the redundancy (or other numerical routines). 


\begin{DoxyParams}{Parameters}
{\em ik\+\_\+pose} & the desired pose of the link \\
\hline
{\em ik\+\_\+seed\+\_\+state} & an initial guess solution for the inverse kinematics \\
\hline
{\em the} & distance that the redundancy can be from the current position \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid solution was found, false otherwise 
\end{DoxyReturn}


Definition at line 804 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{809 \{}
\DoxyCodeLine{810   \textcolor{keywordflow}{return} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a7e5949cda80a64ebfdc9b1acd40e7c91}{searchPositionIK}}(ik\_pose, ik\_seed\_state, timeout, consistency\_limits, solution, IKCallbackFn(), error\_code,}
\DoxyCodeLine{811                           options);}
\DoxyCodeLine{812 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_ad0549e44e00ed41c0432e33bc9b9b1c8}\label{classfetch__arm_1_1IKFastKinematicsPlugin_ad0549e44e00ed41c0432e33bc9b9b1c8}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!searchPositionIK@{searchPositionIK}}
\index{searchPositionIK@{searchPositionIK}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{searchPositionIK()}{searchPositionIK()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::search\+Position\+IK (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{ik\+\_\+pose,  }\item[{const std\+::vector$<$ double $>$ \&}]{ik\+\_\+seed\+\_\+state,  }\item[{double}]{timeout,  }\item[{std\+::vector$<$ double $>$ \&}]{solution,  }\item[{const I\+K\+Callback\+Fn \&}]{solution\+\_\+callback,  }\item[{moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&}]{error\+\_\+code,  }\item[{const kinematics\+::\+Kinematics\+Query\+Options \&}]{options = {\ttfamily kinematics\+:\+:KinematicsQueryOptions()} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Given a desired pose of the end-\/effector, search for the joint angles required to reach it. This particular method is intended for \char`\"{}searching\char`\"{} for a solutions by stepping through the redundancy (or other numerical routines). 


\begin{DoxyParams}{Parameters}
{\em ik\+\_\+pose} & the desired pose of the link \\
\hline
{\em ik\+\_\+seed\+\_\+state} & an initial guess solution for the inverse kinematics \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid solution was found, false otherwise 
\end{DoxyReturn}


Definition at line 814 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{819 \{}
\DoxyCodeLine{820   std::vector<double> consistency\_limits;}
\DoxyCodeLine{821   \textcolor{keywordflow}{return} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a7e5949cda80a64ebfdc9b1acd40e7c91}{searchPositionIK}}(ik\_pose, ik\_seed\_state, timeout, consistency\_limits, solution, solution\_callback, error\_code,}
\DoxyCodeLine{822                           options);}
\DoxyCodeLine{823 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a7e5949cda80a64ebfdc9b1acd40e7c91}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a7e5949cda80a64ebfdc9b1acd40e7c91}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!searchPositionIK@{searchPositionIK}}
\index{searchPositionIK@{searchPositionIK}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{searchPositionIK()}{searchPositionIK()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::search\+Position\+IK (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{ik\+\_\+pose,  }\item[{const std\+::vector$<$ double $>$ \&}]{ik\+\_\+seed\+\_\+state,  }\item[{double}]{timeout,  }\item[{std\+::vector$<$ double $>$ \&}]{solution,  }\item[{moveit\+\_\+msgs\+::\+Move\+It\+Error\+Codes \&}]{error\+\_\+code,  }\item[{const kinematics\+::\+Kinematics\+Query\+Options \&}]{options = {\ttfamily kinematics\+:\+:KinematicsQueryOptions()} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Given a desired pose of the end-\/effector, search for the joint angles required to reach it. This particular method is intended for \char`\"{}searching\char`\"{} for a solutions by stepping through the redundancy (or other numerical routines). 


\begin{DoxyParams}{Parameters}
{\em ik\+\_\+pose} & the desired pose of the link \\
\hline
{\em ik\+\_\+seed\+\_\+state} & an initial guess solution for the inverse kinematics \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid solution was found, false otherwise 
\end{DoxyReturn}


Definition at line 794 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{798 \{}
\DoxyCodeLine{799   std::vector<double> consistency\_limits;}
\DoxyCodeLine{800   \textcolor{keywordflow}{return} \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a7e5949cda80a64ebfdc9b1acd40e7c91}{searchPositionIK}}(ik\_pose, ik\_seed\_state, timeout, consistency\_limits, solution, IKCallbackFn(), error\_code,}
\DoxyCodeLine{801                           options);}
\DoxyCodeLine{802 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a2bddbf1819e0520e27f20f752ce2d391}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a2bddbf1819e0520e27f20f752ce2d391}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!setRedundantJoints@{setRedundantJoints}}
\index{setRedundantJoints@{setRedundantJoints}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{setRedundantJoints()}{setRedundantJoints()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::set\+Redundant\+Joints (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ unsigned int $>$ \&}]{redundant\+\_\+joint\+\_\+indices }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Overrides the default method to prevent changing the redundant joints. 



Definition at line 519 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{520 \{}
\DoxyCodeLine{521   ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Changing the redundant joints isn't permitted by this group's solver "});}
\DoxyCodeLine{522   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{523 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a190aa0c0aff22504c8872c289d429504}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a190aa0c0aff22504c8872c289d429504}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!setSearchDiscretization@{setSearchDiscretization}}
\index{setSearchDiscretization@{setSearchDiscretization}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{setSearchDiscretization()}{setSearchDiscretization()}}
{\footnotesize\ttfamily void fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::set\+Search\+Discretization (\begin{DoxyParamCaption}\item[{const std\+::map$<$ unsigned int, double $>$ \&}]{discretization }\end{DoxyParamCaption})}



Sets the discretization value for the redundant joint. 

Since this ikfast implementation allows for one redundant joint then only the first entry will be in the discretization map will be used. Calling this method replaces previous discretization settings.


\begin{DoxyParams}{Parameters}
{\em discretization} & a map of joint indices and discretization value pairs. \\
\hline
\end{DoxyParams}


Definition at line 486 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{487 \{}
\DoxyCodeLine{488   \textcolor{keywordflow}{if} (discretization.empty())}
\DoxyCodeLine{489   \{}
\DoxyCodeLine{490     ROS\_ERROR(\textcolor{stringliteral}{"The 'discretization' map is empty"});}
\DoxyCodeLine{491     \textcolor{keywordflow}{return};}
\DoxyCodeLine{492   \}}
\DoxyCodeLine{493 }
\DoxyCodeLine{494   \textcolor{keywordflow}{if} (redundant\_joint\_indices\_.empty())}
\DoxyCodeLine{495   \{}
\DoxyCodeLine{496     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"This group's solver doesn't support redundant joints"});}
\DoxyCodeLine{497     \textcolor{keywordflow}{return};}
\DoxyCodeLine{498   \}}
\DoxyCodeLine{499 }
\DoxyCodeLine{500   \textcolor{keywordflow}{if} (discretization.begin()-\/>first != redundant\_joint\_indices\_[0])}
\DoxyCodeLine{501   \{}
\DoxyCodeLine{502     std::string redundant\_joint = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}{joint\_names\_}}[\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}{free\_params\_}}[0]];}
\DoxyCodeLine{503     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Attempted to discretize a non-\/redundant joint "}}
\DoxyCodeLine{504                                       << discretization.begin()-\/>first << \textcolor{stringliteral}{", only joint '"} << redundant\_joint}
\DoxyCodeLine{505                                       << \textcolor{stringliteral}{"' with index "} << redundant\_joint\_indices\_[0] << \textcolor{stringliteral}{" is redundant."});}
\DoxyCodeLine{506     \textcolor{keywordflow}{return};}
\DoxyCodeLine{507   \}}
\DoxyCodeLine{508 }
\DoxyCodeLine{509   \textcolor{keywordflow}{if} (discretization.begin()-\/>second <= 0.0)}
\DoxyCodeLine{510   \{}
\DoxyCodeLine{511     ROS\_ERROR\_STREAM\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Discretization can not takes values that are <= 0"});}
\DoxyCodeLine{512     \textcolor{keywordflow}{return};}
\DoxyCodeLine{513   \}}
\DoxyCodeLine{514 }
\DoxyCodeLine{515   redundant\_joint\_discretization\_.clear();}
\DoxyCodeLine{516   redundant\_joint\_discretization\_[redundant\_joint\_indices\_[0]] = discretization.begin()-\/>second;}
\DoxyCodeLine{517 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!solve@{solve}}
\index{solve@{solve}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{solve()}{solve()}}
{\footnotesize\ttfamily size\+\_\+t fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::solve (\begin{DoxyParamCaption}\item[{K\+D\+L\+::\+Frame \&}]{pose\+\_\+frame,  }\item[{const std\+::vector$<$ double $>$ \&}]{vfree,  }\item[{\mbox{\hyperlink{classikfast_1_1IkSolutionList}{Ik\+Solution\+List}}$<$ Ik\+Real $>$ \&}]{solutions }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Calls the IK solver from I\+K\+Fast. 

\begin{DoxyReturn}{Returns}
The number of solutions found 
\end{DoxyReturn}


Definition at line 525 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{527 \{}
\DoxyCodeLine{528   \textcolor{comment}{// IKFast56/61}}
\DoxyCodeLine{529   solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_ae341a33d5aee644cac867e3edd2a9916}{Clear}}();}
\DoxyCodeLine{530 }
\DoxyCodeLine{531   \textcolor{keywordtype}{double} trans[3];}
\DoxyCodeLine{532   trans[0] = pose\_frame.p[0];  \textcolor{comment}{//-\/.18;}}
\DoxyCodeLine{533   trans[1] = pose\_frame.p[1];}
\DoxyCodeLine{534   trans[2] = pose\_frame.p[2];}
\DoxyCodeLine{535 }
\DoxyCodeLine{536   KDL::Rotation mult;}
\DoxyCodeLine{537   KDL::Vector direction;}
\DoxyCodeLine{538 }
\DoxyCodeLine{539   \textcolor{keywordflow}{switch} (\mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_abc401850b948d5a0402e9dbb77d3846f}{GetIkType}}())}
\DoxyCodeLine{540   \{}
\DoxyCodeLine{541     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa4e12b1f799acebbe08a3eb82621bd1fe}{IKP\_Transform6D}}:}
\DoxyCodeLine{542     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fae243b6da2163bd071711a3549bda8262}{IKP\_Translation3D}}:}
\DoxyCodeLine{543       \textcolor{comment}{// For **Transform6D**, eerot is 9 values for the 3x3 rotation matrix. For **Translation3D**, these are ignored.}}
\DoxyCodeLine{544 }
\DoxyCodeLine{545       mult = pose\_frame.M;}
\DoxyCodeLine{546 }
\DoxyCodeLine{547       \textcolor{keywordtype}{double} vals[9];}
\DoxyCodeLine{548       vals[0] = mult(0, 0);}
\DoxyCodeLine{549       vals[1] = mult(0, 1);}
\DoxyCodeLine{550       vals[2] = mult(0, 2);}
\DoxyCodeLine{551       vals[3] = mult(1, 0);}
\DoxyCodeLine{552       vals[4] = mult(1, 1);}
\DoxyCodeLine{553       vals[5] = mult(1, 2);}
\DoxyCodeLine{554       vals[6] = mult(2, 0);}
\DoxyCodeLine{555       vals[7] = mult(2, 1);}
\DoxyCodeLine{556       vals[8] = mult(2, 2);}
\DoxyCodeLine{557 }
\DoxyCodeLine{558       \textcolor{comment}{// IKFast56/61}}
\DoxyCodeLine{559       \mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_ad6e97fc303efda1a956b9a044f8424fc}{ComputeIk}}(trans, vals, vfree.size() > 0 ? \&vfree[0] : \textcolor{keyword}{nullptr}, solutions);}
\DoxyCodeLine{560       \textcolor{keywordflow}{return} solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_ac9679184adc4a704c4c6497eef3cb597}{GetNumSolutions}}();}
\DoxyCodeLine{561 }
\DoxyCodeLine{562     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa9dddd78b22947f7913450811b1acdb3c}{IKP\_Direction3D}}:}
\DoxyCodeLine{563     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa25e50206ae6f0e82918bb919fff57737}{IKP\_Ray4D}}:}
\DoxyCodeLine{564     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa532b636671a51a7410f4c508cfeec70c}{IKP\_TranslationDirection5D}}:}
\DoxyCodeLine{565       \textcolor{comment}{// For **Direction3D**, **Ray4D**, and **TranslationDirection5D**, the first 3 values represent the target}}
\DoxyCodeLine{566       \textcolor{comment}{// direction.}}
\DoxyCodeLine{567 }
\DoxyCodeLine{568       direction = pose\_frame.M * KDL::Vector(0, 0, 1);}
\DoxyCodeLine{569       \mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_ad6e97fc303efda1a956b9a044f8424fc}{ComputeIk}}(trans, direction.data, vfree.size() > 0 ? \&vfree[0] : \textcolor{keyword}{nullptr}, solutions);}
\DoxyCodeLine{570       \textcolor{keywordflow}{return} solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_ac9679184adc4a704c4c6497eef3cb597}{GetNumSolutions}}();}
\DoxyCodeLine{571 }
\DoxyCodeLine{572     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa4e93feabf395600a41ef04382cbd15c1}{IKP\_TranslationXAxisAngle4D}}:}
\DoxyCodeLine{573     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa95d95994a30e36440c0fb446a151d561}{IKP\_TranslationYAxisAngle4D}}:}
\DoxyCodeLine{574     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa1f6aede70047c558e564726173fb7791}{IKP\_TranslationZAxisAngle4D}}:}
\DoxyCodeLine{575       \textcolor{comment}{// For *TranslationXAxisAngle4D*, *TranslationYAxisAngle4D*, *TranslationZAxisAngle4D* -\/ end effector origin}}
\DoxyCodeLine{576       \textcolor{comment}{// reaches desired 3D translation, manipulator direction makes a specific angle with x/y/z-\/axis (defined in the}}
\DoxyCodeLine{577       \textcolor{comment}{// manipulator base linkâs coordinate system)}}
\DoxyCodeLine{578       ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"IK for this IkParameterizationType not implemented yet."});}
\DoxyCodeLine{579       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{580 }
\DoxyCodeLine{581     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa91adbd9166f205ae8553b8d84a95b5c3}{IKP\_TranslationLocalGlobal6D}}:}
\DoxyCodeLine{582       \textcolor{comment}{// For **TranslationLocalGlobal6D**, the diagonal elements ([0],[4],[8]) are the local translation inside the end}}
\DoxyCodeLine{583       \textcolor{comment}{// effector coordinate system.}}
\DoxyCodeLine{584       ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"IK for this IkParameterizationType not implemented yet."});}
\DoxyCodeLine{585       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{586 }
\DoxyCodeLine{587     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa144f544ea8b0da24534612cb970d3cbd}{IKP\_Rotation3D}}:}
\DoxyCodeLine{588     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa2cf8fcbfefd8f2b9651bf09690b6a653}{IKP\_Lookat3D}}:}
\DoxyCodeLine{589     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa7c9375e41de1e71798d90bf462c735fb}{IKP\_TranslationXY2D}}:}
\DoxyCodeLine{590     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa23b8b9eb5aab41ad1c642f7c0471df66}{IKP\_TranslationXYOrientation3D}}:}
\DoxyCodeLine{591       ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"IK for this IkParameterizationType not implemented yet."});}
\DoxyCodeLine{592       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{593 }
\DoxyCodeLine{594     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa661c70799c2026c1600638b5d5f2046d}{IKP\_TranslationXAxisAngleZNorm4D}}:}
\DoxyCodeLine{595       \textcolor{keywordtype}{double} roll, pitch, yaw;}
\DoxyCodeLine{596       \textcolor{comment}{// For **TranslationXAxisAngleZNorm4D** -\/ end effector origin reaches desired 3D translation, manipulator}}
\DoxyCodeLine{597       \textcolor{comment}{// direction needs to be orthogonal to z axis and be rotated at a certain angle starting from the x axis (defined}}
\DoxyCodeLine{598       \textcolor{comment}{// in the manipulator base linkâs coordinate system)}}
\DoxyCodeLine{599       pose\_frame.M.GetRPY(roll, pitch, yaw);}
\DoxyCodeLine{600       \mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_ad6e97fc303efda1a956b9a044f8424fc}{ComputeIk}}(trans, \&yaw, vfree.size() > 0 ? \&vfree[0] : \textcolor{keyword}{nullptr}, solutions);}
\DoxyCodeLine{601       \textcolor{keywordflow}{return} solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_ac9679184adc4a704c4c6497eef3cb597}{GetNumSolutions}}();}
\DoxyCodeLine{602 }
\DoxyCodeLine{603     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fad477746fe38638fd3ee38b44139e33c8}{IKP\_TranslationYAxisAngleXNorm4D}}:}
\DoxyCodeLine{604       \textcolor{comment}{// For **TranslationYAxisAngleXNorm4D** -\/ end effector origin reaches desired 3D translation, manipulator}}
\DoxyCodeLine{605       \textcolor{comment}{// direction needs to be orthogonal to x axis and be rotated at a certain angle starting from the y axis (defined}}
\DoxyCodeLine{606       \textcolor{comment}{// in the manipulator base linkâs coordinate system)}}
\DoxyCodeLine{607       pose\_frame.M.GetRPY(roll, pitch, yaw);}
\DoxyCodeLine{608       \mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_ad6e97fc303efda1a956b9a044f8424fc}{ComputeIk}}(trans, \&roll, vfree.size() > 0 ? \&vfree[0] : \textcolor{keyword}{nullptr}, solutions);}
\DoxyCodeLine{609       \textcolor{keywordflow}{return} solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_ac9679184adc4a704c4c6497eef3cb597}{GetNumSolutions}}();}
\DoxyCodeLine{610 }
\DoxyCodeLine{611     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacefetch__arm_ad13e098da829fa4da30d559d6c8cfe7fa303a2977c91019ef922bc366506ec270}{IKP\_TranslationZAxisAngleYNorm4D}}:}
\DoxyCodeLine{612       \textcolor{comment}{// For **TranslationZAxisAngleYNorm4D** -\/ end effector origin reaches desired 3D translation, manipulator}}
\DoxyCodeLine{613       \textcolor{comment}{// direction needs to be orthogonal to y axis and be rotated at a certain angle starting from the z axis (defined}}
\DoxyCodeLine{614       \textcolor{comment}{// in the manipulator base linkâs coordinate system)}}
\DoxyCodeLine{615       pose\_frame.M.GetRPY(roll, pitch, yaw);}
\DoxyCodeLine{616       \mbox{\hyperlink{fetch__arm__ikfast__solver_8cpp_ad6e97fc303efda1a956b9a044f8424fc}{ComputeIk}}(trans, \&pitch, vfree.size() > 0 ? \&vfree[0] : \textcolor{keyword}{nullptr}, solutions);}
\DoxyCodeLine{617       \textcolor{keywordflow}{return} solutions.\mbox{\hyperlink{classikfast_1_1IkSolutionList_ac9679184adc4a704c4c6497eef3cb597}{GetNumSolutions}}();}
\DoxyCodeLine{618 }
\DoxyCodeLine{619     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{620       ROS\_ERROR\_NAMED(\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}{name\_}}, \textcolor{stringliteral}{"Unknown IkParameterizationType! "}}
\DoxyCodeLine{621                              \textcolor{stringliteral}{"Was the solver generated with an incompatible version of Openrave?"});}
\DoxyCodeLine{622       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{623   \}}
\DoxyCodeLine{624 \}}

\end{DoxyCode}


References ikfast\+::\+Ik\+Solution\+List$<$ T $>$\+::\+Clear(), Compute\+Ik(), Get\+Ik\+Type(), ikfast\+::\+Ik\+Solution\+List$<$ T $>$\+::\+Get\+Num\+Solutions(), fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Direction3D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Lookat3D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Ray4D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Rotation3D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Transform6D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation3D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+Direction5D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+Local\+Global6D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+X\+Axis\+Angle4D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+X\+Axis\+Angle\+Z\+Norm4D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+X\+Y2D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+X\+Y\+Orientation3D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+Y\+Axis\+Angle4D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+Y\+Axis\+Angle\+X\+Norm4D, fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+Z\+Axis\+Angle4D, and fetch\+\_\+arm\+::\+I\+K\+P\+\_\+\+Translation\+Z\+Axis\+Angle\+Y\+Norm4D.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_aba28897043f901b8a417d95195dbe0f3}\label{classfetch__arm_1_1IKFastKinematicsPlugin_aba28897043f901b8a417d95195dbe0f3}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!transformToChainFrame@{transformToChainFrame}}
\index{transformToChainFrame@{transformToChainFrame}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{transformToChainFrame()}{transformToChainFrame()}}
{\footnotesize\ttfamily void fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::transform\+To\+Chain\+Frame (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{ik\+\_\+pose,  }\item[{K\+D\+L\+::\+Frame \&}]{ik\+\_\+pose\+\_\+chain }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Transforms the input pose to the correct frame for the solver. This assumes that the group includes the entire solver chain and that any joints outside of the solver chain within the group are are fixed. 


\begin{DoxyParams}{Parameters}
{\em ik\+\_\+pose} & The pose to be transformed which should be in the correct frame for the group. \\
\hline
{\em ik\+\_\+pose\+\_\+chain} & The ik\+\_\+pose to be populated with the apropriate pose for the solver \\
\hline
\end{DoxyParams}


Definition at line 1351 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{1352 \{}
\DoxyCodeLine{1353   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a210a1c46609eb68c3781e027e0df7253}{tip\_transform\_required\_}} || \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a965e0db42d5326012a591c0d277f9bd7}{base\_transform\_required\_}})}
\DoxyCodeLine{1354   \{}
\DoxyCodeLine{1355     Eigen::Isometry3d ik\_eigen\_pose;}
\DoxyCodeLine{1356     tf2::fromMsg(ik\_pose, ik\_eigen\_pose);}
\DoxyCodeLine{1357     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a210a1c46609eb68c3781e027e0df7253}{tip\_transform\_required\_}})}
\DoxyCodeLine{1358       ik\_eigen\_pose = ik\_eigen\_pose * \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_abbe06d61680f9512965875ed92239e33}{group\_tip\_to\_chain\_tip\_}};}
\DoxyCodeLine{1359 }
\DoxyCodeLine{1360     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a965e0db42d5326012a591c0d277f9bd7}{base\_transform\_required\_}})}
\DoxyCodeLine{1361       ik\_eigen\_pose = \mbox{\hyperlink{classfetch__arm_1_1IKFastKinematicsPlugin_a62e117a3013e82c9826810eec6d39d9b}{chain\_base\_to\_group\_base\_}} * ik\_eigen\_pose;}
\DoxyCodeLine{1362 }
\DoxyCodeLine{1363     tf::transformEigenToKDL(ik\_eigen\_pose, ik\_pose\_chain);}
\DoxyCodeLine{1364   \}}
\DoxyCodeLine{1365   \textcolor{keywordflow}{else}}
\DoxyCodeLine{1366   \{}
\DoxyCodeLine{1367     tf2::fromMsg(ik\_pose, ik\_pose\_chain);}
\DoxyCodeLine{1368   \}}
\DoxyCodeLine{1369 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a965e0db42d5326012a591c0d277f9bd7}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a965e0db42d5326012a591c0d277f9bd7}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!base\_transform\_required\_@{base\_transform\_required\_}}
\index{base\_transform\_required\_@{base\_transform\_required\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{base\_transform\_required\_}{base\_transform\_required\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::base\+\_\+transform\+\_\+required\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 174 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a62e117a3013e82c9826810eec6d39d9b}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a62e117a3013e82c9826810eec6d39d9b}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!chain\_base\_to\_group\_base\_@{chain\_base\_to\_group\_base\_}}
\index{chain\_base\_to\_group\_base\_@{chain\_base\_to\_group\_base\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{chain\_base\_to\_group\_base\_}{chain\_base\_to\_group\_base\_}}
{\footnotesize\ttfamily Eigen\+::\+Isometry3d fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::chain\+\_\+base\+\_\+to\+\_\+group\+\_\+base\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 178 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}\label{classfetch__arm_1_1IKFastKinematicsPlugin_ad6726bca8274d70d5344af4bdf546349}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!free\_params\_@{free\_params\_}}
\index{free\_params\_@{free\_params\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{free\_params\_}{free\_params\_}}
{\footnotesize\ttfamily std\+::vector$<$int$>$ fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::free\+\_\+params\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 162 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_abbe06d61680f9512965875ed92239e33}\label{classfetch__arm_1_1IKFastKinematicsPlugin_abbe06d61680f9512965875ed92239e33}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!group\_tip\_to\_chain\_tip\_@{group\_tip\_to\_chain\_tip\_}}
\index{group\_tip\_to\_chain\_tip\_@{group\_tip\_to\_chain\_tip\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{group\_tip\_to\_chain\_tip\_}{group\_tip\_to\_chain\_tip\_}}
{\footnotesize\ttfamily Eigen\+::\+Isometry3d fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::group\+\_\+tip\+\_\+to\+\_\+chain\+\_\+tip\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 179 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a23e78d49922170df649d5492cd67d1a1}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a23e78d49922170df649d5492cd67d1a1}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!IKFAST\_BASE\_FRAME\_@{IKFAST\_BASE\_FRAME\_}}
\index{IKFAST\_BASE\_FRAME\_@{IKFAST\_BASE\_FRAME\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{IKFAST\_BASE\_FRAME\_}{IKFAST\_BASE\_FRAME\_}}
{\footnotesize\ttfamily const std\+::string fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::\+I\+K\+F\+A\+S\+T\+\_\+\+B\+A\+S\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+ = \char`\"{}torso\+\_\+lift\+\_\+link\char`\"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 167 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a61fcdeb99f856099c8d29cf377de089c}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a61fcdeb99f856099c8d29cf377de089c}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!IKFAST\_TIP\_FRAME\_@{IKFAST\_TIP\_FRAME\_}}
\index{IKFAST\_TIP\_FRAME\_@{IKFAST\_TIP\_FRAME\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{IKFAST\_TIP\_FRAME\_}{IKFAST\_TIP\_FRAME\_}}
{\footnotesize\ttfamily const std\+::string fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::\+I\+K\+F\+A\+S\+T\+\_\+\+T\+I\+P\+\_\+\+F\+R\+A\+M\+E\+\_\+ = \char`\"{}wrist\+\_\+roll\+\_\+link\char`\"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 166 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a6cd6e556315e890a097129395a028f9f}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a6cd6e556315e890a097129395a028f9f}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!initialized\_@{initialized\_}}
\index{initialized\_@{initialized\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{initialized\_}{initialized\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::initialized\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 181 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a6bf879185a4db3fc9e985ff3fe7f1609}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!joint\_has\_limits\_vector\_@{joint\_has\_limits\_vector\_}}
\index{joint\_has\_limits\_vector\_@{joint\_has\_limits\_vector\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{joint\_has\_limits\_vector\_}{joint\_has\_limits\_vector\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classbool}{bool}}$>$ fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::joint\+\_\+has\+\_\+limits\+\_\+vector\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 159 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a9b387ab4d79e8ebbdbccdc756b87e491}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!joint\_max\_vector\_@{joint\_max\_vector\_}}
\index{joint\_max\_vector\_@{joint\_max\_vector\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{joint\_max\_vector\_}{joint\_max\_vector\_}}
{\footnotesize\ttfamily std\+::vector$<$double$>$ fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::joint\+\_\+max\+\_\+vector\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 158 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a38d2ae7321dc674b4f409db28b757c30}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!joint\_min\_vector\_@{joint\_min\_vector\_}}
\index{joint\_min\_vector\_@{joint\_min\_vector\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{joint\_min\_vector\_}{joint\_min\_vector\_}}
{\footnotesize\ttfamily std\+::vector$<$double$>$ fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::joint\+\_\+min\+\_\+vector\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 157 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a3d8f927c6629bcc0bd8244e926fa9cda}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!joint\_names\_@{joint\_names\_}}
\index{joint\_names\_@{joint\_names\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{joint\_names\_}{joint\_names\_}}
{\footnotesize\ttfamily std\+::vector$<$std\+::string$>$ fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::joint\+\_\+names\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 156 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a4555bbc0e1527d78f89afad21f232e20}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a4555bbc0e1527d78f89afad21f232e20}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!link\_names\_@{link\_names\_}}
\index{link\_names\_@{link\_names\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{link\_names\_}{link\_names\_}}
{\footnotesize\ttfamily std\+::vector$<$std\+::string$>$ fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::link\+\_\+names\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 160 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a8d41ea64238340e1a9fa6b9066947907}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!name\_@{name\_}}
\index{name\_@{name\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{name\_}{name\_}}
{\footnotesize\ttfamily const std\+::string fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::name\+\_\+ \{ \char`\"{}ikfast\char`\"{} \}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 182 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}\label{classfetch__arm_1_1IKFastKinematicsPlugin_abfdf0b26c3a440ca8776e7181a6cf7f6}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!num\_joints\_@{num\_joints\_}}
\index{num\_joints\_@{num\_joints\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{num\_joints\_}{num\_joints\_}}
{\footnotesize\ttfamily const size\+\_\+t fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::num\+\_\+joints\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 161 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.

\mbox{\Hypertarget{classfetch__arm_1_1IKFastKinematicsPlugin_a210a1c46609eb68c3781e027e0df7253}\label{classfetch__arm_1_1IKFastKinematicsPlugin_a210a1c46609eb68c3781e027e0df7253}} 
\index{fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}!tip\_transform\_required\_@{tip\_transform\_required\_}}
\index{tip\_transform\_required\_@{tip\_transform\_required\_}!fetch\_arm::IKFastKinematicsPlugin@{fetch\_arm::IKFastKinematicsPlugin}}
\doxysubsubsection{\texorpdfstring{tip\_transform\_required\_}{tip\_transform\_required\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} fetch\+\_\+arm\+::\+I\+K\+Fast\+Kinematics\+Plugin\+::tip\+\_\+transform\+\_\+required\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 173 of file fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
submodules/fetch\+\_\+ros/fetch\+\_\+ikfast\+\_\+plugin/src/\mbox{\hyperlink{fetch__arm__ikfast__moveit__plugin_8cpp}{fetch\+\_\+arm\+\_\+ikfast\+\_\+moveit\+\_\+plugin.\+cpp}}\end{DoxyCompactItemize}
