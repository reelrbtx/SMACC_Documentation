\hypertarget{namespacerobot__controllers}{}\doxysection{robot\+\_\+controllers Namespace Reference}
\label{namespacerobot__controllers}\index{robot\_controllers@{robot\_controllers}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classrobot__controllers_1_1CartesianPoseController}{Cartesian\+Pose\+Controller}}
\item 
class \mbox{\hyperlink{classrobot__controllers_1_1CartesianTwistController}{Cartesian\+Twist\+Controller}}
\item 
class \mbox{\hyperlink{classrobot__controllers_1_1CartesianWrenchController}{Cartesian\+Wrench\+Controller}}
\item 
class \mbox{\hyperlink{classrobot__controllers_1_1Controller}{Controller}}
\begin{DoxyCompactList}\small\item\em Base class for a controller. Is derived from a \mbox{\hyperlink{classrobot__controllers_1_1Handle}{Handle}}, so that controllers can be passed from \mbox{\hyperlink{classrobot__controllers_1_1ControllerManager_a3b8f41c4cead191f21df92d532d3ed06}{Controller\+Manager\+::get\+Handle()}}, thus allowing controllers to access other controllers (to stack their commands. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader}{Controller\+Loader}}
\begin{DoxyCompactList}\small\item\em Class for loading and managing a single controller. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1ControllerManager}{Controller\+Manager}}
\begin{DoxyCompactList}\small\item\em Base class for a controller manager. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1DiffDriveBaseController}{Diff\+Drive\+Base\+Controller}}
\begin{DoxyCompactList}\small\item\em R\+O\+S-\/aware controller to manage a differential drive mobile base. This subcribes to cmd\+\_\+vel topic, publishes odom and tf, and manages the two wheel joints. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1FollowJointTrajectoryController}{Follow\+Joint\+Trajectory\+Controller}}
\begin{DoxyCompactList}\small\item\em This R\+OS interface implements a Follow\+Joint\+Trajectory\+Action interface for controlling (primarily) robot arms. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1GravityCompensation}{Gravity\+Compensation}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classrobot__controllers_1_1Controller}{Controller}} which uses K\+DL to compute torque needed for static holding of the chain at the current pose. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1Handle}{Handle}}
\begin{DoxyCompactList}\small\item\em Base class for a handle. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1JointHandle}{Joint\+Handle}}
\begin{DoxyCompactList}\small\item\em Base class for a joint handle. This will be implemented for each type of robot. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1ParallelGripperController}{Parallel\+Gripper\+Controller}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classrobot__controllers_1_1Controller}{Controller}} for a parallel jaw gripper, is really only intended for use in simulation. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1PID}{P\+ID}}
\item 
class \mbox{\hyperlink{classrobot__controllers_1_1PointHeadController}{Point\+Head\+Controller}}
\item 
class \mbox{\hyperlink{classrobot__controllers_1_1ScaledMimicController}{Scaled\+Mimic\+Controller}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classrobot__controllers_1_1Controller}{Controller}} for a having one joint be a (scaled) mimic of another. Primary design use case is making a fake bellows joint that moves in relation to a torso lift joint. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}}. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1SplineTrajectorySampler}{Spline\+Trajectory\+Sampler}}
\begin{DoxyCompactList}\small\item\em Sampler that uses splines. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}}
\item 
struct \mbox{\hyperlink{structrobot__controllers_1_1TrajectoryPoint}{Trajectory\+Point}}
\begin{DoxyCompactList}\small\item\em Basis for a \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} Point. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classrobot__controllers_1_1TrajectorySampler}{Trajectory\+Sampler}}
\begin{DoxyCompactList}\small\item\em Base class for samplers of trajectories. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classrobot__controllers_1_1DiffDriveBaseController}{Diff\+Drive\+Base\+Controller}} $>$ \mbox{\hyperlink{namespacerobot__controllers_aaf3d3d7f5f055050329406e57e35c299}{Diff\+Drive\+Base\+Controller\+Ptr}}
\item 
typedef boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classrobot__controllers_1_1Controller}{Controller}} $>$ \mbox{\hyperlink{namespacerobot__controllers_a41ab33e8fa0d301a1c281dd8fc0784cb}{Controller\+Ptr}}
\item 
typedef boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader}{Controller\+Loader}} $>$ \mbox{\hyperlink{namespacerobot__controllers_aa31bfc1ce04ba629f72eb59f2d2898e7}{Controller\+Loader\+Ptr}}
\item 
typedef boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classrobot__controllers_1_1Handle}{Handle}} $>$ \mbox{\hyperlink{namespacerobot__controllers_a2117f7dfb9e847d2ff090be0897f2781}{Handle\+Ptr}}
\item 
typedef boost\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classrobot__controllers_1_1JointHandle}{Joint\+Handle}} $>$ \mbox{\hyperlink{namespacerobot__controllers_a9c7cc37a8e0d295ea24c75cbb656ecfa}{Joint\+Handle\+Ptr}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582c}{Spline\+Type}} \{ \mbox{\hyperlink{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582cade9d1a8e62e834b3d4fcf3a8d82e5f15}{Q\+U\+I\+N\+T\+IC}}, 
\mbox{\hyperlink{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582ca43fa2f15f53faf0c179cc4e8cfd86bd9}{C\+U\+B\+IC}}, 
\mbox{\hyperlink{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582ca7afefee645e1224f7a47c25f36564724}{L\+I\+N\+E\+AR}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacerobot__controllers_a8215470f02696cad051c9de8f32f1093}{trajectory\+From\+Msg}} (const trajectory\+\_\+msgs\+::\+Joint\+Trajectory \&message, const std\+::vector$<$ std\+::string $>$ joints, \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} $\ast$trajectory)
\begin{DoxyCompactList}\small\item\em Convert message into \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacerobot__controllers_a228ffe003a8499f637051d407aaaf351}{splice\+Trajectories}} (const \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} \&t1, const \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} \&t2, const double time, \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} $\ast$t)
\begin{DoxyCompactList}\small\item\em Splice two trajectories. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacerobot__controllers_abec497ad1019fea1ca5f46d7dafde6db}{ros\+Print\+Trajectory}} (\mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} \&t)
\begin{DoxyCompactList}\small\item\em Print trajectory to R\+OS I\+N\+FO. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacerobot__controllers_ab4ed5e5990bf69181d259b8a96d72d52}{windup\+Trajectory}} (std\+::vector$<$ \mbox{\hyperlink{classbool}{bool}} $>$ continuous, \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} \&trajectory)
\begin{DoxyCompactList}\small\item\em Windup the trajectory so that continuous joints do not wrap. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{namespacerobot__controllers_ac1a37a4d579dd3f1ea35c9babf598c5d}{unwind\+Trajectory\+Point}} (std\+::vector$<$ \mbox{\hyperlink{classbool}{bool}} $>$ continuous, \mbox{\hyperlink{structrobot__controllers_1_1TrajectoryPoint}{Trajectory\+Point}} \&p)
\item 
static void \mbox{\hyperlink{namespacerobot__controllers_ab439cdf1173c188053ffe5e38f60938a}{generate\+Powers}} (int n, double x, double $\ast$powers)
\begin{DoxyCompactList}\small\item\em Helper function for splines. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{namespacerobot__controllers_a504e7d72c45b5cb79ff93b548e5f2715}{Quintic\+Spline}} (double p0, double v0, double a0, double p1, double v1, double a1, double t, \mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&s)
\begin{DoxyCompactList}\small\item\em Create a quintic spline with between (p0,v0,a0) and (p1,v1,a1) \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{namespacerobot__controllers_ac9ce89d29b5f7c8d4dff4cbdfed84497}{sample\+Quintic\+Spline}} (\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&s, double t, double \&position, double \&velocity, double \&acceleration)
\begin{DoxyCompactList}\small\item\em Sample from the spline at time t. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{namespacerobot__controllers_aa35202fa0074534fb38761102dfa3608}{Cubic\+Spline}} (double p0, double v0, double p1, double v1, double t, \mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&s)
\begin{DoxyCompactList}\small\item\em Constructor for a cubic spline with between (p0,v0) and (p1,v1) \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{namespacerobot__controllers_a528084f11e47d15b558fa2af8160699f}{sample\+Cubic\+Spline}} (\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} s, double t, double \&position, double \&velocity)
\begin{DoxyCompactList}\small\item\em Sample from the spline at time t. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{namespacerobot__controllers_ad316811f37959adca695bc0c94ea6cd6}{Linear\+Spline}} (double p0, double p1, double t, \mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&s)
\item 
static void \mbox{\hyperlink{namespacerobot__controllers_ac7f84b18ed9c7b768ee1802789c973d4}{sample\+Linear\+Spline}} (\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&s, double t, double \&position)
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{namespacerobot__controllers_aa31bfc1ce04ba629f72eb59f2d2898e7}\label{namespacerobot__controllers_aa31bfc1ce04ba629f72eb59f2d2898e7}} 
\index{robot\_controllers@{robot\_controllers}!ControllerLoaderPtr@{ControllerLoaderPtr}}
\index{ControllerLoaderPtr@{ControllerLoaderPtr}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{ControllerLoaderPtr}{ControllerLoaderPtr}}
{\footnotesize\ttfamily typedef boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader}{Controller\+Loader}}$>$ \mbox{\hyperlink{namespacerobot__controllers_aa31bfc1ce04ba629f72eb59f2d2898e7}{robot\+\_\+controllers\+::\+Controller\+Loader\+Ptr}}}



Definition at line 79 of file controller\+\_\+loader.\+h.

\mbox{\Hypertarget{namespacerobot__controllers_a41ab33e8fa0d301a1c281dd8fc0784cb}\label{namespacerobot__controllers_a41ab33e8fa0d301a1c281dd8fc0784cb}} 
\index{robot\_controllers@{robot\_controllers}!ControllerPtr@{ControllerPtr}}
\index{ControllerPtr@{ControllerPtr}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{ControllerPtr}{ControllerPtr}}
{\footnotesize\ttfamily typedef boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classrobot__controllers_1_1Controller}{Controller}}$>$ \mbox{\hyperlink{namespacerobot__controllers_a41ab33e8fa0d301a1c281dd8fc0784cb}{robot\+\_\+controllers\+::\+Controller\+Ptr}}}



Definition at line 151 of file controller.\+h.

\mbox{\Hypertarget{namespacerobot__controllers_aaf3d3d7f5f055050329406e57e35c299}\label{namespacerobot__controllers_aaf3d3d7f5f055050329406e57e35c299}} 
\index{robot\_controllers@{robot\_controllers}!DiffDriveBaseControllerPtr@{DiffDriveBaseControllerPtr}}
\index{DiffDriveBaseControllerPtr@{DiffDriveBaseControllerPtr}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{DiffDriveBaseControllerPtr}{DiffDriveBaseControllerPtr}}
{\footnotesize\ttfamily typedef boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classrobot__controllers_1_1DiffDriveBaseController}{Diff\+Drive\+Base\+Controller}}$>$ \mbox{\hyperlink{namespacerobot__controllers_aaf3d3d7f5f055050329406e57e35c299}{robot\+\_\+controllers\+::\+Diff\+Drive\+Base\+Controller\+Ptr}}}



Definition at line 220 of file diff\+\_\+drive\+\_\+base.\+h.

\mbox{\Hypertarget{namespacerobot__controllers_a2117f7dfb9e847d2ff090be0897f2781}\label{namespacerobot__controllers_a2117f7dfb9e847d2ff090be0897f2781}} 
\index{robot\_controllers@{robot\_controllers}!HandlePtr@{HandlePtr}}
\index{HandlePtr@{HandlePtr}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{HandlePtr}{HandlePtr}}
{\footnotesize\ttfamily typedef boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classrobot__controllers_1_1Handle}{Handle}}$>$ \mbox{\hyperlink{namespacerobot__controllers_a2117f7dfb9e847d2ff090be0897f2781}{robot\+\_\+controllers\+::\+Handle\+Ptr}}}



Definition at line 64 of file handle.\+h.

\mbox{\Hypertarget{namespacerobot__controllers_a9c7cc37a8e0d295ea24c75cbb656ecfa}\label{namespacerobot__controllers_a9c7cc37a8e0d295ea24c75cbb656ecfa}} 
\index{robot\_controllers@{robot\_controllers}!JointHandlePtr@{JointHandlePtr}}
\index{JointHandlePtr@{JointHandlePtr}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{JointHandlePtr}{JointHandlePtr}}
{\footnotesize\ttfamily typedef boost\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classrobot__controllers_1_1JointHandle}{Joint\+Handle}}$>$ \mbox{\hyperlink{namespacerobot__controllers_a9c7cc37a8e0d295ea24c75cbb656ecfa}{robot\+\_\+controllers\+::\+Joint\+Handle\+Ptr}}}



Definition at line 112 of file joint\+\_\+handle.\+h.



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582c}\label{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582c}} 
\index{robot\_controllers@{robot\_controllers}!SplineType@{SplineType}}
\index{SplineType@{SplineType}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{SplineType}{SplineType}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582c}{robot\+\_\+controllers\+::\+Spline\+Type}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{QUINTIC@{QUINTIC}!robot\_controllers@{robot\_controllers}}\index{robot\_controllers@{robot\_controllers}!QUINTIC@{QUINTIC}}}\mbox{\Hypertarget{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582cade9d1a8e62e834b3d4fcf3a8d82e5f15}\label{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582cade9d1a8e62e834b3d4fcf3a8d82e5f15}} 
Q\+U\+I\+N\+T\+IC&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CUBIC@{CUBIC}!robot\_controllers@{robot\_controllers}}\index{robot\_controllers@{robot\_controllers}!CUBIC@{CUBIC}}}\mbox{\Hypertarget{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582ca43fa2f15f53faf0c179cc4e8cfd86bd9}\label{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582ca43fa2f15f53faf0c179cc4e8cfd86bd9}} 
C\+U\+B\+IC&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LINEAR@{LINEAR}!robot\_controllers@{robot\_controllers}}\index{robot\_controllers@{robot\_controllers}!LINEAR@{LINEAR}}}\mbox{\Hypertarget{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582ca7afefee645e1224f7a47c25f36564724}\label{namespacerobot__controllers_ada861a9d7e097a1ced5368b922b9582ca7afefee645e1224f7a47c25f36564724}} 
L\+I\+N\+E\+AR&\\
\hline

\end{DoxyEnumFields}


Definition at line 88 of file trajectory\+\_\+spline\+\_\+sampler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{96   \{}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacerobot__controllers_aa35202fa0074534fb38761102dfa3608}\label{namespacerobot__controllers_aa35202fa0074534fb38761102dfa3608}} 
\index{robot\_controllers@{robot\_controllers}!CubicSpline@{CubicSpline}}
\index{CubicSpline@{CubicSpline}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{CubicSpline()}{CubicSpline()}}
{\footnotesize\ttfamily static void robot\+\_\+controllers\+::\+Cubic\+Spline (\begin{DoxyParamCaption}\item[{double}]{p0,  }\item[{double}]{v0,  }\item[{double}]{p1,  }\item[{double}]{v1,  }\item[{double}]{t,  }\item[{\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Constructor for a cubic spline with between (p0,v0) and (p1,v1) 


\begin{DoxyParams}{Parameters}
{\em p0} & Starting position. \\
\hline
{\em v0} & Starting velocity. \\
\hline
{\em p1} & Ending position. \\
\hline
{\em v1} & Ending velocity. \\
\hline
{\em t} & Time between start and end. \\
\hline
{\em s} & Reference to the spline to create. \\
\hline
\end{DoxyParams}


Definition at line 183 of file trajectory\+\_\+spline\+\_\+sampler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{189 \{}
\DoxyCodeLine{190   \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[0] = p0;}
\DoxyCodeLine{191   \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[1] = p1 -\/ p0;}
\DoxyCodeLine{192   \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[2] = \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}};}
\DoxyCodeLine{193 \}}
\DoxyCodeLine{194 }
\DoxyCodeLine{195 \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacerobot__controllers_ac7f84b18ed9c7b768ee1802789c973d4}{sampleLinearSpline}}(Spline\& \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}, \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}, \textcolor{keywordtype}{double}\& \mbox{\hyperlink{namespaceprepare__simulated__robot_a1ad323a84ba3a09ddf6b3649dacf67d4}{position}})}
\DoxyCodeLine{196 \{}
\DoxyCodeLine{197   \mbox{\hyperlink{namespaceprepare__simulated__robot_a1ad323a84ba3a09ddf6b3649dacf67d4}{position}} = \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[0] + (\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[1] * \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}/\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[2]);}
\DoxyCodeLine{198 \}}
\DoxyCodeLine{199 }

\end{DoxyCode}


Referenced by robot\+\_\+controllers\+::\+Spline\+Trajectory\+Sampler\+::\+Spline\+Trajectory\+Sampler().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacerobot__controllers_aa35202fa0074534fb38761102dfa3608_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacerobot__controllers_ab439cdf1173c188053ffe5e38f60938a}\label{namespacerobot__controllers_ab439cdf1173c188053ffe5e38f60938a}} 
\index{robot\_controllers@{robot\_controllers}!generatePowers@{generatePowers}}
\index{generatePowers@{generatePowers}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{generatePowers()}{generatePowers()}}
{\footnotesize\ttfamily static void robot\+\_\+controllers\+::generate\+Powers (\begin{DoxyParamCaption}\item[{int}]{n,  }\item[{double}]{x,  }\item[{double $\ast$}]{powers }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Helper function for splines. 



Definition at line 96 of file trajectory\+\_\+spline\+\_\+sampler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{96   \{}
\DoxyCodeLine{97     \textcolor{keywordtype}{double} T[6];}
\DoxyCodeLine{98     \mbox{\hyperlink{namespacerobot__controllers_ab439cdf1173c188053ffe5e38f60938a}{generatePowers}}(5, \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}, T);}
\DoxyCodeLine{99 }
\DoxyCodeLine{100     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[0] = p0;}
\DoxyCodeLine{101     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[1] = v0;}
\DoxyCodeLine{102     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[2] = 0.5*a0;}
\DoxyCodeLine{103     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[3] = (-\/20.0*p0 + 20.0*p1 -\/ 3.0*a0*T[2] + a1*T[2] -\/}

\end{DoxyCode}


References service\+\_\+node\+\_\+3\+::s, and battery\+\_\+monitor\+\_\+node\+::t.



Referenced by sample\+Quintic\+Spline().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{namespacerobot__controllers_ab439cdf1173c188053ffe5e38f60938a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacerobot__controllers_ad316811f37959adca695bc0c94ea6cd6}\label{namespacerobot__controllers_ad316811f37959adca695bc0c94ea6cd6}} 
\index{robot\_controllers@{robot\_controllers}!LinearSpline@{LinearSpline}}
\index{LinearSpline@{LinearSpline}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{LinearSpline()}{LinearSpline()}}
{\footnotesize\ttfamily static void robot\+\_\+controllers\+::\+Linear\+Spline (\begin{DoxyParamCaption}\item[{double}]{p0,  }\item[{double}]{p1,  }\item[{double}]{t,  }\item[{\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 222 of file trajectory\+\_\+spline\+\_\+sampler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{229     \{}

\end{DoxyCode}


Referenced by robot\+\_\+controllers\+::\+Spline\+Trajectory\+Sampler\+::\+Spline\+Trajectory\+Sampler().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacerobot__controllers_ad316811f37959adca695bc0c94ea6cd6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacerobot__controllers_a504e7d72c45b5cb79ff93b548e5f2715}\label{namespacerobot__controllers_a504e7d72c45b5cb79ff93b548e5f2715}} 
\index{robot\_controllers@{robot\_controllers}!QuinticSpline@{QuinticSpline}}
\index{QuinticSpline@{QuinticSpline}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{QuinticSpline()}{QuinticSpline()}}
{\footnotesize\ttfamily static void robot\+\_\+controllers\+::\+Quintic\+Spline (\begin{DoxyParamCaption}\item[{double}]{p0,  }\item[{double}]{v0,  }\item[{double}]{a0,  }\item[{double}]{p1,  }\item[{double}]{v1,  }\item[{double}]{a1,  }\item[{double}]{t,  }\item[{\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create a quintic spline with between (p0,v0,a0) and (p1,v1,a1) 


\begin{DoxyParams}{Parameters}
{\em p0} & Starting position. \\
\hline
{\em v0} & Starting velocity. \\
\hline
{\em a0} & Starting acceleration. \\
\hline
{\em p1} & Ending position. \\
\hline
{\em v1} & Ending velocity. \\
\hline
{\em a1} & Ending acceleration. \\
\hline
{\em t} & Time between start and end. \\
\hline
{\em s} & The spline \\
\hline
\end{DoxyParams}


Definition at line 116 of file trajectory\+\_\+spline\+\_\+sampler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{117 \{}
\DoxyCodeLine{118   \textcolor{keywordtype}{double} T[6];}
\DoxyCodeLine{119   \mbox{\hyperlink{namespacerobot__controllers_ab439cdf1173c188053ffe5e38f60938a}{generatePowers}}(5, \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}, T);}
\DoxyCodeLine{120 }
\DoxyCodeLine{121   \mbox{\hyperlink{namespaceprepare__simulated__robot_a1ad323a84ba3a09ddf6b3649dacf67d4}{position}} = T[0]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[0] +}
\DoxyCodeLine{122              T[1]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[1] +}
\DoxyCodeLine{123              T[2]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[2] +}
\DoxyCodeLine{124              T[3]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[3] +}
\DoxyCodeLine{125              T[4]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[4] +}
\DoxyCodeLine{126              T[5]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[5];}
\DoxyCodeLine{127 }
\DoxyCodeLine{128   velocity = T[0]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[1] +}
\DoxyCodeLine{129          2.0*T[1]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[2] +}
\DoxyCodeLine{130          3.0*T[2]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[3] +}
\DoxyCodeLine{131          4.0*T[3]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[4] +}
\DoxyCodeLine{132          5.0*T[4]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[5];}
\DoxyCodeLine{133 }
\DoxyCodeLine{134   acceleration = 2.0*T[0]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[2] +}
\DoxyCodeLine{135                  6.0*T[1]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[3] +}
\DoxyCodeLine{136                 12.0*T[2]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[4] +}
\DoxyCodeLine{137                 20.0*T[3]*\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[5];}
\DoxyCodeLine{138 \}}
\DoxyCodeLine{139 }
\end{DoxyCode}


Referenced by robot\+\_\+controllers\+::\+Spline\+Trajectory\+Sampler\+::\+Spline\+Trajectory\+Sampler().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacerobot__controllers_a504e7d72c45b5cb79ff93b548e5f2715_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacerobot__controllers_abec497ad1019fea1ca5f46d7dafde6db}\label{namespacerobot__controllers_abec497ad1019fea1ca5f46d7dafde6db}} 
\index{robot\_controllers@{robot\_controllers}!rosPrintTrajectory@{rosPrintTrajectory}}
\index{rosPrintTrajectory@{rosPrintTrajectory}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{rosPrintTrajectory()}{rosPrintTrajectory()}}
{\footnotesize\ttfamily void robot\+\_\+controllers\+::ros\+Print\+Trajectory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} \&}]{t }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Print trajectory to R\+OS I\+N\+FO. 



Definition at line 254 of file trajectory.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{255 \{}
\DoxyCodeLine{256   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} p = 0; p < \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.size(); p++)}
\DoxyCodeLine{257   \{}
\DoxyCodeLine{258     \textcolor{keywordflow}{if} (continuous.size() != \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.points[p].q.size())}
\DoxyCodeLine{259     \{}
\DoxyCodeLine{260       \textcolor{comment}{// Size does not match}}
\DoxyCodeLine{261       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{262     \}}
\DoxyCodeLine{263 }
\DoxyCodeLine{264     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j = 0; j < continuous.size(); j++)}
\DoxyCodeLine{265     \{}
\DoxyCodeLine{266       \textcolor{keywordflow}{if} (continuous[j])}
\DoxyCodeLine{267       \{}
\DoxyCodeLine{268         \textcolor{keywordflow}{if} (p > 0)}
\DoxyCodeLine{269         \{}
\DoxyCodeLine{270           \textcolor{comment}{// Unwind by taking shortest path from previous point}}
\DoxyCodeLine{271           \textcolor{keywordtype}{double} shortest = angles::shortest\_angular\_distance(\mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.points[p-\/1].q[j], \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.points[p].q[j]);}
\DoxyCodeLine{272           \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.points[p].q[j]  =  \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.points[p-\/1].q[j] + shortest;}
\DoxyCodeLine{273         \}}
\DoxyCodeLine{274         \textcolor{keywordflow}{else}}
\DoxyCodeLine{275         \{}
\DoxyCodeLine{276           \textcolor{comment}{// Start between -\/PI and PI}}
\DoxyCodeLine{277           \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.points[p].q[j] = angles::normalize\_angle(\mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.points[p].q[j]);}
\DoxyCodeLine{278         \}}
\DoxyCodeLine{279       \}}

\end{DoxyCode}


References prepare\+\_\+simulated\+\_\+robot\+::trajectory.

\mbox{\Hypertarget{namespacerobot__controllers_a528084f11e47d15b558fa2af8160699f}\label{namespacerobot__controllers_a528084f11e47d15b558fa2af8160699f}} 
\index{robot\_controllers@{robot\_controllers}!sampleCubicSpline@{sampleCubicSpline}}
\index{sampleCubicSpline@{sampleCubicSpline}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{sampleCubicSpline()}{sampleCubicSpline()}}
{\footnotesize\ttfamily static void robot\+\_\+controllers\+::sample\+Cubic\+Spline (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}}}]{s,  }\item[{double}]{t,  }\item[{double \&}]{position,  }\item[{double \&}]{velocity }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Sample from the spline at time t. 



Definition at line 207 of file trajectory\+\_\+spline\+\_\+sampler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{213       :}
\DoxyCodeLine{215   SplineTrajectorySampler(\textcolor{keyword}{const} Trajectory\& \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}) :}
\DoxyCodeLine{216     trajectory\_(\mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}})}
\DoxyCodeLine{217   \{}
\DoxyCodeLine{218     \textcolor{comment}{// Check for invalid trajectory size}}
\DoxyCodeLine{219     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.size() == 0)}
\DoxyCodeLine{220     \{}

\end{DoxyCode}
\mbox{\Hypertarget{namespacerobot__controllers_ac7f84b18ed9c7b768ee1802789c973d4}\label{namespacerobot__controllers_ac7f84b18ed9c7b768ee1802789c973d4}} 
\index{robot\_controllers@{robot\_controllers}!sampleLinearSpline@{sampleLinearSpline}}
\index{sampleLinearSpline@{sampleLinearSpline}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{sampleLinearSpline()}{sampleLinearSpline()}}
{\footnotesize\ttfamily static void robot\+\_\+controllers\+::sample\+Linear\+Spline (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&}]{s,  }\item[{double}]{t,  }\item[{double \&}]{position }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 229 of file trajectory\+\_\+spline\+\_\+sampler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{229     \{}
\DoxyCodeLine{230       segments\_.resize(1);}
\DoxyCodeLine{231       segments\_[0].start\_time = segments\_[0].end\_time = \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}.points[0].time;}
\DoxyCodeLine{232 }

\end{DoxyCode}


References robot\+\_\+controllers\+::\+Spline\+Trajectory\+Sampler\+::segments\+\_\+, and prepare\+\_\+simulated\+\_\+robot\+::trajectory.

\mbox{\Hypertarget{namespacerobot__controllers_ac9ce89d29b5f7c8d4dff4cbdfed84497}\label{namespacerobot__controllers_ac9ce89d29b5f7c8d4dff4cbdfed84497}} 
\index{robot\_controllers@{robot\_controllers}!sampleQuinticSpline@{sampleQuinticSpline}}
\index{sampleQuinticSpline@{sampleQuinticSpline}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{sampleQuinticSpline()}{sampleQuinticSpline()}}
{\footnotesize\ttfamily static void robot\+\_\+controllers\+::sample\+Quintic\+Spline (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrobot__controllers_1_1Spline}{Spline}} \&}]{s,  }\item[{double}]{t,  }\item[{double \&}]{position,  }\item[{double \&}]{velocity,  }\item[{double \&}]{acceleration }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Sample from the spline at time t. 



Definition at line 149 of file trajectory\+\_\+spline\+\_\+sampler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{150 \{}
\DoxyCodeLine{151   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}} == 0.0)}
\DoxyCodeLine{152   \{}
\DoxyCodeLine{153     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[0] = p1;}
\DoxyCodeLine{154     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[1] = v1;}
\DoxyCodeLine{155     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[2] = 0.0;}
\DoxyCodeLine{156     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[3] = 0.0;}
\DoxyCodeLine{157   \}}
\DoxyCodeLine{158   \textcolor{keywordflow}{else}}
\DoxyCodeLine{159   \{}
\DoxyCodeLine{160     \textcolor{keywordtype}{double} T[4];}
\DoxyCodeLine{161     \mbox{\hyperlink{namespacerobot__controllers_ab439cdf1173c188053ffe5e38f60938a}{generatePowers}}(3, \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}, T);}
\DoxyCodeLine{162 }
\DoxyCodeLine{163     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[0] = p0;}
\DoxyCodeLine{164     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[1] = v0;}
\DoxyCodeLine{165     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[2] = (3.0 * p1 -\/ 3.0 * p0 -\/ 2.0 *v0*T[1] -\/ v1*T[1]) / T[2];}
\DoxyCodeLine{166     \mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}.coef[3] = (-\/2.0 * p1 + 2.0 * p0 + v0*T[1] + v1*T[1]) / T[3];}
\DoxyCodeLine{167   \}}
\DoxyCodeLine{168 \}}
\DoxyCodeLine{169 }

\end{DoxyCode}


References generate\+Powers(), service\+\_\+node\+\_\+3\+::s, and battery\+\_\+monitor\+\_\+node\+::t.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{namespacerobot__controllers_ac9ce89d29b5f7c8d4dff4cbdfed84497_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacerobot__controllers_a228ffe003a8499f637051d407aaaf351}\label{namespacerobot__controllers_a228ffe003a8499f637051d407aaaf351}} 
\index{robot\_controllers@{robot\_controllers}!spliceTrajectories@{spliceTrajectories}}
\index{spliceTrajectories@{spliceTrajectories}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{spliceTrajectories()}{spliceTrajectories()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::splice\+Trajectories (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} \&}]{t1,  }\item[{const \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} \&}]{t2,  }\item[{const double}]{time,  }\item[{\mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} $\ast$}]{t }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Splice two trajectories. 


\begin{DoxyParams}{Parameters}
{\em t1} & First trajectory to splice \\
\hline
{\em t2} & Second trajectory to splice (will overwrite first) \\
\hline
{\em time} & The start time for the new trajectory (typically, current system time) \\
\hline
{\em t} & The new trajectory. \\
\hline
\end{DoxyParams}


Definition at line 165 of file trajectory.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{165   \{}
\DoxyCodeLine{166     \textcolor{keywordflow}{if} (t1.points[p].time >= time \&\& t1.points[p].time < start\_t2)}
\DoxyCodeLine{167     \{}
\DoxyCodeLine{168       \textcolor{keywordflow}{if} (t1.points[p].time > time \&\& \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>size() == 0)}
\DoxyCodeLine{169       \{}
\DoxyCodeLine{170         \textcolor{comment}{/* This is first point in trajectory, and is after our}}
\DoxyCodeLine{171 \textcolor{comment}{           start time, see if we can add one point in front of it */}}
\DoxyCodeLine{172         \textcolor{keywordflow}{if} (p > 0)}
\DoxyCodeLine{173          \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points.push\_back(t1.points[p-\/1]);}
\DoxyCodeLine{174       \}}
\DoxyCodeLine{175       \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points.push\_back(t1.points[p]);}
\DoxyCodeLine{176     \}}
\DoxyCodeLine{177   \}}
\DoxyCodeLine{178 }
\DoxyCodeLine{179   \textcolor{comment}{// Add points from t2}}
\DoxyCodeLine{180   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} p = 0; p < t2.size(); ++p)}
\DoxyCodeLine{181   \{}
\DoxyCodeLine{182     \textcolor{keywordflow}{if} (t2.points[p].time >= time)}
\DoxyCodeLine{183     \{}
\DoxyCodeLine{184       \textcolor{keywordflow}{if} (t2.points[p].time > time \&\& \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>size() == 0)}
\DoxyCodeLine{185       \{}
\DoxyCodeLine{186         \textcolor{comment}{/* This is first point in trajectory, and is after our}}
\DoxyCodeLine{187 \textcolor{comment}{           start time, see if we can add one point in front of it */}}
\DoxyCodeLine{188         \textcolor{keywordflow}{if} (p > 0)}
\DoxyCodeLine{189          \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points.push\_back(t2.points[p-\/1]);}
\DoxyCodeLine{190         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (t1.size() > 0)}
\DoxyCodeLine{191          \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points.push\_back(t1.points[t1.size()-\/1]);}
\DoxyCodeLine{192       \}}
\DoxyCodeLine{193       \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points.push\_back(t2.points[p]);}
\DoxyCodeLine{194     \}}
\DoxyCodeLine{195   \}}
\DoxyCodeLine{196 }
\DoxyCodeLine{197   \textcolor{keywordflow}{if} (!has\_accelerations)}
\DoxyCodeLine{198   \{}
\DoxyCodeLine{199     \textcolor{comment}{// Remove any accelerations in output trajectory}}
\DoxyCodeLine{200     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points.size(); i++)}
\DoxyCodeLine{201     \{}
\DoxyCodeLine{202       \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points[i].qdd.clear();}
\DoxyCodeLine{203     \}}
\DoxyCodeLine{204   \}}
\DoxyCodeLine{205 }
\DoxyCodeLine{206   \textcolor{keywordflow}{if} (!has\_velocities)}
\DoxyCodeLine{207   \{}
\DoxyCodeLine{208     \textcolor{comment}{// Remove any velocities in output trajectory}}
\DoxyCodeLine{209     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points.size(); i++)}
\DoxyCodeLine{210     \{}
\DoxyCodeLine{211       \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>points[i].qd.clear();}
\DoxyCodeLine{212     \}}
\DoxyCodeLine{213   \}}
\DoxyCodeLine{214 }
\DoxyCodeLine{215   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{216 \}}
\DoxyCodeLine{217 }
\DoxyCodeLine{221 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacerobot__controllers_abec497ad1019fea1ca5f46d7dafde6db}{rosPrintTrajectory}}(Trajectory\& \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}})}
\DoxyCodeLine{222 \{}
\DoxyCodeLine{223   ROS\_INFO\_STREAM(\textcolor{stringliteral}{"Trajectory with "} << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.size() << \textcolor{stringliteral}{" points:"});}
\DoxyCodeLine{224   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} p = 0; p < \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.size(); ++p)}
\DoxyCodeLine{225   \{}
\DoxyCodeLine{226     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"  Point "} << p << \textcolor{stringliteral}{" at "} << std::setprecision (15) << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].time);}
\DoxyCodeLine{227     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j = 0; j < \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].q.size(); ++j)}
\DoxyCodeLine{228     \{}
\DoxyCodeLine{229       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].qdd.size() == \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].q.size())}
\DoxyCodeLine{230       \{}
\DoxyCodeLine{231         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"    "} << std::setprecision (5) << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].q[j] <<}
\DoxyCodeLine{232                           \textcolor{stringliteral}{", "} << std::setprecision (5) << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].qd[j] <<}
\DoxyCodeLine{233                           \textcolor{stringliteral}{", "} << std::setprecision (5) << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].qdd[j]);}
\DoxyCodeLine{234       \}}
\DoxyCodeLine{235       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].q.size() == \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].q.size())}
\DoxyCodeLine{236       \{}
\DoxyCodeLine{237         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"    "} << std::setprecision (5) << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].q[j] <<}
\DoxyCodeLine{238                           \textcolor{stringliteral}{", "} << std::setprecision (5) << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].qd[j]);}
\DoxyCodeLine{239       \}}
\DoxyCodeLine{240       \textcolor{keywordflow}{else}}
\DoxyCodeLine{241       \{}
\DoxyCodeLine{242         ROS\_INFO\_STREAM(\textcolor{stringliteral}{"    "} << std::setprecision (5) << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.points[p].q[j]);}
\DoxyCodeLine{243       \}}
\DoxyCodeLine{244     \}}
\DoxyCodeLine{245   \}}
\DoxyCodeLine{246 \}}
\DoxyCodeLine{247 }
\end{DoxyCode}


References battery\+\_\+monitor\+\_\+node\+::t.



Referenced by robot\+\_\+controllers\+::\+Follow\+Joint\+Trajectory\+Controller\+::execute\+Cb().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacerobot__controllers_a228ffe003a8499f637051d407aaaf351_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacerobot__controllers_a8215470f02696cad051c9de8f32f1093}\label{namespacerobot__controllers_a8215470f02696cad051c9de8f32f1093}} 
\index{robot\_controllers@{robot\_controllers}!trajectoryFromMsg@{trajectoryFromMsg}}
\index{trajectoryFromMsg@{trajectoryFromMsg}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{trajectoryFromMsg()}{trajectoryFromMsg()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::trajectory\+From\+Msg (\begin{DoxyParamCaption}\item[{const trajectory\+\_\+msgs\+::\+Joint\+Trajectory \&}]{message,  }\item[{const std\+::vector$<$ std\+::string $>$}]{joints,  }\item[{\mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} $\ast$}]{trajectory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Convert message into \mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}}. 


\begin{DoxyParams}{Parameters}
{\em message} & The trajectory message. \\
\hline
{\em joints} & Vector of joint names, used to order the values within a \mbox{\hyperlink{structrobot__controllers_1_1TrajectoryPoint}{Trajectory\+Point}} \\
\hline
{\em trajectory} & The returned trajectory \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if trajectory generated, false otherwise. 
\end{DoxyReturn}


Definition at line 109 of file trajectory.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{110     \{}
\DoxyCodeLine{111       point.q.push\_back(message.points[p].positions[mapping[j]]);}
\DoxyCodeLine{112       \textcolor{keywordflow}{if} (message.points[p].velocities.size() == message.points[p].positions.size())}
\DoxyCodeLine{113         point.qd.push\_back(message.points[p].velocities[mapping[j]]);}
\DoxyCodeLine{114       \textcolor{keywordflow}{if} (message.points[p].accelerations.size() == message.points[p].positions.size())}
\DoxyCodeLine{115         point.qdd.push\_back(message.points[p].accelerations[mapping[j]]);}
\DoxyCodeLine{116     \}}
\DoxyCodeLine{117     point.time = start\_time + message.points[p].time\_from\_start.toSec(); }
\DoxyCodeLine{118     \mbox{\hyperlink{namespaceprepare__simulated__robot_a20d89ca18c8f6a273b66e65be5a680fe}{trajectory}}-\/>points.push\_back(point);}
\DoxyCodeLine{119   \}}
\DoxyCodeLine{120 }
\DoxyCodeLine{121   \textcolor{comment}{// Parsed this}}
\DoxyCodeLine{122   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{123 \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{132 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacerobot__controllers_a228ffe003a8499f637051d407aaaf351}{spliceTrajectories}}(\textcolor{keyword}{const} Trajectory\& t1,}
\DoxyCodeLine{133                                \textcolor{keyword}{const} Trajectory\& t2,}
\DoxyCodeLine{134                                \textcolor{keyword}{const} \textcolor{keywordtype}{double} time,}
\DoxyCodeLine{135                                Trajectory * \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}})}
\DoxyCodeLine{136 \{}
\DoxyCodeLine{137   \textcolor{comment}{// Need at least one point in t1 for the following code to work}}
\DoxyCodeLine{138   \textcolor{keywordflow}{if} (t1.size() == 0)}
\DoxyCodeLine{139   \{}
\DoxyCodeLine{140     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{141   \}}
\DoxyCodeLine{142 }
\DoxyCodeLine{143   \textcolor{comment}{// Need at least one point in t2 for the following code to work}}
\DoxyCodeLine{144   \textcolor{keywordflow}{if} (t2.size() == 0)}
\DoxyCodeLine{145   \{}
\DoxyCodeLine{146     *\mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}} = t1;}
\DoxyCodeLine{147     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{148   \}}
\DoxyCodeLine{149 }
\DoxyCodeLine{150   \textcolor{comment}{// Check sizes}}
\DoxyCodeLine{151   \textcolor{keywordtype}{size\_t} num\_joints = t1.points[0].q.size();}
\DoxyCodeLine{152   \textcolor{keywordtype}{bool} has\_velocities = (t1.points[0].qd.size() == num\_joints) \&\&}
\DoxyCodeLine{153                         (t2.points[0].qd.size() == num\_joints);}
\DoxyCodeLine{154   \textcolor{keywordtype}{bool} has\_accelerations = (t1.points[0].qdd.size() == num\_joints) \&\&}
\DoxyCodeLine{155                            (t2.points[0].qdd.size() == num\_joints);}
\DoxyCodeLine{156 }

\end{DoxyCode}


Referenced by robot\+\_\+controllers\+::\+Follow\+Joint\+Trajectory\+Controller\+::execute\+Cb().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacerobot__controllers_a8215470f02696cad051c9de8f32f1093_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacerobot__controllers_ac1a37a4d579dd3f1ea35c9babf598c5d}\label{namespacerobot__controllers_ac1a37a4d579dd3f1ea35c9babf598c5d}} 
\index{robot\_controllers@{robot\_controllers}!unwindTrajectoryPoint@{unwindTrajectoryPoint}}
\index{unwindTrajectoryPoint@{unwindTrajectoryPoint}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{unwindTrajectoryPoint()}{unwindTrajectoryPoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::unwind\+Trajectory\+Point (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classbool}{bool}} $>$}]{continuous,  }\item[{\mbox{\hyperlink{structrobot__controllers_1_1TrajectoryPoint}{Trajectory\+Point}} \&}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 318 of file trajectory.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{323        :}
\DoxyCodeLine{324   \textcolor{comment}{// You no copy...}}
\DoxyCodeLine{325   TrajectorySampler(\textcolor{keyword}{const} TrajectorySampler\&);}
\DoxyCodeLine{326   TrajectorySampler\& operator=(\textcolor{keyword}{const} TrajectorySampler\&);}
\DoxyCodeLine{327 \};}
\DoxyCodeLine{328 }
\DoxyCodeLine{329 \}  \textcolor{comment}{// namespace robot\_controllers}}
\DoxyCodeLine{330 }
\DoxyCodeLine{331 \textcolor{preprocessor}{\#endif // ROBOT\_CONTROLLERS\_TRAJECTORY\_H\_}}

\end{DoxyCode}


Referenced by robot\+\_\+controllers\+::\+Follow\+Joint\+Trajectory\+Controller\+::update().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacerobot__controllers_ac1a37a4d579dd3f1ea35c9babf598c5d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacerobot__controllers_ab4ed5e5990bf69181d259b8a96d72d52}\label{namespacerobot__controllers_ab4ed5e5990bf69181d259b8a96d72d52}} 
\index{robot\_controllers@{robot\_controllers}!windupTrajectory@{windupTrajectory}}
\index{windupTrajectory@{windupTrajectory}!robot\_controllers@{robot\_controllers}}
\doxysubsubsection{\texorpdfstring{windupTrajectory()}{windupTrajectory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::windup\+Trajectory (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{classbool}{bool}} $>$}]{continuous,  }\item[{\mbox{\hyperlink{structrobot__controllers_1_1Trajectory}{Trajectory}} \&}]{trajectory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Windup the trajectory so that continuous joints do not wrap. 


\begin{DoxyParams}{Parameters}
{\em continuous} & Which joints in each \mbox{\hyperlink{structrobot__controllers_1_1TrajectoryPoint}{Trajectory\+Point}} are continuous. \\
\hline
{\em trajectory} & The trajectory to unwind. \\
\hline
\end{DoxyParams}


Definition at line 286 of file trajectory.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{287 \{}
\DoxyCodeLine{288   \textcolor{keywordflow}{if} (continuous.size() != p.q.size())}
\DoxyCodeLine{289   \{}
\DoxyCodeLine{290     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{291   \}}
\DoxyCodeLine{292 }
\DoxyCodeLine{293   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j = 0; j < continuous.size(); j++)}
\DoxyCodeLine{294   \{}
\DoxyCodeLine{295     \textcolor{keywordflow}{if} (continuous[j])}
\DoxyCodeLine{296     \{}
\DoxyCodeLine{297       p.q[j] = angles::normalize\_angle(p.q[j]);}
\DoxyCodeLine{298     \}}
\DoxyCodeLine{299   \}}
\DoxyCodeLine{300 }
\DoxyCodeLine{301   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{302 \}}
\DoxyCodeLine{303 }
\DoxyCodeLine{307 \textcolor{keyword}{class }TrajectorySampler}
\DoxyCodeLine{308 \{}
\DoxyCodeLine{309 \textcolor{keyword}{public}:}
\DoxyCodeLine{311   TrajectorySampler() \{\}}
\DoxyCodeLine{312   \textcolor{keyword}{virtual} \string~TrajectorySampler() \{\}}
\DoxyCodeLine{313 }
\DoxyCodeLine{315   \textcolor{keyword}{virtual} TrajectoryPoint sample(\textcolor{keywordtype}{double} time) = 0;}
\DoxyCodeLine{316 }

\end{DoxyCode}


Referenced by robot\+\_\+controllers\+::\+Follow\+Joint\+Trajectory\+Controller\+::execute\+Cb().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacerobot__controllers_ab4ed5e5990bf69181d259b8a96d72d52_icgraph}
\end{center}
\end{figure}
