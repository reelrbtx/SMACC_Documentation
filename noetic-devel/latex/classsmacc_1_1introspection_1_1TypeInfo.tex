\hypertarget{classsmacc_1_1introspection_1_1TypeInfo}{}\doxysection{smacc\+::introspection\+::Type\+Info Class Reference}
\label{classsmacc_1_1introspection_1_1TypeInfo}\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}


{\ttfamily \#include $<$string\+\_\+type\+\_\+walker.\+h$>$}



Collaboration diagram for smacc\+::introspection\+::Type\+Info\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1introspection_1_1TypeInfo__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo}{Type\+Info}} $>$ \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Ptr}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ae57986b3f7e913346a379ec7ad609ffc}{Type\+Info}} (std\+::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}}, std\+::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a117d2b73994b78a6e4e81cdf7054912c}{codedtype}}, std\+::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}{finaltype}})
\item 
std\+::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a41eb6c64f46a8e24a206e5702c6f6818}{to\+String}} ()
\item 
std\+::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_adf059b6105291f4d6402068e8b122365}{get\+Non\+Templated\+Type\+Name}} ()
\item 
const std\+::string \& \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ad00815e2537a11be93c9a80846f4dc3a}{get\+Full\+Name}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Type\+Info\+::\+Ptr}} \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a47d65b6c61499d7ae8ab9f6325c84837}{get\+Type\+Info\+From\+String}} (std\+::string inputtext)
\item 
static \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Type\+Info\+::\+Ptr}} \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ada1e604cd8bf968a5f816fbace4af881}{get\+From\+Std\+Type\+Info}} (const std\+::type\+\_\+info \&tid)
\item 
{\footnotesize template$<$typename T $>$ }\\static \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Type\+Info\+::\+Ptr}} \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a8716ca6ac890b4582986d9fe4f5962ad}{get\+Type\+Info\+From\+Type}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Ptr}} $>$ \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aed5166ab8bcd94489e7bc87deb01de5c}{template\+Parameters}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::map$<$ std\+::string, \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Ptr}} $>$ \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ab780c03206b824aaf338135d16b0eff4}{type\+Info\+Database}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}}
\item 
std\+::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a117d2b73994b78a6e4e81cdf7054912c}{codedtype}}
\item 
std\+::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}{finaltype}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 26 of file string\+\_\+type\+\_\+walker.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}\label{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!Ptr@{Ptr}}
\index{Ptr@{Ptr}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{Ptr}{Ptr}}
{\footnotesize\ttfamily typedef std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo}{Type\+Info}}$>$ \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{smacc\+::introspection\+::\+Type\+Info\+::\+Ptr}}}



Definition at line 33 of file string\+\_\+type\+\_\+walker.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_ae57986b3f7e913346a379ec7ad609ffc}\label{classsmacc_1_1introspection_1_1TypeInfo_ae57986b3f7e913346a379ec7ad609ffc}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!TypeInfo@{TypeInfo}}
\index{TypeInfo@{TypeInfo}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{TypeInfo()}{TypeInfo()}}
{\footnotesize\ttfamily smacc\+::introspection\+::\+Type\+Info\+::\+Type\+Info (\begin{DoxyParamCaption}\item[{std\+::string}]{tkey,  }\item[{std\+::string}]{codedtype,  }\item[{std\+::string}]{finaltype }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 48 of file string\+\_\+type\+\_\+walker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{49     \{}
\DoxyCodeLine{50         \textcolor{keyword}{auto} index = this-\/>\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}{finaltype}}.find(\textcolor{stringliteral}{"<"});}
\DoxyCodeLine{51         \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}{finaltype}}.substr(0, index);}
\DoxyCodeLine{52     \}}
\DoxyCodeLine{53 }

\end{DoxyCode}


References finaltype.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_ada1e604cd8bf968a5f816fbace4af881}\label{classsmacc_1_1introspection_1_1TypeInfo_ada1e604cd8bf968a5f816fbace4af881}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!getFromStdTypeInfo@{getFromStdTypeInfo}}
\index{getFromStdTypeInfo@{getFromStdTypeInfo}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{getFromStdTypeInfo()}{getFromStdTypeInfo()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Type\+Info\+::\+Ptr}} smacc\+::introspection\+::\+Type\+Info\+::get\+From\+Std\+Type\+Info (\begin{DoxyParamCaption}\item[{const std\+::type\+\_\+info \&}]{tid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 56 of file string\+\_\+type\+\_\+walker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{57 \{}
\DoxyCodeLine{58     \textcolor{keywordflow}{return} \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a47d65b6c61499d7ae8ab9f6325c84837}{TypeInfo::getTypeInfoFromString}}(\mbox{\hyperlink{namespacesmacc_1_1introspection_a2f495108db3e57604d8d3ff5ef030302}{demangleSymbol}}(tid.name()));}
\DoxyCodeLine{59 \}}

\end{DoxyCode}


References smacc\+::introspection\+::demangle\+Symbol(), and get\+Type\+Info\+From\+String().



Referenced by smacc\+::\+I\+Smacc\+Client\+::set\+Orthogonal().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1introspection_1_1TypeInfo_ada1e604cd8bf968a5f816fbace4af881_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1introspection_1_1TypeInfo_ada1e604cd8bf968a5f816fbace4af881_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_ad00815e2537a11be93c9a80846f4dc3a}\label{classsmacc_1_1introspection_1_1TypeInfo_ad00815e2537a11be93c9a80846f4dc3a}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!getFullName@{getFullName}}
\index{getFullName@{getFullName}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{getFullName()}{getFullName()}}
{\footnotesize\ttfamily const std\+::string\& smacc\+::introspection\+::\+Type\+Info\+::get\+Full\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 67 of file string\+\_\+type\+\_\+walker.\+h.

\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_adf059b6105291f4d6402068e8b122365}\label{classsmacc_1_1introspection_1_1TypeInfo_adf059b6105291f4d6402068e8b122365}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!getNonTemplatedTypeName@{getNonTemplatedTypeName}}
\index{getNonTemplatedTypeName@{getNonTemplatedTypeName}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{getNonTemplatedTypeName()}{getNonTemplatedTypeName()}}
{\footnotesize\ttfamily std\+::string smacc\+::introspection\+::\+Type\+Info\+::get\+Non\+Templated\+Type\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 60 of file string\+\_\+type\+\_\+walker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{62        :}
\DoxyCodeLine{63     std::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}};}
\DoxyCodeLine{64     std::string \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a117d2b73994b78a6e4e81cdf7054912c}{codedtype}};}

\end{DoxyCode}
\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_a47d65b6c61499d7ae8ab9f6325c84837}\label{classsmacc_1_1introspection_1_1TypeInfo_a47d65b6c61499d7ae8ab9f6325c84837}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!getTypeInfoFromString@{getTypeInfoFromString}}
\index{getTypeInfoFromString@{getTypeInfoFromString}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{getTypeInfoFromString()}{getTypeInfoFromString()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Type\+Info\+::\+Ptr}} smacc\+::introspection\+::\+Type\+Info\+::get\+Type\+Info\+From\+String (\begin{DoxyParamCaption}\item[{std\+::string}]{inputtext }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 61 of file string\+\_\+type\+\_\+walker.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{62 \{}
\DoxyCodeLine{63     \textcolor{keyword}{auto} it = \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ab780c03206b824aaf338135d16b0eff4}{typeInfoDatabase}}.find(inputtext);}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ab780c03206b824aaf338135d16b0eff4}{typeInfoDatabase}}.end())}
\DoxyCodeLine{66         \textcolor{keywordflow}{return} \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ab780c03206b824aaf338135d16b0eff4}{typeInfoDatabase}}[inputtext];}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     \textcolor{keywordtype}{bool} ok = \textcolor{keyword}{false};}
\DoxyCodeLine{69     \textcolor{keywordtype}{int} typecount = 0;}
\DoxyCodeLine{70     std::string originalinputtext = inputtext;}
\DoxyCodeLine{71     std::map<std::string, std::string> typesdict;}
\DoxyCodeLine{72     std::map<std::string, std::string> typesdict\_content;}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     \textcolor{keywordflow}{while} (!ok)}
\DoxyCodeLine{75     \{}
\DoxyCodeLine{76         \textcolor{comment}{//simpletypeRE = r"[\string^<>,\(\backslash\)s]+<[\string^<>]+>"}}
\DoxyCodeLine{77         \textcolor{comment}{//print ("input: " + inputtext)}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *simpletypeRE = \textcolor{stringliteral}{"[\string^\(\backslash\)\(\backslash\)<\(\backslash\)\(\backslash\)>,\(\backslash\)\(\backslash\)s]+\(\backslash\)\(\backslash\)<[\string^\(\backslash\)\(\backslash\)<\(\backslash\)\(\backslash\)>]+\(\backslash\)\(\backslash\)>"};}
\DoxyCodeLine{80         \textcolor{comment}{//std::cout << inputtext << std::endl;}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82         std::smatch matches;}
\DoxyCodeLine{83         std::regex regex(simpletypeRE); \textcolor{comment}{// matches words beginning by "sub"}}
\DoxyCodeLine{84 }
\DoxyCodeLine{85         \textcolor{comment}{//matches = [m for m in enumerate(re.finditer(simpletypeRE, inputtext))]}}
\DoxyCodeLine{86         std::regex\_search(inputtext, matches, regex);}
\DoxyCodeLine{87 }
\DoxyCodeLine{88         \textcolor{comment}{//   if len(matches) == 0:}}
\DoxyCodeLine{89         \textcolor{comment}{//     if len(typesdict) == 0:}}
\DoxyCodeLine{90         \textcolor{comment}{//         tkey = "\$T" + str(typecount)}}
\DoxyCodeLine{91         \textcolor{comment}{//         typesdict[tkey] = inputtext}}
\DoxyCodeLine{92         \textcolor{comment}{//     break}}
\DoxyCodeLine{93 }
\DoxyCodeLine{94         \textcolor{keywordflow}{if} (matches.size() == 0)}
\DoxyCodeLine{95         \{}
\DoxyCodeLine{96             \textcolor{keywordflow}{if} (typesdict.size() == 0)}
\DoxyCodeLine{97             \{}
\DoxyCodeLine{98                 \textcolor{keyword}{auto} \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}} = \textcolor{stringliteral}{"\$T"} + std::to\_string(typecount);}
\DoxyCodeLine{99                 typesdict[\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}}] = inputtext;}
\DoxyCodeLine{100             \}}
\DoxyCodeLine{101             \textcolor{keywordflow}{break};}
\DoxyCodeLine{102         \}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104         \textcolor{comment}{// for i, m in matches:}}
\DoxyCodeLine{105         \textcolor{comment}{//     tstr = m.group(0)}}
\DoxyCodeLine{106         \textcolor{comment}{//     tkey = "\$T" + str(typecount)}}
\DoxyCodeLine{107         \textcolor{comment}{//     inputtext = inputtext.replace(tstr, tkey)}}
\DoxyCodeLine{108         \textcolor{comment}{//     print("updating input text: " + inputtext)}}
\DoxyCodeLine{109         \textcolor{comment}{//     typecount += 1}}
\DoxyCodeLine{110         \textcolor{comment}{//     typesdict[tkey] = tstr}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112         \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{113         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&m : matches)}
\DoxyCodeLine{114         \{}
\DoxyCodeLine{115             std::string tstr = m;}
\DoxyCodeLine{116             \textcolor{keyword}{auto} \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}} = \textcolor{stringliteral}{"\$T"} + std::to\_string(typecount);}
\DoxyCodeLine{117             \mbox{\hyperlink{namespacesmacc_1_1introspection_a48571b9bf3b115d2a83cc0147c96d0bd}{replace}}(inputtext, tstr, \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}});}
\DoxyCodeLine{118 }
\DoxyCodeLine{119             \textcolor{comment}{//std::cout << "updating input text:" << inputtext << std::endl;}}
\DoxyCodeLine{120 }
\DoxyCodeLine{121             typecount++;}
\DoxyCodeLine{122             typesdict[\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}}] = tstr;}
\DoxyCodeLine{123 }
\DoxyCodeLine{124             i++;}
\DoxyCodeLine{125         \}}
\DoxyCodeLine{126     \}}
\DoxyCodeLine{127 }
\DoxyCodeLine{128     \textcolor{comment}{// allbasetypes = set()}}
\DoxyCodeLine{129     \textcolor{comment}{// for tkey in typesdict.keys():}}
\DoxyCodeLine{130     \textcolor{comment}{//     flat = typesdict[tkey]}}
\DoxyCodeLine{131     \textcolor{comment}{//     print flat}}
\DoxyCodeLine{132     \textcolor{comment}{//     startindex = flat.index("<")}}
\DoxyCodeLine{133     \textcolor{comment}{//     flat = flat[startindex + 1:-\/1]}}
\DoxyCodeLine{134     \textcolor{comment}{//     basetypes = [t.strip() for t in flat.split(",")]}}
\DoxyCodeLine{135     \textcolor{comment}{//     for b in basetypes:}}
\DoxyCodeLine{136     \textcolor{comment}{//         if not "\$" in b:}}
\DoxyCodeLine{137     \textcolor{comment}{//             allbasetypes.add(b)}}
\DoxyCodeLine{138 }
\DoxyCodeLine{139     std::set<std::string> allbasetypes;}
\DoxyCodeLine{140     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&typeentry : typesdict)}
\DoxyCodeLine{141     \{}
\DoxyCodeLine{142         \textcolor{keyword}{auto} flat = typeentry.second;}
\DoxyCodeLine{143         \textcolor{comment}{//std::cout << flat << std::endl;}}
\DoxyCodeLine{144 }
\DoxyCodeLine{145         \textcolor{keywordtype}{size\_t} startindex = flat.find(\textcolor{stringliteral}{"<"});}
\DoxyCodeLine{146         \textcolor{keywordtype}{size\_t} endindex = flat.find(\textcolor{stringliteral}{">"});}
\DoxyCodeLine{147         \textcolor{keywordflow}{if} (startindex != std::string::npos)}
\DoxyCodeLine{148         \{}
\DoxyCodeLine{149             flat = flat.substr(startindex + 1, endindex -\/ startindex -\/ 1);}
\DoxyCodeLine{150             \textcolor{comment}{//std::cout << typeentry.first <<":" << flat << std::endl;}}
\DoxyCodeLine{151             typesdict\_content[typeentry.first] = flat;}
\DoxyCodeLine{152             std::vector<std::string> localbasetypes;}
\DoxyCodeLine{153 }
\DoxyCodeLine{154             std::istringstream iss(flat);}
\DoxyCodeLine{155             std::string token;}
\DoxyCodeLine{156             \textcolor{keywordflow}{while} (std::getline(iss, token, \textcolor{charliteral}{','}))}
\DoxyCodeLine{157             \{}
\DoxyCodeLine{158                 boost::trim(token);}
\DoxyCodeLine{159                 localbasetypes.push\_back(token);}
\DoxyCodeLine{160                 \textcolor{comment}{//std::cout << "base type: " << token << std::endl;}}
\DoxyCodeLine{161             \}}
\DoxyCodeLine{162 }
\DoxyCodeLine{163             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&b : localbasetypes)}
\DoxyCodeLine{164             \{}
\DoxyCodeLine{165                 \textcolor{keywordtype}{size\_t} found = b.find(\textcolor{stringliteral}{"\$"});}
\DoxyCodeLine{166 }
\DoxyCodeLine{167                 \textcolor{keywordflow}{if} (found == std::string::npos)}
\DoxyCodeLine{168                 \{}
\DoxyCodeLine{169                     allbasetypes.insert(b);}
\DoxyCodeLine{170                 \}}
\DoxyCodeLine{171             \}}
\DoxyCodeLine{172         \}}
\DoxyCodeLine{173 }
\DoxyCodeLine{174         \textcolor{comment}{// for b in allbasetypes:}}
\DoxyCodeLine{175         \textcolor{comment}{// typesdict[b] = b}}
\DoxyCodeLine{176 }
\DoxyCodeLine{177         \textcolor{comment}{//refresh}}
\DoxyCodeLine{178         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&b : allbasetypes)}
\DoxyCodeLine{179         \{}
\DoxyCodeLine{180             typesdict[b] = b;}
\DoxyCodeLine{181         \}}
\DoxyCodeLine{182     \}}
\DoxyCodeLine{183     \textcolor{comment}{// types = []}}
\DoxyCodeLine{184     \textcolor{comment}{// for tkey in typesdict:}}
\DoxyCodeLine{185     \textcolor{comment}{//     finaltype = replace\_back(typesdict[tkey], typesdict)}}
\DoxyCodeLine{186     \textcolor{comment}{//     t = TypeInfo(tkey, typesdict[tkey], finaltype)}}
\DoxyCodeLine{187     \textcolor{comment}{//     types.append(t)}}
\DoxyCodeLine{188 }
\DoxyCodeLine{189     \textcolor{comment}{//     print t}}
\DoxyCodeLine{190 }
\DoxyCodeLine{191     \textcolor{comment}{//std::cout << "-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ TYPES -\/-\/-\/-\/-\/-\/-\/" << std::endl;}}
\DoxyCodeLine{192     std::vector<TypeInfo::Ptr> types;}
\DoxyCodeLine{193     std::vector<std::string> tokens;}
\DoxyCodeLine{194 }
\DoxyCodeLine{195     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}} : typesdict)}
\DoxyCodeLine{196     \{}
\DoxyCodeLine{197         \textcolor{comment}{//auto t = *it;}}
\DoxyCodeLine{198         \textcolor{keyword}{auto} \&\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}} = \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.first;}
\DoxyCodeLine{199         \textcolor{keyword}{auto} \&tval = \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}.second;}
\DoxyCodeLine{200         \textcolor{keyword}{auto} \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}{finaltype}} = \mbox{\hyperlink{namespacesmacc_1_1introspection_a19350163cda321a04645dcd6f6585f24}{replace\_back}}(tval, typesdict);}
\DoxyCodeLine{201         \textcolor{keyword}{auto} tinfo = std::make\_shared<TypeInfo>(\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}}, tval, \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}{finaltype}});}
\DoxyCodeLine{202         types.push\_back(tinfo);}
\DoxyCodeLine{203         tokens.push\_back(\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}{tkey}});}
\DoxyCodeLine{204 }
\DoxyCodeLine{205         \textcolor{comment}{//std::cout << "replacing back: " << finaltype << std::endl;}}
\DoxyCodeLine{206     \}}
\DoxyCodeLine{207 }
\DoxyCodeLine{208     \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{TypeInfo::Ptr}} roottype = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{209     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&\mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}} : types)}
\DoxyCodeLine{210     \{}
\DoxyCodeLine{211         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>finaltype == originalinputtext)}
\DoxyCodeLine{212         \{}
\DoxyCodeLine{213             roottype = \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}};}
\DoxyCodeLine{214             \textcolor{keywordflow}{break};}
\DoxyCodeLine{215         \}}
\DoxyCodeLine{216     \}}
\DoxyCodeLine{217 }
\DoxyCodeLine{218     \textcolor{comment}{// std::sort(types.begin(), types.end(),[](auto\& a, auto\& b)}}
\DoxyCodeLine{219     \textcolor{comment}{// \{}}
\DoxyCodeLine{220     \textcolor{comment}{//     return a-\/>getFullName().size() > b-\/>getFullName().size();}}
\DoxyCodeLine{221     \textcolor{comment}{// \});}}
\DoxyCodeLine{222 }
\DoxyCodeLine{223     \textcolor{comment}{/*}}
\DoxyCodeLine{224 \textcolor{comment}{    std::cout<<"types order:" << std::endl;}}
\DoxyCodeLine{225 \textcolor{comment}{    for(auto t: types)}}
\DoxyCodeLine{226 \textcolor{comment}{    \{}}
\DoxyCodeLine{227 \textcolor{comment}{        std::cout<< t-\/>codedtype << std::endl;}}
\DoxyCodeLine{228 \textcolor{comment}{    \}}}
\DoxyCodeLine{229 \textcolor{comment}{    std::cout<<"-\/-\/-\/-\/-\/-\/-\/-\/-\/" << std::endl;}}
\DoxyCodeLine{230 \textcolor{comment}{}}
\DoxyCodeLine{231 \textcolor{comment}{    std::cout<<"types order:" << std::endl;}}
\DoxyCodeLine{232 \textcolor{comment}{    for(auto t: types)}}
\DoxyCodeLine{233 \textcolor{comment}{    \{}}
\DoxyCodeLine{234 \textcolor{comment}{        std::cout<< t-\/>finaltype << std::endl;}}
\DoxyCodeLine{235 \textcolor{comment}{    \}}}
\DoxyCodeLine{236 \textcolor{comment}{    std::cout<<"-\/-\/-\/-\/-\/-\/-\/-\/-\/" << std::endl;}}
\DoxyCodeLine{237 \textcolor{comment}{    */}}
\DoxyCodeLine{238 }
\DoxyCodeLine{239     }
\DoxyCodeLine{240     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i< types.size();i++)}
\DoxyCodeLine{241     \{}
\DoxyCodeLine{242         \textcolor{keyword}{auto} \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}= types[i];}
\DoxyCodeLine{243         \textcolor{keyword}{auto} ttoken = tokens[i];}
\DoxyCodeLine{244 }
\DoxyCodeLine{245         \textcolor{comment}{//auto t = types[it1];}}
\DoxyCodeLine{246         std::vector<std::pair<int, TypeInfo::Ptr>> unorderedTemplateParameters;}
\DoxyCodeLine{247 }
\DoxyCodeLine{248         }
\DoxyCodeLine{249         \textcolor{comment}{//std::cout << "original typestr: " << codedtypecopy << std::endl;}}
\DoxyCodeLine{250 }
\DoxyCodeLine{251         \textcolor{comment}{//auto codedtypecopy = t-\/>codedtype;}}
\DoxyCodeLine{252         \textcolor{keyword}{auto} codedtypecopy = typesdict\_content[ttoken];}
\DoxyCodeLine{253 }
\DoxyCodeLine{254         \textcolor{comment}{// std::cout << "original typestr: " << codedtypecopy << std::endl;}}
\DoxyCodeLine{255         \textcolor{comment}{// std::cout << "original token: " << ttoken << std::endl;}}
\DoxyCodeLine{256         \textcolor{comment}{// std::cout << "original typestr: " << typesdict\_content[ttoken] << std::endl;}}
\DoxyCodeLine{257 }
\DoxyCodeLine{258         \textcolor{comment}{// size\_t startindex = codedtypecopy.find("<");}}
\DoxyCodeLine{259         \textcolor{comment}{// size\_t endindex = codedtypecopy.find(">");}}
\DoxyCodeLine{260 }
\DoxyCodeLine{261         \textcolor{comment}{// if (startindex != std::string::npos)}}
\DoxyCodeLine{262         \textcolor{comment}{// \{}}
\DoxyCodeLine{263         \textcolor{comment}{//     codedtypecopy = codedtypecopy.substr(startindex + 1, endindex -\/ startindex -\/ 1);}}
\DoxyCodeLine{264         \textcolor{comment}{// \}}}
\DoxyCodeLine{265         \textcolor{comment}{//std::cout << "original typestr: " << codedtypecopy << std::endl;}}
\DoxyCodeLine{266 }
\DoxyCodeLine{267         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&t2 : types)}
\DoxyCodeLine{268         \textcolor{comment}{//for (auto it2= types.size() -\/1; it2 >=0; it2-\/-\/)}}
\DoxyCodeLine{269         \{}
\DoxyCodeLine{270             \textcolor{comment}{//std::cout << it2 << std::endl;}}
\DoxyCodeLine{271             \textcolor{comment}{//auto t2 = types[it2];}}
\DoxyCodeLine{272             \textcolor{comment}{//std::cout << t2-\/>getFullName() << std::endl;}}
\DoxyCodeLine{273             \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}} == t2)}
\DoxyCodeLine{274                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{275 }
\DoxyCodeLine{276             \textcolor{keyword}{auto} index = codedtypecopy.find(t2-\/>tkey);}
\DoxyCodeLine{277             \textcolor{keywordflow}{if} (index != std::string::npos)}
\DoxyCodeLine{278             \{}
\DoxyCodeLine{279                 \textcolor{keyword}{auto} pair = std::make\_pair(index, t2); \textcolor{comment}{// this line is important for the order of templates}}
\DoxyCodeLine{280                 \textcolor{comment}{//auto pair = std::make\_pair(0, t2);}}
\DoxyCodeLine{281                 \textcolor{comment}{//std::cout << "matches: " << t2-\/>tkey <<std::endl;}}
\DoxyCodeLine{282                 unorderedTemplateParameters.push\_back(pair);}
\DoxyCodeLine{283                 \mbox{\hyperlink{namespacesmacc_1_1introspection_a48571b9bf3b115d2a83cc0147c96d0bd}{replace}}(codedtypecopy,t2-\/>tkey,\textcolor{stringliteral}{""}); \textcolor{comment}{// consume token}}
\DoxyCodeLine{284                 \textcolor{comment}{//std::cout << "codedtypecopy: " << codedtypecopy << std::endl;}}
\DoxyCodeLine{285             \}}
\DoxyCodeLine{286         \}}
\DoxyCodeLine{287 }
\DoxyCodeLine{288         std::sort(unorderedTemplateParameters.begin(), unorderedTemplateParameters.end(),}
\DoxyCodeLine{289                   [](\textcolor{keyword}{auto} \&a, \textcolor{keyword}{auto} \&b) -\/> \textcolor{keywordtype}{bool} \{}
\DoxyCodeLine{290                       return a.first <= b.first;}
\DoxyCodeLine{291                   \});}
\DoxyCodeLine{292 }
\DoxyCodeLine{293         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/"});}
\DoxyCodeLine{294         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"CREATING TYPE:"} << \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>getFullName());}
\DoxyCodeLine{295 }
\DoxyCodeLine{296         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&item : unorderedTemplateParameters)}
\DoxyCodeLine{297         \{}
\DoxyCodeLine{298             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{" -\/ template paramter: "} << item.second-\/>getFullName());}
\DoxyCodeLine{299             \mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{t}}-\/>templateParameters.push\_back(item.second);}
\DoxyCodeLine{300         \}}
\DoxyCodeLine{301         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/"});}
\DoxyCodeLine{302     \}}
\DoxyCodeLine{303 }
\DoxyCodeLine{304     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"ADDING TYPE TO DATABASE: "} << inputtext);}
\DoxyCodeLine{305     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"Current Database"});}
\DoxyCodeLine{306     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&en : \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ab780c03206b824aaf338135d16b0eff4}{typeInfoDatabase}})}
\DoxyCodeLine{307     \{}
\DoxyCodeLine{308         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"-\/ "} << en.first);}
\DoxyCodeLine{309     \}}
\DoxyCodeLine{310 }
\DoxyCodeLine{311     \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_ab780c03206b824aaf338135d16b0eff4}{typeInfoDatabase}}[originalinputtext] = roottype;}
\DoxyCodeLine{312     \textcolor{keywordflow}{return} roottype;}
\DoxyCodeLine{313 \}}

\end{DoxyCode}


References finaltype, smacc\+::introspection\+::replace(), smacc\+::introspection\+::replace\+\_\+back(), battery\+\_\+monitor\+\_\+node\+::t, tkey, and type\+Info\+Database.



Referenced by get\+From\+Std\+Type\+Info().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1introspection_1_1TypeInfo_a47d65b6c61499d7ae8ab9f6325c84837_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc_1_1introspection_1_1TypeInfo_a47d65b6c61499d7ae8ab9f6325c84837_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_a8716ca6ac890b4582986d9fe4f5962ad}\label{classsmacc_1_1introspection_1_1TypeInfo_a8716ca6ac890b4582986d9fe4f5962ad}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!getTypeInfoFromType@{getTypeInfoFromType}}
\index{getTypeInfoFromType@{getTypeInfoFromType}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{getTypeInfoFromType()}{getTypeInfoFromType()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
static \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Type\+Info\+::\+Ptr}} smacc\+::introspection\+::\+Type\+Info\+::get\+Type\+Info\+From\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 40 of file string\+\_\+type\+\_\+walker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{44     \{}

\end{DoxyCode}
\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_a41eb6c64f46a8e24a206e5702c6f6818}\label{classsmacc_1_1introspection_1_1TypeInfo_a41eb6c64f46a8e24a206e5702c6f6818}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!toString@{toString}}
\index{toString@{toString}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{toString()}{toString()}}
{\footnotesize\ttfamily std\+::string smacc\+::introspection\+::\+Type\+Info\+::to\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 55 of file string\+\_\+type\+\_\+walker.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{56     \{}
\DoxyCodeLine{57         \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}{finaltype}};}
\DoxyCodeLine{58     \}}

\end{DoxyCode}


References finaltype.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_a117d2b73994b78a6e4e81cdf7054912c}\label{classsmacc_1_1introspection_1_1TypeInfo_a117d2b73994b78a6e4e81cdf7054912c}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!codedtype@{codedtype}}
\index{codedtype@{codedtype}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{codedtype}{codedtype}}
{\footnotesize\ttfamily std\+::string smacc\+::introspection\+::\+Type\+Info\+::codedtype\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 76 of file string\+\_\+type\+\_\+walker.\+h.

\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}\label{classsmacc_1_1introspection_1_1TypeInfo_aa4010ed427e12db443e08ab16a3de243}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!finaltype@{finaltype}}
\index{finaltype@{finaltype}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{finaltype}{finaltype}}
{\footnotesize\ttfamily std\+::string smacc\+::introspection\+::\+Type\+Info\+::finaltype\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 77 of file string\+\_\+type\+\_\+walker.\+h.



Referenced by get\+Type\+Info\+From\+String(), to\+String(), and Type\+Info().

\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_aed5166ab8bcd94489e7bc87deb01de5c}\label{classsmacc_1_1introspection_1_1TypeInfo_aed5166ab8bcd94489e7bc87deb01de5c}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!templateParameters@{templateParameters}}
\index{templateParameters@{templateParameters}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{templateParameters}{templateParameters}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Ptr}}$>$ smacc\+::introspection\+::\+Type\+Info\+::template\+Parameters}



Definition at line 46 of file string\+\_\+type\+\_\+walker.\+h.

\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}\label{classsmacc_1_1introspection_1_1TypeInfo_a697dd505119258dba1224d10eea5b2bd}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!tkey@{tkey}}
\index{tkey@{tkey}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{tkey}{tkey}}
{\footnotesize\ttfamily std\+::string smacc\+::introspection\+::\+Type\+Info\+::tkey\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 75 of file string\+\_\+type\+\_\+walker.\+h.



Referenced by get\+Type\+Info\+From\+String().

\mbox{\Hypertarget{classsmacc_1_1introspection_1_1TypeInfo_ab780c03206b824aaf338135d16b0eff4}\label{classsmacc_1_1introspection_1_1TypeInfo_ab780c03206b824aaf338135d16b0eff4}} 
\index{smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}!typeInfoDatabase@{typeInfoDatabase}}
\index{typeInfoDatabase@{typeInfoDatabase}!smacc::introspection::TypeInfo@{smacc::introspection::TypeInfo}}
\doxysubsubsection{\texorpdfstring{typeInfoDatabase}{typeInfoDatabase}}
{\footnotesize\ttfamily std\+::map$<$ std\+::string, \mbox{\hyperlink{classsmacc_1_1introspection_1_1TypeInfo_aa6ffd9c39811d59f7c771941b7fad860}{Type\+Info\+::\+Ptr}} $>$ smacc\+::introspection\+::\+Type\+Info\+::type\+Info\+Database\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 72 of file string\+\_\+type\+\_\+walker.\+h.



Referenced by get\+Type\+Info\+From\+String().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc/include/smacc/introspection/\mbox{\hyperlink{string__type__walker_8h}{string\+\_\+type\+\_\+walker.\+h}}\item 
smacc/src/smacc/introspection/\mbox{\hyperlink{string__type__walker_8cpp}{string\+\_\+type\+\_\+walker.\+cpp}}\end{DoxyCompactItemize}
