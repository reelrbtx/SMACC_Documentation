\hypertarget{classrobot__controllers_1_1ControllerLoader}{}\doxysection{robot\+\_\+controllers\+::Controller\+Loader Class Reference}
\label{classrobot__controllers_1_1ControllerLoader}\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}


Class for loading and managing a single controller.  




{\ttfamily \#include $<$controller\+\_\+loader.\+h$>$}



Collaboration diagram for robot\+\_\+controllers\+::Controller\+Loader\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classrobot__controllers_1_1ControllerLoader__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_aa1266ee7deeb5837be9718016e0d5959}{Controller\+Loader}} ()
\begin{DoxyCompactList}\small\item\em Initialize this loader. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_ae411df93bc69f8e6c7701606fbc78b8f}{init}} (const std\+::string \&name, \mbox{\hyperlink{classrobot__controllers_1_1ControllerManager}{Controller\+Manager}} $\ast$manager)
\begin{DoxyCompactList}\small\item\em Load the controller. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_ad99eb7062f79b4826bab97640402cc83}{start}} ()
\begin{DoxyCompactList}\small\item\em This calls through to controller, saves state locally. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_ab1c0562bbac3f6146ffa059f2e306c29}{stop}} (\mbox{\hyperlink{classbool}{bool}} force)
\begin{DoxyCompactList}\small\item\em This calls through to controller, saves state locally. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf63d7e675f8125aecde74016ec4b62d}{reset}} ()
\begin{DoxyCompactList}\small\item\em This calls through to controller. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_aaacdc3042f034969bd816131a446210a}{update}} (const ros\+::\+Time \&time, const ros\+::\+Duration \&dt)
\begin{DoxyCompactList}\small\item\em If controller is active, calls through to controller. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a0609e538ea8a4f35d5a2fc9a8055c7e0}{is\+Active}} ()
\begin{DoxyCompactList}\small\item\em Returns true if the controller is active. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacerobot__controllers_a41ab33e8fa0d301a1c281dd8fc0784cb}{Controller\+Ptr}} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_adb2722ecab936e40ff16e301a7fe4cc2}{get\+Controller}} ()
\begin{DoxyCompactList}\small\item\em Returns the controller held by this loader. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
pluginlib\+::\+Class\+Loader$<$ \mbox{\hyperlink{classrobot__controllers_1_1Controller}{robot\+\_\+controllers\+::\+Controller}} $>$ \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a72f40319112c03fee87e8feb266c6c22}{plugin\+\_\+loader\+\_\+}}
\item 
\mbox{\hyperlink{namespacerobot__controllers_a41ab33e8fa0d301a1c281dd8fc0784cb}{Controller\+Ptr}} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}{controller\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}{active\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class for loading and managing a single controller. 

Definition at line 46 of file controller\+\_\+loader.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_aa1266ee7deeb5837be9718016e0d5959}\label{classrobot__controllers_1_1ControllerLoader_aa1266ee7deeb5837be9718016e0d5959}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!ControllerLoader@{ControllerLoader}}
\index{ControllerLoader@{ControllerLoader}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{ControllerLoader()}{ControllerLoader()}}
{\footnotesize\ttfamily robot\+\_\+controllers\+::\+Controller\+Loader\+::\+Controller\+Loader (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initialize this loader. 



Definition at line 36 of file controller\+\_\+loader.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{36                                    :}
\DoxyCodeLine{37     \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a72f40319112c03fee87e8feb266c6c22}{plugin\_loader\_}}(\textcolor{stringliteral}{"robot\_controllers"}, \textcolor{stringliteral}{"robot\_controllers::Controller"}),}
\DoxyCodeLine{38     \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}{active\_}}(\textcolor{keyword}{false})}
\DoxyCodeLine{39 \{}
\DoxyCodeLine{40 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_adb2722ecab936e40ff16e301a7fe4cc2}\label{classrobot__controllers_1_1ControllerLoader_adb2722ecab936e40ff16e301a7fe4cc2}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!getController@{getController}}
\index{getController@{getController}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{getController()}{getController()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacerobot__controllers_a41ab33e8fa0d301a1c281dd8fc0784cb}{Controller\+Ptr}} robot\+\_\+controllers\+::\+Controller\+Loader\+::get\+Controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the controller held by this loader. 



Definition at line 104 of file controller\+\_\+loader.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{105 \{}
\DoxyCodeLine{106   \textcolor{keywordflow}{return} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}{controller\_}};}
\DoxyCodeLine{107 \}}

\end{DoxyCode}


References controller\+\_\+.

\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_ae411df93bc69f8e6c7701606fbc78b8f}\label{classrobot__controllers_1_1ControllerLoader_ae411df93bc69f8e6c7701606fbc78b8f}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!init@{init}}
\index{init@{init}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::\+Controller\+Loader\+::init (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{\mbox{\hyperlink{classrobot__controllers_1_1ControllerManager}{Controller\+Manager}} $\ast$}]{manager }\end{DoxyParamCaption})}



Load the controller. 



Definition at line 42 of file controller\+\_\+loader.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{43 \{}
\DoxyCodeLine{44   ros::NodeHandle nh(\mbox{\hyperlink{namespacestart__controller_a7b97ae4906891a46251e92cce0503b41}{name}});}
\DoxyCodeLine{45   std::string controller\_type;}
\DoxyCodeLine{46 }
\DoxyCodeLine{47   \textcolor{keywordflow}{if} (nh.getParam(\textcolor{stringliteral}{"type"}, controller\_type))}
\DoxyCodeLine{48   \{}
\DoxyCodeLine{49     \textcolor{comment}{// If plugin is bad, catch pluginlib exception}}
\DoxyCodeLine{50     \textcolor{keywordflow}{try}}
\DoxyCodeLine{51     \{}
\DoxyCodeLine{52       \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}{controller\_}} = \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a72f40319112c03fee87e8feb266c6c22}{plugin\_loader\_}}.createInstance(controller\_type);}
\DoxyCodeLine{53       \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}{controller\_}}-\/>init(nh, manager);}
\DoxyCodeLine{54     \}}
\DoxyCodeLine{55     \textcolor{keywordflow}{catch} (pluginlib::LibraryLoadException\& e)}
\DoxyCodeLine{56     \{}
\DoxyCodeLine{57       ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"Plugin error while loading controller: "} << e.what());}
\DoxyCodeLine{58       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{59     \}}
\DoxyCodeLine{60     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{61   \}}
\DoxyCodeLine{62   ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"Unable to load controller "} << \mbox{\hyperlink{namespacestart__controller_a7b97ae4906891a46251e92cce0503b41}{name}}.c\_str());}
\DoxyCodeLine{63   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{64 \}}

\end{DoxyCode}


References controller\+\_\+, start\+\_\+controller\+::name, and plugin\+\_\+loader\+\_\+.

\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_a0609e538ea8a4f35d5a2fc9a8055c7e0}\label{classrobot__controllers_1_1ControllerLoader_a0609e538ea8a4f35d5a2fc9a8055c7e0}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!isActive@{isActive}}
\index{isActive@{isActive}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{isActive()}{isActive()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::\+Controller\+Loader\+::is\+Active (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns true if the controller is active. 



Definition at line 91 of file controller\+\_\+loader.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{92 \{}
\DoxyCodeLine{93   \textcolor{keywordflow}{return} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}{active\_}};}
\DoxyCodeLine{94 \}}

\end{DoxyCode}


References active\+\_\+.

\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_acf63d7e675f8125aecde74016ec4b62d}\label{classrobot__controllers_1_1ControllerLoader_acf63d7e675f8125aecde74016ec4b62d}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!reset@{reset}}
\index{reset@{reset}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::\+Controller\+Loader\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This calls through to controller. 



Definition at line 82 of file controller\+\_\+loader.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{83 \{}
\DoxyCodeLine{84   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}{active\_}})}
\DoxyCodeLine{85   \{}
\DoxyCodeLine{86     \textcolor{keywordflow}{return} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}{controller\_}}-\/>reset();}
\DoxyCodeLine{87   \}}
\DoxyCodeLine{88   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{89 \}}

\end{DoxyCode}


References active\+\_\+, and controller\+\_\+.

\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_ad99eb7062f79b4826bab97640402cc83}\label{classrobot__controllers_1_1ControllerLoader_ad99eb7062f79b4826bab97640402cc83}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!start@{start}}
\index{start@{start}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::\+Controller\+Loader\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This calls through to controller, saves state locally. 



Definition at line 66 of file controller\+\_\+loader.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{67 \{}
\DoxyCodeLine{68   \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}{active\_}} = \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}{controller\_}}-\/>start();}
\DoxyCodeLine{69   \textcolor{keywordflow}{return} \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}{active\_}};}
\DoxyCodeLine{70 \}}

\end{DoxyCode}


References active\+\_\+, and controller\+\_\+.



Referenced by tuck\+\_\+arm.\+Move\+It\+Thread\+::\+\_\+\+\_\+init\+\_\+\+\_\+().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classrobot__controllers_1_1ControllerLoader_ad99eb7062f79b4826bab97640402cc83_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_ab1c0562bbac3f6146ffa059f2e306c29}\label{classrobot__controllers_1_1ControllerLoader_ab1c0562bbac3f6146ffa059f2e306c29}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!stop@{stop}}
\index{stop@{stop}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::\+Controller\+Loader\+::stop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classbool}{bool}}}]{force }\end{DoxyParamCaption})}



This calls through to controller, saves state locally. 



Definition at line 72 of file controller\+\_\+loader.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{73 \{}
\DoxyCodeLine{74   \textcolor{keywordtype}{bool} stopped = \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}{controller\_}}-\/>stop(force);}
\DoxyCodeLine{75   \textcolor{keywordflow}{if} (stopped)}
\DoxyCodeLine{76   \{}
\DoxyCodeLine{77     \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}{active\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{78   \}}
\DoxyCodeLine{79   \textcolor{keywordflow}{return} stopped;}
\DoxyCodeLine{80 \}}

\end{DoxyCode}


References active\+\_\+, and controller\+\_\+.

\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_aaacdc3042f034969bd816131a446210a}\label{classrobot__controllers_1_1ControllerLoader_aaacdc3042f034969bd816131a446210a}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!update@{update}}
\index{update@{update}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void robot\+\_\+controllers\+::\+Controller\+Loader\+::update (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{time,  }\item[{const ros\+::\+Duration \&}]{dt }\end{DoxyParamCaption})}



If controller is active, calls through to controller. 



Definition at line 96 of file controller\+\_\+loader.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{97 \{}
\DoxyCodeLine{98   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}{active\_}})}
\DoxyCodeLine{99   \{}
\DoxyCodeLine{100     \mbox{\hyperlink{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}{controller\_}}-\/>update(time, dt);}
\DoxyCodeLine{101   \}}
\DoxyCodeLine{102 \}}

\end{DoxyCode}


References active\+\_\+, and controller\+\_\+.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}\label{classrobot__controllers_1_1ControllerLoader_a798cb967570b6dc8a4e341b4026d5a00}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!active\_@{active\_}}
\index{active\_@{active\_}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{active\_}{active\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} robot\+\_\+controllers\+::\+Controller\+Loader\+::active\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 76 of file controller\+\_\+loader.\+h.



Referenced by is\+Active(), reset(), start(), stop(), and update().

\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}\label{classrobot__controllers_1_1ControllerLoader_acf81952676af988eb475648e58019ad0}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!controller\_@{controller\_}}
\index{controller\_@{controller\_}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{controller\_}{controller\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacerobot__controllers_a41ab33e8fa0d301a1c281dd8fc0784cb}{Controller\+Ptr}} robot\+\_\+controllers\+::\+Controller\+Loader\+::controller\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 75 of file controller\+\_\+loader.\+h.



Referenced by get\+Controller(), init(), reset(), start(), stop(), and update().

\mbox{\Hypertarget{classrobot__controllers_1_1ControllerLoader_a72f40319112c03fee87e8feb266c6c22}\label{classrobot__controllers_1_1ControllerLoader_a72f40319112c03fee87e8feb266c6c22}} 
\index{robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}!plugin\_loader\_@{plugin\_loader\_}}
\index{plugin\_loader\_@{plugin\_loader\_}!robot\_controllers::ControllerLoader@{robot\_controllers::ControllerLoader}}
\doxysubsubsection{\texorpdfstring{plugin\_loader\_}{plugin\_loader\_}}
{\footnotesize\ttfamily pluginlib\+::\+Class\+Loader$<$\mbox{\hyperlink{classrobot__controllers_1_1Controller}{robot\+\_\+controllers\+::\+Controller}}$>$ robot\+\_\+controllers\+::\+Controller\+Loader\+::plugin\+\_\+loader\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 74 of file controller\+\_\+loader.\+h.



Referenced by init().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
submodules/robot\+\_\+controllers/robot\+\_\+controllers\+\_\+interface/include/robot\+\_\+controllers\+\_\+interface/\mbox{\hyperlink{controller__loader_8h}{controller\+\_\+loader.\+h}}\item 
submodules/robot\+\_\+controllers/robot\+\_\+controllers\+\_\+interface/src/\mbox{\hyperlink{controller__loader_8cpp}{controller\+\_\+loader.\+cpp}}\end{DoxyCompactItemize}
