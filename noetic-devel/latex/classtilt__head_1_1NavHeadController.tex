\hypertarget{classtilt__head_1_1NavHeadController}{}\doxysection{tilt\+\_\+head.\+Nav\+Head\+Controller Class Reference}
\label{classtilt__head_1_1NavHeadController}\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}


Collaboration diagram for tilt\+\_\+head.\+Nav\+Head\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{classtilt__head_1_1NavHeadController__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classtilt__head_1_1NavHeadController_a37864d07b472455da93291d221dfb7f0}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\item 
def \mbox{\hyperlink{classtilt__head_1_1NavHeadController_a8280adf67fa1ddfaaf12cdef2d1f91ca}{stat\+Callback}} (self, msg)
\item 
def \mbox{\hyperlink{classtilt__head_1_1NavHeadController_a5fed20c142eaaf3f1d60ed71969b2d32}{plan\+Callback}} (self, msg)
\item 
def \mbox{\hyperlink{classtilt__head_1_1NavHeadController_a400576d950f371ffab98a0afbbb99d87}{loop}} (self)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtilt__head_1_1NavHeadController_a99dab789d8e1627a736503539e23b300}{has\+\_\+goal}}
\item 
\mbox{\hyperlink{classtilt__head_1_1NavHeadController_a0c654c4e7c47c4d2e29149c31a520dee}{x}}
\item 
\mbox{\hyperlink{classtilt__head_1_1NavHeadController_a9ba05500db3e0167feacf3ccf9382874}{y}}
\item 
\mbox{\hyperlink{classtilt__head_1_1NavHeadController_af4130fcf061d0c4846377a622ec64233}{mutex}}
\item 
\mbox{\hyperlink{classtilt__head_1_1NavHeadController_ac4c69d3d5510c9d0da23b1dce98a3f3b}{listener}}
\item 
\mbox{\hyperlink{classtilt__head_1_1NavHeadController_abddca7cf5138c9fc653440dfef26dc18}{client}}
\item 
\mbox{\hyperlink{classtilt__head_1_1NavHeadController_a44afe0776e960b0e8e6c64a5c999cef6}{plan\+\_\+sub}}
\item 
\mbox{\hyperlink{classtilt__head_1_1NavHeadController_a755638cffefe55080299ab6f6b01ef61}{stat\+\_\+sub}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 48 of file tilt\+\_\+head.\+py.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a37864d07b472455da93291d221dfb7f0}\label{classtilt__head_1_1NavHeadController_a37864d07b472455da93291d221dfb7f0}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def tilt\+\_\+head.\+Nav\+Head\+Controller.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 50 of file tilt\+\_\+head.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{50     \textcolor{keyword}{def }\_\_init\_\_(self):}
\DoxyCodeLine{51         self.has\_goal = \textcolor{keyword}{False}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \textcolor{comment}{\# pose and lock}}
\DoxyCodeLine{54         self.x = 1.0}
\DoxyCodeLine{55         self.y = 0.0}
\DoxyCodeLine{56         self.mutex = Lock()}
\DoxyCodeLine{57 }
\DoxyCodeLine{58         self.listener = TransformListener()}
\DoxyCodeLine{59 }
\DoxyCodeLine{60         self.client = actionlib.SimpleActionClient(\textcolor{stringliteral}{"head\_controller/point\_head"}, PointHeadAction)}
\DoxyCodeLine{61         self.client.wait\_for\_server()}
\DoxyCodeLine{62 }
\DoxyCodeLine{63         self.plan\_sub = rospy.Subscriber(\textcolor{stringliteral}{"move\_base/TrajectoryPlannerROS/local\_plan"}, Path, self.planCallback)}
\DoxyCodeLine{64         self.stat\_sub = rospy.Subscriber(\textcolor{stringliteral}{"move\_base/status"}, GoalStatusArray, self.statCallback)}
\DoxyCodeLine{65 }

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a400576d950f371ffab98a0afbbb99d87}\label{classtilt__head_1_1NavHeadController_a400576d950f371ffab98a0afbbb99d87}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!loop@{loop}}
\index{loop@{loop}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{loop()}{loop()}}
{\footnotesize\ttfamily def tilt\+\_\+head.\+Nav\+Head\+Controller.\+loop (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 107 of file tilt\+\_\+head.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{107     \textcolor{keyword}{def }loop(self):}
\DoxyCodeLine{108         \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} rospy.is\_shutdown():}
\DoxyCodeLine{109             \textcolor{keywordflow}{if} self.has\_goal:}
\DoxyCodeLine{110                 goal = PointHeadGoal()}
\DoxyCodeLine{111                 goal.target.header.stamp = rospy.Time.now()}
\DoxyCodeLine{112                 goal.target.header.frame\_id = \textcolor{stringliteral}{"base\_link"}}
\DoxyCodeLine{113                 \textcolor{keyword}{with} self.mutex:}
\DoxyCodeLine{114                     goal.target.point.x = self.x}
\DoxyCodeLine{115                     goal.target.point.y = self.y}
\DoxyCodeLine{116                     self.x = 1}
\DoxyCodeLine{117                     self.y = 0}
\DoxyCodeLine{118                 goal.target.point.z = 0.0}
\DoxyCodeLine{119                 goal.min\_duration = rospy.Duration(1.0)}
\DoxyCodeLine{120 }
\DoxyCodeLine{121                 self.client.send\_goal(goal)}
\DoxyCodeLine{122                 self.client.wait\_for\_result()}
\DoxyCodeLine{123 }
\DoxyCodeLine{124                 \textcolor{keyword}{with} self.mutex:}
\DoxyCodeLine{125                     goal.target.point.x = self.x}
\DoxyCodeLine{126                     goal.target.point.y = self.y}
\DoxyCodeLine{127                     self.x = 1}
\DoxyCodeLine{128                     self.y = 0}
\DoxyCodeLine{129                 goal.target.point.z = 0.75}
\DoxyCodeLine{130 }
\DoxyCodeLine{131                 self.client.send\_goal(goal)}
\DoxyCodeLine{132                 self.client.wait\_for\_result()}
\DoxyCodeLine{133             \textcolor{keywordflow}{else}:}
\DoxyCodeLine{134                 rospy.sleep(1.0)}
\DoxyCodeLine{135 }
\DoxyCodeLine{136 }

\end{DoxyCode}


References smacc\+::default\+\_\+events\+::\+Ev\+Action\+Feedback$<$ Action\+Feedback, T\+Orthogonal $>$.\+client, camera\+\_\+reconfigure.\+Camera\+Reconfigure.\+client, tests\+\_\+arm\+\_\+movements.\+Point\+Head\+Client.\+client, demo.\+Move\+Base\+Client.\+client, pick\+\_\+place\+\_\+demo.\+Move\+Base\+Client.\+client, tests\+\_\+arm\+\_\+movements.\+Move\+Base\+Client.\+client, tilt\+\_\+head.\+Nav\+Head\+Controller.\+client, demo.\+Follow\+Trajectory\+Client.\+client, pick\+\_\+place\+\_\+demo.\+Follow\+Trajectory\+Client.\+client, tests\+\_\+arm\+\_\+movements.\+Follow\+Trajectory\+Client.\+client, demo.\+Point\+Head\+Client.\+client, pick\+\_\+place\+\_\+demo.\+Point\+Head\+Client.\+client, tilt\+\_\+head.\+Nav\+Head\+Controller.\+has\+\_\+goal, tilt\+\_\+head.\+Nav\+Head\+Controller.\+mutex, tilt\+\_\+head.\+Nav\+Head\+Controller.\+x, and tilt\+\_\+head.\+Nav\+Head\+Controller.\+y.

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a5fed20c142eaaf3f1d60ed71969b2d32}\label{classtilt__head_1_1NavHeadController_a5fed20c142eaaf3f1d60ed71969b2d32}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!planCallback@{planCallback}}
\index{planCallback@{planCallback}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{planCallback()}{planCallback()}}
{\footnotesize\ttfamily def tilt\+\_\+head.\+Nav\+Head\+Controller.\+plan\+Callback (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{msg }\end{DoxyParamCaption})}



Definition at line 74 of file tilt\+\_\+head.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{74     \textcolor{keyword}{def }planCallback(self, msg):}
\DoxyCodeLine{75         \textcolor{comment}{\# get the goal}}
\DoxyCodeLine{76         pose\_stamped = msg.poses[-\/1]}
\DoxyCodeLine{77         pose = pose\_stamped.pose}
\DoxyCodeLine{78 }
\DoxyCodeLine{79         \textcolor{comment}{\# look ahead one meter}}
\DoxyCodeLine{80         R = quaternion\_matrix([pose.orientation.x, pose.orientation.y, pose.orientation.z, pose.orientation.w])}
\DoxyCodeLine{81         point = [1, 0, 0, 1]}
\DoxyCodeLine{82         M = R*point}
\DoxyCodeLine{83 }
\DoxyCodeLine{84         p = PointStamped()}
\DoxyCodeLine{85         p.header.frame\_id = pose\_stamped.header.frame\_id}
\DoxyCodeLine{86         p.header.stamp = rospy.Time(0)}
\DoxyCodeLine{87         p.point.x += pose\_stamped.pose.position.x + M[0,0]}
\DoxyCodeLine{88         p.point.y += pose\_stamped.pose.position.y + M[1,0]}
\DoxyCodeLine{89         p.point.z += pose\_stamped.pose.position.z + M[2,0]}
\DoxyCodeLine{90 }
\DoxyCodeLine{91         \textcolor{comment}{\# transform to base\_link}}
\DoxyCodeLine{92         p = self.listener.transformPoint(\textcolor{stringliteral}{"base\_link"}, p)}
\DoxyCodeLine{93 }
\DoxyCodeLine{94         \textcolor{comment}{\# update}}
\DoxyCodeLine{95         \textcolor{keyword}{with} self.mutex:}
\DoxyCodeLine{96             \textcolor{keywordflow}{if} p.point.x < 0.65:}
\DoxyCodeLine{97                 self.x = 0.65}
\DoxyCodeLine{98             \textcolor{keywordflow}{else}:}
\DoxyCodeLine{99                 self.x = p.point.x}
\DoxyCodeLine{100             \textcolor{keywordflow}{if} p.point.y > 0.5:}
\DoxyCodeLine{101                 self.y = 0.5}
\DoxyCodeLine{102             \textcolor{keywordflow}{elif} p.point.y < -\/0.5:}
\DoxyCodeLine{103                 self.y = -\/0.5}
\DoxyCodeLine{104             \textcolor{keywordflow}{else}:}
\DoxyCodeLine{105                 self.y = p.point.y}
\DoxyCodeLine{106 }

\end{DoxyCode}


References cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Rotate.\+listener, cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Absolute\+Rotate.\+listener, cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Navigate\+Backwards.\+listener, cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards.\+listener, cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Navigate\+Forward.\+listener, cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cb\+Undo\+Path\+Backwards2.\+listener, tilt\+\_\+head.\+Nav\+Head\+Controller.\+listener, tilt\+\_\+head.\+Nav\+Head\+Controller.\+mutex, tilt\+\_\+head.\+Nav\+Head\+Controller.\+x, and tilt\+\_\+head.\+Nav\+Head\+Controller.\+y.

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a8280adf67fa1ddfaaf12cdef2d1f91ca}\label{classtilt__head_1_1NavHeadController_a8280adf67fa1ddfaaf12cdef2d1f91ca}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!statCallback@{statCallback}}
\index{statCallback@{statCallback}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{statCallback()}{statCallback()}}
{\footnotesize\ttfamily def tilt\+\_\+head.\+Nav\+Head\+Controller.\+stat\+Callback (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{msg }\end{DoxyParamCaption})}



Definition at line 66 of file tilt\+\_\+head.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{66     \textcolor{keyword}{def }statCallback(self, msg):}
\DoxyCodeLine{67         goal = \textcolor{keyword}{False}}
\DoxyCodeLine{68         \textcolor{keywordflow}{for} status \textcolor{keywordflow}{in} msg.status\_list:}
\DoxyCodeLine{69             \textcolor{keywordflow}{if} status.status == GoalStatus.ACTIVE:}
\DoxyCodeLine{70                 goal = \textcolor{keyword}{True}}
\DoxyCodeLine{71                 \textcolor{keywordflow}{break}}
\DoxyCodeLine{72         self.has\_goal = goal}
\DoxyCodeLine{73 }

\end{DoxyCode}


References tilt\+\_\+head.\+Nav\+Head\+Controller.\+has\+\_\+goal.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_abddca7cf5138c9fc653440dfef26dc18}\label{classtilt__head_1_1NavHeadController_abddca7cf5138c9fc653440dfef26dc18}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!client@{client}}
\index{client@{client}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{client}{client}}
{\footnotesize\ttfamily tilt\+\_\+head.\+Nav\+Head\+Controller.\+client}



Definition at line 60 of file tilt\+\_\+head.\+py.



Referenced by tilt\+\_\+head.\+Nav\+Head\+Controller.\+loop(), tuck\+\_\+arm.\+Tuck\+Thread.\+run(), gripper\+\_\+keyboard.\+Gripper\+Keyboard.\+set\+\_\+position(), and tuck\+\_\+arm.\+Tuck\+Thread.\+stop().

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a99dab789d8e1627a736503539e23b300}\label{classtilt__head_1_1NavHeadController_a99dab789d8e1627a736503539e23b300}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!has\_goal@{has\_goal}}
\index{has\_goal@{has\_goal}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{has\_goal}{has\_goal}}
{\footnotesize\ttfamily tilt\+\_\+head.\+Nav\+Head\+Controller.\+has\+\_\+goal}



Definition at line 51 of file tilt\+\_\+head.\+py.



Referenced by tilt\+\_\+head.\+Nav\+Head\+Controller.\+loop(), and tilt\+\_\+head.\+Nav\+Head\+Controller.\+stat\+Callback().

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_ac4c69d3d5510c9d0da23b1dce98a3f3b}\label{classtilt__head_1_1NavHeadController_ac4c69d3d5510c9d0da23b1dce98a3f3b}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!listener@{listener}}
\index{listener@{listener}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{listener}{listener}}
{\footnotesize\ttfamily tilt\+\_\+head.\+Nav\+Head\+Controller.\+listener}



Definition at line 58 of file tilt\+\_\+head.\+py.



Referenced by tilt\+\_\+head.\+Nav\+Head\+Controller.\+plan\+Callback().

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_af4130fcf061d0c4846377a622ec64233}\label{classtilt__head_1_1NavHeadController_af4130fcf061d0c4846377a622ec64233}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!mutex@{mutex}}
\index{mutex@{mutex}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{mutex}{mutex}}
{\footnotesize\ttfamily tilt\+\_\+head.\+Nav\+Head\+Controller.\+mutex}



Definition at line 56 of file tilt\+\_\+head.\+py.



Referenced by tilt\+\_\+head.\+Nav\+Head\+Controller.\+loop(), and tilt\+\_\+head.\+Nav\+Head\+Controller.\+plan\+Callback().

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a44afe0776e960b0e8e6c64a5c999cef6}\label{classtilt__head_1_1NavHeadController_a44afe0776e960b0e8e6c64a5c999cef6}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!plan\_sub@{plan\_sub}}
\index{plan\_sub@{plan\_sub}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{plan\_sub}{plan\_sub}}
{\footnotesize\ttfamily tilt\+\_\+head.\+Nav\+Head\+Controller.\+plan\+\_\+sub}



Definition at line 63 of file tilt\+\_\+head.\+py.

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a755638cffefe55080299ab6f6b01ef61}\label{classtilt__head_1_1NavHeadController_a755638cffefe55080299ab6f6b01ef61}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!stat\_sub@{stat\_sub}}
\index{stat\_sub@{stat\_sub}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{stat\_sub}{stat\_sub}}
{\footnotesize\ttfamily tilt\+\_\+head.\+Nav\+Head\+Controller.\+stat\+\_\+sub}



Definition at line 64 of file tilt\+\_\+head.\+py.

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a0c654c4e7c47c4d2e29149c31a520dee}\label{classtilt__head_1_1NavHeadController_a0c654c4e7c47c4d2e29149c31a520dee}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!x@{x}}
\index{x@{x}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{x}{x}}
{\footnotesize\ttfamily tilt\+\_\+head.\+Nav\+Head\+Controller.\+x}



Definition at line 54 of file tilt\+\_\+head.\+py.



Referenced by tilt\+\_\+head.\+Nav\+Head\+Controller.\+loop(), and tilt\+\_\+head.\+Nav\+Head\+Controller.\+plan\+Callback().

\mbox{\Hypertarget{classtilt__head_1_1NavHeadController_a9ba05500db3e0167feacf3ccf9382874}\label{classtilt__head_1_1NavHeadController_a9ba05500db3e0167feacf3ccf9382874}} 
\index{tilt\_head.NavHeadController@{tilt\_head.NavHeadController}!y@{y}}
\index{y@{y}!tilt\_head.NavHeadController@{tilt\_head.NavHeadController}}
\doxysubsubsection{\texorpdfstring{y}{y}}
{\footnotesize\ttfamily tilt\+\_\+head.\+Nav\+Head\+Controller.\+y}



Definition at line 55 of file tilt\+\_\+head.\+py.



Referenced by tilt\+\_\+head.\+Nav\+Head\+Controller.\+loop(), and tilt\+\_\+head.\+Nav\+Head\+Controller.\+plan\+Callback().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
submodules/fetch\+\_\+ros/fetch\+\_\+navigation/scripts/\mbox{\hyperlink{tilt__head_8py}{tilt\+\_\+head.\+py}}\end{DoxyCompactItemize}
