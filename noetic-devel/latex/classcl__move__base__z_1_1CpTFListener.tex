\hypertarget{classcl__move__base__z_1_1CpTFListener}{}\doxysection{cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+T\+F\+Listener Class Reference}
\label{classcl__move__base__z_1_1CpTFListener}\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}


{\ttfamily \#include $<$cp\+\_\+tf\+\_\+listener.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+T\+F\+Listener\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CpTFListener__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+T\+F\+Listener\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CpTFListener__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}{Cp\+T\+F\+Listener}} ()
\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}{update}} () override
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}{get\+Last\+Transform}} (std\+::string \&target\+Pose\+Frame\+Name, std\+::string \&reference\+Base\+Frame, geometry\+\_\+msgs\+::\+Pose \&out)
\item 
std\+::future$<$ geometry\+\_\+msgs\+::\+Pose $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a26977736e54c6f00e55e3b8e7247fa85}{wait\+For\+Next\+Transform}} (std\+::string \&target\+Name, std\+::string \&reference\+Base\+Frame)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::mutex \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}{m\+\_\+mutex\+\_\+}}
\item 
std\+::list$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structcl__move__base__z_1_1TfPoseTrack}{Tf\+Pose\+Track}} $>$ $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}{pose\+Tracks\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::shared\+\_\+ptr$<$ tf\+::\+Transform\+Listener $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}{tf\+Listener\+\_\+}}
\item 
static std\+::mutex \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listener\+Mutex\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 33 of file cp\+\_\+tf\+\_\+listener.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}\label{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!CpTFListener@{CpTFListener}}
\index{CpTFListener@{CpTFListener}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{CpTFListener()}{CpTFListener()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::\+Cp\+T\+F\+Listener (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}\label{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!getLastTransform@{getLastTransform}}
\index{getLastTransform@{getLastTransform}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{getLastTransform()}{getLastTransform()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::get\+Last\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Pose\+Frame\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame,  }\item[{geometry\+\_\+msgs\+::\+Pose \&}]{out }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 66 of file cp\+\_\+tf\+\_\+listener.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{67         \{}
\DoxyCodeLine{68             tracks\_}

\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}\label{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!update@{update}}
\index{update@{update}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily virtual void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsmacc_1_1ISmaccUpdatable_a84ee0520cbefdb1d412bed54650b028e}{smacc\+::\+I\+Smacc\+Updatable}}.



Definition at line 38 of file cp\+\_\+tf\+\_\+listener.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{40                 \{}
\DoxyCodeLine{41                     \{}
\DoxyCodeLine{42                         std::lock\_guard<std::mutex> lock(\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listenerMutex\_}});}
\DoxyCodeLine{43                         \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}{tfListener\_}}-\/>lookupTransform(poseTrack-\/>referenceBaseFrame\_,poseTrack-\/>targetPoseFrame\_,}
\DoxyCodeLine{44                                                     ros::Time(0), transform);}
\DoxyCodeLine{45                     \}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47                     \{}
\DoxyCodeLine{48                         std::lock\_guard<std::mutex> guard(\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}{m\_mutex\_}});}
\DoxyCodeLine{49                         tf::poseTFToMsg(transform, poseTrack-\/>pose\_.pose);}
\DoxyCodeLine{50                         poseTrack-\/>pose\_.header.stamp = transform.stamp\_;}
\DoxyCodeLine{51                         poseTrack-\/>pose\_.header.frame\_id = poseTrack-\/>referenceBaseFrame\_;}
\DoxyCodeLine{52                         poseTrack-\/>isInitialized = \textcolor{keyword}{true};}
\DoxyCodeLine{53                     \}}
\DoxyCodeLine{54                 \}}
\DoxyCodeLine{55                 \textcolor{keywordflow}{catch} (tf::TransformException ex)}
\DoxyCodeLine{56                 \{}
\DoxyCodeLine{57                     ROS\_ERROR\_STREAM\_THROTTLE(1, \textcolor{stringliteral}{"[Component pose] ("} << poseFrameName\_ << \textcolor{stringliteral}{"/["} << referenceFrame\_ << \textcolor{stringliteral}{"] ) is failing on pose update : "} << ex.what());}
\DoxyCodeLine{58                 \}}
\DoxyCodeLine{59             \}}
\DoxyCodeLine{60         \}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62         \textcolor{keywordtype}{void} \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}{getLastTransform}}(std::string \&targetPoseFrameName, std::string \&referenceBaseFrame, geometry\_msgs::Pose \&out)}
\DoxyCodeLine{63         \{}
\DoxyCodeLine{64         \}}

\end{DoxyCode}


References listener\+Mutex\+\_\+, m\+\_\+mutex\+\_\+, and tf\+Listener\+\_\+.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a26977736e54c6f00e55e3b8e7247fa85}\label{classcl__move__base__z_1_1CpTFListener_a26977736e54c6f00e55e3b8e7247fa85}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!waitForNextTransform@{waitForNextTransform}}
\index{waitForNextTransform@{waitForNextTransform}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{waitForNextTransform()}{waitForNextTransform()}}
{\footnotesize\ttfamily std\+::future$<$geometry\+\_\+msgs\+::\+Pose$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::wait\+For\+Next\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 70 of file cp\+\_\+tf\+\_\+listener.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{71            :}
\DoxyCodeLine{72         \textcolor{keyword}{static} std::shared\_ptr<tf::TransformListener> \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}{tfListener\_}};}
\DoxyCodeLine{73         \textcolor{keyword}{static} std::mutex \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listenerMutex\_}};}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}\label{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!listenerMutex\_@{listenerMutex\_}}
\index{listenerMutex\_@{listenerMutex\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{listenerMutex\_}{listenerMutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::listener\+Mutex\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 77 of file cp\+\_\+tf\+\_\+listener.\+h.



Referenced by update().

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}\label{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!m\_mutex\_@{m\_mutex\_}}
\index{m\_mutex\_@{m\_mutex\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{m\_mutex\_}{m\_mutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::m\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 79 of file cp\+\_\+tf\+\_\+listener.\+h.



Referenced by update().

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}\label{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!poseTracks\_@{poseTracks\_}}
\index{poseTracks\_@{poseTracks\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{poseTracks\_}{poseTracks\_}}
{\footnotesize\ttfamily std\+::list$<$std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{structcl__move__base__z_1_1TfPoseTrack}{Tf\+Pose\+Track}}$>$ $>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::pose\+Tracks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 80 of file cp\+\_\+tf\+\_\+listener.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}\label{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!tfListener\_@{tfListener\_}}
\index{tfListener\_@{tfListener\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{tfListener\_}{tfListener\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$tf\+::\+Transform\+Listener$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+T\+F\+Listener\+::tf\+Listener\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 76 of file cp\+\_\+tf\+\_\+listener.\+h.



Referenced by update().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/components/\mbox{\hyperlink{cp__tf__listener_8h}{cp\+\_\+tf\+\_\+listener.\+h}}\end{DoxyCompactItemize}
