\hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner}{}\doxysection{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::Backward\+Global\+Planner Class Reference}
\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner}\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}


{\ttfamily \#include $<$backward\+\_\+global\+\_\+planner.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::Backward\+Global\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=259pt]{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::Backward\+Global\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a20888ea9b40dcbd86b8b12310a2ad60b}{Backward\+Global\+Planner}} ()
\item 
virtual \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a2011b04d7fd3fa18ab940779ee6d6d8c}{$\sim$\+Backward\+Global\+Planner}} ()
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3f1f3c81e7c52c9305544fd793741a41}{make\+Plan}} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&start, const geometry\+\_\+msgs\+::\+Pose\+Stamped \&goal, std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&plan)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a2fe289017031d072f4ac32d017fe989d}{make\+Plan}} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&start, const geometry\+\_\+msgs\+::\+Pose\+Stamped \&goal, std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&plan, double \&cost)
\item 
virtual \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a1b4d2eb717f9f63f2309def37c6ce297}{create\+Default\+Backward\+Path}} (const geometry\+\_\+msgs\+::\+Pose\+Stamped \&start, const geometry\+\_\+msgs\+::\+Pose\+Stamped \&goal, std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&plan)
\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_af17978c77ec96d4ecc26b3a6ba75e1e9}{initialize}} (std\+::string name, costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a7103c15e6540a514acd421c3c6e194a4}{costmap\+\_\+ros\+\_\+}}) override
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a515bde5bfb3ae548f3e19209df1a48b0}{on\+Forward\+Trail\+Msg}} (const nav\+\_\+msgs\+::\+Path\+::\+Const\+Ptr \&trail\+Message)
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3c6784cad10fdadf28323380fe3d6d2b}{publish\+Goal\+Marker}} (const geometry\+\_\+msgs\+::\+Pose \&pose, double r, double g, double b)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
ros\+::\+Node\+Handle \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_adeb0df38d8dcde919b732724420a401f}{nh\+\_\+}}
\item 
ros\+::\+Publisher \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a561eab039140948c52ec928c191f3f43}{plan\+Pub\+\_\+}}
\item 
ros\+::\+Publisher \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a6f80f7041c8cdc93e1f3dfd0e723654a}{markers\+Pub\+\_\+}}
\item 
costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$ \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a7103c15e6540a514acd421c3c6e194a4}{costmap\+\_\+ros\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a045290b931b816b84ced2cfb6c39fcce}{skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a066d160f78bebee9fc5b5251016f1cd0}{pures\+Spinning\+Rad\+Step\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 25 of file backward\+\_\+global\+\_\+planner.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a20888ea9b40dcbd86b8b12310a2ad60b}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a20888ea9b40dcbd86b8b12310a2ad60b}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!BackwardGlobalPlanner@{BackwardGlobalPlanner}}
\index{BackwardGlobalPlanner@{BackwardGlobalPlanner}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{BackwardGlobalPlanner()}{BackwardGlobalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::\+Backward\+Global\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Constructor() 

Definition at line 32 of file backward\+\_\+global\+\_\+planner.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{33 \{}
\DoxyCodeLine{34     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a045290b931b816b84ced2cfb6c39fcce}{skip\_straight\_motion\_distance\_}} = 0.2;}
\DoxyCodeLine{35 \}}

\end{DoxyCode}


References skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a2011b04d7fd3fa18ab940779ee6d6d8c}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a2011b04d7fd3fa18ab940779ee6d6d8c}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!````~BackwardGlobalPlanner@{$\sim$BackwardGlobalPlanner}}
\index{````~BackwardGlobalPlanner@{$\sim$BackwardGlobalPlanner}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{$\sim$BackwardGlobalPlanner()}{~BackwardGlobalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::$\sim$\+Backward\+Global\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Definition at line 37 of file backward\+\_\+global\+\_\+planner.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{38 \{}
\DoxyCodeLine{39     \textcolor{comment}{//clear}}
\DoxyCodeLine{40     nav\_msgs::Path planMsg;}
\DoxyCodeLine{41     planMsg.header.stamp = ros::Time::now();}
\DoxyCodeLine{42     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a561eab039140948c52ec928c191f3f43}{planPub\_}}.publish(planMsg);}
\DoxyCodeLine{43 \}}

\end{DoxyCode}


References plan\+Pub\+\_\+.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a1b4d2eb717f9f63f2309def37c6ce297}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a1b4d2eb717f9f63f2309def37c6ce297}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!createDefaultBackwardPath@{createDefaultBackwardPath}}
\index{createDefaultBackwardPath@{createDefaultBackwardPath}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{createDefaultBackwardPath()}{createDefaultBackwardPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::create\+Default\+Backward\+Path (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{start,  }\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{goal,  }\item[{std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{plan }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

default\+Backward\+Path() 

Definition at line 105 of file backward\+\_\+global\+\_\+planner.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{107 \{}
\DoxyCodeLine{108     \textcolor{keyword}{auto} q = start.pose.orientation;}
\DoxyCodeLine{109 }
\DoxyCodeLine{110     geometry\_msgs::PoseStamped \mbox{\hyperlink{namespacedemo_af3b79916997ed33739583b8acea7cf7b}{pose}};}
\DoxyCodeLine{111     \mbox{\hyperlink{namespacedemo_af3b79916997ed33739583b8acea7cf7b}{pose}} = start;}
\DoxyCodeLine{112     }
\DoxyCodeLine{113     \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacepick__and__place_a9d56acae898189f28c9b80e8779f7842}{dx}} = start.pose.position.x -\/ \mbox{\hyperlink{namespaceget__controller__state_a945e8678050edb331915cd734a90511e}{goal}}.pose.position.x;}
\DoxyCodeLine{114     \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacepick__and__place_a61938a48c502f643a1c3f7a1e18ca0be}{dy}} = start.pose.position.y -\/ \mbox{\hyperlink{namespaceget__controller__state_a945e8678050edb331915cd734a90511e}{goal}}.pose.position.y;}
\DoxyCodeLine{115 }
\DoxyCodeLine{116     \textcolor{keywordtype}{double} length = sqrt(\mbox{\hyperlink{namespacepick__and__place_a9d56acae898189f28c9b80e8779f7842}{dx}} * \mbox{\hyperlink{namespacepick__and__place_a9d56acae898189f28c9b80e8779f7842}{dx}} + \mbox{\hyperlink{namespacepick__and__place_a61938a48c502f643a1c3f7a1e18ca0be}{dy}} * \mbox{\hyperlink{namespacepick__and__place_a61938a48c502f643a1c3f7a1e18ca0be}{dy}});}
\DoxyCodeLine{117 }
\DoxyCodeLine{118     geometry\_msgs::PoseStamped prevState;}
\DoxyCodeLine{119     \textcolor{keywordflow}{if} (length > \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a045290b931b816b84ced2cfb6c39fcce}{skip\_straight\_motion\_distance\_}})}
\DoxyCodeLine{120     \{}
\DoxyCodeLine{121         \textcolor{comment}{// skip initial pure spinning and initial straight motion}}
\DoxyCodeLine{122         \textcolor{comment}{//ROS\_INFO("1 -\/ heading to goal position pure spinning");}}
\DoxyCodeLine{123         \textcolor{keywordtype}{double} heading\_direction = atan2(\mbox{\hyperlink{namespacepick__and__place_a61938a48c502f643a1c3f7a1e18ca0be}{dy}}, \mbox{\hyperlink{namespacepick__and__place_a9d56acae898189f28c9b80e8779f7842}{dx}});}
\DoxyCodeLine{124         \textcolor{keywordtype}{double} startyaw = tf::getYaw(q);}
\DoxyCodeLine{125         \textcolor{keywordtype}{double} offset = angles::shortest\_angular\_distance(startyaw, heading\_direction);}
\DoxyCodeLine{126         heading\_direction = startyaw + offset;}
\DoxyCodeLine{127 }
\DoxyCodeLine{128         prevState = \mbox{\hyperlink{namespacecl__move__base__z_ac774e138510eb7b5e0015be1f7709e19}{cl\_move\_base\_z::makePureSpinningSubPlan}}(start, heading\_direction, plan, \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a066d160f78bebee9fc5b5251016f1cd0}{puresSpinningRadStep\_}});}
\DoxyCodeLine{129         \textcolor{comment}{//ROS\_INFO("2 -\/ going forward keep orientation pure straight");}}
\DoxyCodeLine{130 }
\DoxyCodeLine{131         prevState = \mbox{\hyperlink{namespacecl__move__base__z_a84f0875e9e553c2795894cc9c21b2b3c}{cl\_move\_base\_z::makePureStraightSubPlan}}(prevState, \mbox{\hyperlink{namespaceget__controller__state_a945e8678050edb331915cd734a90511e}{goal}}.pose.position, length, plan);}
\DoxyCodeLine{132     \}}
\DoxyCodeLine{133     \textcolor{keywordflow}{else}}
\DoxyCodeLine{134     \{}
\DoxyCodeLine{135         prevState = start;}
\DoxyCodeLine{136     \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138     ROS\_WARN\_STREAM( \textcolor{stringliteral}{"[BackwardGlobalPlanner ] backward global plan size:  "} <<plan.size());}
\DoxyCodeLine{139 \}}

\end{DoxyCode}


References pick\+\_\+and\+\_\+place\+::dx, pick\+\_\+and\+\_\+place\+::dy, get\+\_\+controller\+\_\+state\+::goal, cl\+\_\+move\+\_\+base\+\_\+z\+::make\+Pure\+Spinning\+Sub\+Plan(), cl\+\_\+move\+\_\+base\+\_\+z\+::make\+Pure\+Straight\+Sub\+Plan(), demo\+::pose, pures\+Spinning\+Rad\+Step\+\_\+, and skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+.



Referenced by make\+Plan().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a1b4d2eb717f9f63f2309def37c6ce297_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a1b4d2eb717f9f63f2309def37c6ce297_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_af17978c77ec96d4ecc26b3a6ba75e1e9}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_af17978c77ec96d4ecc26b3a6ba75e1e9}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!initialize@{initialize}}
\index{initialize@{initialize}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::initialize (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS $\ast$}]{costmap\+\_\+ros }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_af17978c77ec96d4ecc26b3a6ba75e1e9}{initialize()}} 

Definition at line 50 of file backward\+\_\+global\+\_\+planner.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{51 \{}
\DoxyCodeLine{52     \textcolor{comment}{//ROS\_INFO\_NAMED("Backwards", "BackwardGlobalPlanner initialize");}}
\DoxyCodeLine{53     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a7103c15e6540a514acd421c3c6e194a4}{costmap\_ros\_}} = costmap\_ros;}
\DoxyCodeLine{54     \textcolor{comment}{//ROS\_WARN\_NAMED("Backwards", "initializating global planner, costmap address: \%ld", (long)costmap\_ros);}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56     ros::NodeHandle nh;}
\DoxyCodeLine{57     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a561eab039140948c52ec928c191f3f43}{planPub\_}} = nh.advertise<nav\_msgs::Path>(\textcolor{stringliteral}{"backward\_planner/global\_plan"}, 1);}
\DoxyCodeLine{58     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a6f80f7041c8cdc93e1f3dfd0e723654a}{markersPub\_}} = nh.advertise<visualization\_msgs::MarkerArray>(\textcolor{stringliteral}{"backward\_planner/markers"}, 1);}
\DoxyCodeLine{59 \}}

\end{DoxyCode}


References costmap\+\_\+ros\+\_\+, markers\+Pub\+\_\+, and plan\+Pub\+\_\+.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3f1f3c81e7c52c9305544fd793741a41}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3f1f3c81e7c52c9305544fd793741a41}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!makePlan@{makePlan}}
\index{makePlan@{makePlan}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{makePlan()}{makePlan()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::make\+Plan (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{start,  }\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{goal,  }\item[{std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{plan }\end{DoxyParamCaption})}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3f1f3c81e7c52c9305544fd793741a41}{make\+Plan()}} 

Definition at line 146 of file backward\+\_\+global\+\_\+planner.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{148 \{}
\DoxyCodeLine{149     \textcolor{comment}{//ROS\_WARN\_NAMED("Backwards", "Backwards global planner: Generating global plan ");}}
\DoxyCodeLine{150     \textcolor{comment}{//ROS\_WARN\_NAMED("Backwards", "Clearing...");}}
\DoxyCodeLine{151 }
\DoxyCodeLine{152     plan.clear();}
\DoxyCodeLine{153 }
\DoxyCodeLine{154     this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a1b4d2eb717f9f63f2309def37c6ce297}{createDefaultBackwardPath}}(start, \mbox{\hyperlink{namespaceget__controller__state_a945e8678050edb331915cd734a90511e}{goal}}, plan);}
\DoxyCodeLine{155     \textcolor{comment}{//this-\/>createPureSpiningAndStragihtLineBackwardPath(start, goal, plan);}}
\DoxyCodeLine{156 }
\DoxyCodeLine{157     \textcolor{comment}{//ROS\_INFO\_STREAM(" start -\/ " << start);}}
\DoxyCodeLine{158     \textcolor{comment}{//ROS\_INFO\_STREAM(" end -\/ " << goal.pose.position);}}
\DoxyCodeLine{159 }
\DoxyCodeLine{160     \textcolor{comment}{//ROS\_INFO("3 -\/ heading to goal orientation");}}
\DoxyCodeLine{161     \textcolor{comment}{//double goalOrientation = angles::normalize\_angle(tf::getYaw(goal.pose.orientation));}}
\DoxyCodeLine{162     \textcolor{comment}{//cl\_move\_base\_z::makePureSpinningSubPlan(prevState,goalOrientation,plan);}}
\DoxyCodeLine{163 }
\DoxyCodeLine{164     \textcolor{comment}{//ROS\_WARN\_STREAM( "MAKE PLAN INVOKED, plan size:"<< plan.size());}}
\DoxyCodeLine{165     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3c6784cad10fdadf28323380fe3d6d2b}{publishGoalMarker}}(\mbox{\hyperlink{namespaceget__controller__state_a945e8678050edb331915cd734a90511e}{goal}}.pose, 1.0, 0, 1.0);}
\DoxyCodeLine{166 }
\DoxyCodeLine{167     nav\_msgs::Path planMsg;}
\DoxyCodeLine{168     planMsg.poses = plan;}
\DoxyCodeLine{169     planMsg.header.frame\_id = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a7103c15e6540a514acd421c3c6e194a4}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{170 }
\DoxyCodeLine{171         \textcolor{comment}{// check plan rejection}}
\DoxyCodeLine{172     \textcolor{keywordtype}{bool} acceptedGlobalPlan = \textcolor{keyword}{true};}
\DoxyCodeLine{173 }
\DoxyCodeLine{174     \textcolor{comment}{// static const unsigned char NO\_INFORMATION = 255;}}
\DoxyCodeLine{175     \textcolor{comment}{// static const unsigned char LETHAL\_OBSTACLE = 254;}}
\DoxyCodeLine{176     \textcolor{comment}{// static const unsigned char INSCRIBED\_INFLATED\_OBSTACLE = 253;}}
\DoxyCodeLine{177     \textcolor{comment}{// static const unsigned char FREE\_SPACE = 0;}}
\DoxyCodeLine{178 }
\DoxyCodeLine{179     costmap\_2d::Costmap2D *costmap2d = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a7103c15e6540a514acd421c3c6e194a4}{costmap\_ros\_}}-\/>getCostmap();}
\DoxyCodeLine{180     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&p : plan)}
\DoxyCodeLine{181     \{}
\DoxyCodeLine{182         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} mx, my;}
\DoxyCodeLine{183         costmap2d-\/>worldToMap(p.pose.position.x, p.pose.position.y, mx, my);}
\DoxyCodeLine{184         \textcolor{keyword}{auto} cost = costmap2d-\/>getCost(mx, my);}
\DoxyCodeLine{185 }
\DoxyCodeLine{186         \textcolor{keywordflow}{if} (cost >= costmap\_2d::INSCRIBED\_INFLATED\_OBSTACLE)}
\DoxyCodeLine{187         \{}
\DoxyCodeLine{188             acceptedGlobalPlan = \textcolor{keyword}{false};}
\DoxyCodeLine{189             \textcolor{keywordflow}{break};}
\DoxyCodeLine{190         \}}
\DoxyCodeLine{191     \}}
\DoxyCodeLine{192     }
\DoxyCodeLine{193     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a561eab039140948c52ec928c191f3f43}{planPub\_}}.publish(planMsg);}
\DoxyCodeLine{194 }
\DoxyCodeLine{195     \textcolor{comment}{// this was previously set to size() <= 1, but a plan with a single point is also a valid plan (the goal)}}
\DoxyCodeLine{196     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{197 \}}

\end{DoxyCode}


References costmap\+\_\+ros\+\_\+, create\+Default\+Backward\+Path(), get\+\_\+controller\+\_\+state\+::goal, plan\+Pub\+\_\+, and publish\+Goal\+Marker().



Referenced by make\+Plan().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3f1f3c81e7c52c9305544fd793741a41_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3f1f3c81e7c52c9305544fd793741a41_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a2fe289017031d072f4ac32d017fe989d}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a2fe289017031d072f4ac32d017fe989d}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!makePlan@{makePlan}}
\index{makePlan@{makePlan}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{makePlan()}{makePlan()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::make\+Plan (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{start,  }\item[{const geometry\+\_\+msgs\+::\+Pose\+Stamped \&}]{goal,  }\item[{std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{plan,  }\item[{double \&}]{cost }\end{DoxyParamCaption})}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3f1f3c81e7c52c9305544fd793741a41}{make\+Plan()}} 

Definition at line 204 of file backward\+\_\+global\+\_\+planner.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{207 \{}
\DoxyCodeLine{208     cost = 0;}
\DoxyCodeLine{209     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3f1f3c81e7c52c9305544fd793741a41}{makePlan}}(start, \mbox{\hyperlink{namespaceget__controller__state_a945e8678050edb331915cd734a90511e}{goal}}, plan);}
\DoxyCodeLine{210     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{211 \}}

\end{DoxyCode}


References get\+\_\+controller\+\_\+state\+::goal, and make\+Plan().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a2fe289017031d072f4ac32d017fe989d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a515bde5bfb3ae548f3e19209df1a48b0}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a515bde5bfb3ae548f3e19209df1a48b0}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!onForwardTrailMsg@{onForwardTrailMsg}}
\index{onForwardTrailMsg@{onForwardTrailMsg}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{onForwardTrailMsg()}{onForwardTrailMsg()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::on\+Forward\+Trail\+Msg (\begin{DoxyParamCaption}\item[{const nav\+\_\+msgs\+::\+Path\+::\+Const\+Ptr \&}]{trail\+Message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3c6784cad10fdadf28323380fe3d6d2b}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3c6784cad10fdadf28323380fe3d6d2b}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!publishGoalMarker@{publishGoalMarker}}
\index{publishGoalMarker@{publishGoalMarker}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{publishGoalMarker()}{publishGoalMarker()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::publish\+Goal\+Marker (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::\+Pose \&}]{pose,  }\item[{double}]{r,  }\item[{double}]{g,  }\item[{double}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3c6784cad10fdadf28323380fe3d6d2b}{publish\+Goal\+Marker()}} 

Definition at line 66 of file backward\+\_\+global\+\_\+planner.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{67 \{}
\DoxyCodeLine{68     \textcolor{keywordtype}{double} phi = tf::getYaw(\mbox{\hyperlink{namespacedemo_af3b79916997ed33739583b8acea7cf7b}{pose}}.orientation);}
\DoxyCodeLine{69     visualization\_msgs::Marker marker;}
\DoxyCodeLine{70     marker.header.frame\_id = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a7103c15e6540a514acd421c3c6e194a4}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{71     marker.header.stamp = ros::Time::now();}
\DoxyCodeLine{72     marker.ns = \textcolor{stringliteral}{"my\_namespace2"};}
\DoxyCodeLine{73     marker.id = 0;}
\DoxyCodeLine{74     marker.type = visualization\_msgs::Marker::ARROW;}
\DoxyCodeLine{75     marker.action = visualization\_msgs::Marker::ADD;}
\DoxyCodeLine{76     marker.scale.x = 0.1;}
\DoxyCodeLine{77     marker.scale.y = 0.3;}
\DoxyCodeLine{78     marker.scale.z = 0.1;}
\DoxyCodeLine{79     marker.color.a = 1.0;}
\DoxyCodeLine{80     marker.color.r = \mbox{\hyperlink{namespacefake__cube__perception__node_a36e88703ab69fd35065e8a8d9344903e}{r}};}
\DoxyCodeLine{81     marker.color.g = g;}
\DoxyCodeLine{82     marker.color.b = b;}
\DoxyCodeLine{83 }
\DoxyCodeLine{84     geometry\_msgs::Point start, end;}
\DoxyCodeLine{85     start.x = \mbox{\hyperlink{namespacedemo_af3b79916997ed33739583b8acea7cf7b}{pose}}.position.x;}
\DoxyCodeLine{86     start.y = \mbox{\hyperlink{namespacedemo_af3b79916997ed33739583b8acea7cf7b}{pose}}.position.y;}
\DoxyCodeLine{87 }
\DoxyCodeLine{88     end.x = \mbox{\hyperlink{namespacedemo_af3b79916997ed33739583b8acea7cf7b}{pose}}.position.x + 0.5 * cos(phi);}
\DoxyCodeLine{89     end.y = \mbox{\hyperlink{namespacedemo_af3b79916997ed33739583b8acea7cf7b}{pose}}.position.y + 0.5 * sin(phi);}
\DoxyCodeLine{90 }
\DoxyCodeLine{91     marker.points.push\_back(start);}
\DoxyCodeLine{92     marker.points.push\_back(end);}
\DoxyCodeLine{93 }
\DoxyCodeLine{94     visualization\_msgs::MarkerArray ma;}
\DoxyCodeLine{95     ma.markers.push\_back(marker);}
\DoxyCodeLine{96 }
\DoxyCodeLine{97     \mbox{\hyperlink{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a6f80f7041c8cdc93e1f3dfd0e723654a}{markersPub\_}}.publish(ma);}
\DoxyCodeLine{98 \}}

\end{DoxyCode}


References costmap\+\_\+ros\+\_\+, markers\+Pub\+\_\+, demo\+::pose, and fake\+\_\+cube\+\_\+perception\+\_\+node\+::r.



Referenced by make\+Plan().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a3c6784cad10fdadf28323380fe3d6d2b_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a7103c15e6540a514acd421c3c6e194a4}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a7103c15e6540a514acd421c3c6e194a4}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!costmap\_ros\_@{costmap\_ros\_}}
\index{costmap\_ros\_@{costmap\_ros\_}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{costmap\_ros\_}{costmap\_ros\_}}
{\footnotesize\ttfamily costmap\+\_\+2d\+::\+Costmap2\+D\+R\+OS$\ast$ cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::costmap\+\_\+ros\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 55 of file backward\+\_\+global\+\_\+planner.\+h.



Referenced by initialize(), make\+Plan(), and publish\+Goal\+Marker().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a6f80f7041c8cdc93e1f3dfd0e723654a}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a6f80f7041c8cdc93e1f3dfd0e723654a}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!markersPub\_@{markersPub\_}}
\index{markersPub\_@{markersPub\_}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{markersPub\_}{markersPub\_}}
{\footnotesize\ttfamily ros\+::\+Publisher cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::markers\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 53 of file backward\+\_\+global\+\_\+planner.\+h.



Referenced by initialize(), and publish\+Goal\+Marker().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_adeb0df38d8dcde919b732724420a401f}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_adeb0df38d8dcde919b732724420a401f}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!nh\_@{nh\_}}
\index{nh\_@{nh\_}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{nh\_}{nh\_}}
{\footnotesize\ttfamily ros\+::\+Node\+Handle cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::nh\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 49 of file backward\+\_\+global\+\_\+planner.\+h.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a561eab039140948c52ec928c191f3f43}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a561eab039140948c52ec928c191f3f43}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!planPub\_@{planPub\_}}
\index{planPub\_@{planPub\_}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{planPub\_}{planPub\_}}
{\footnotesize\ttfamily ros\+::\+Publisher cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::plan\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 51 of file backward\+\_\+global\+\_\+planner.\+h.



Referenced by initialize(), make\+Plan(), and $\sim$\+Backward\+Global\+Planner().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a066d160f78bebee9fc5b5251016f1cd0}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a066d160f78bebee9fc5b5251016f1cd0}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!puresSpinningRadStep\_@{puresSpinningRadStep\_}}
\index{puresSpinningRadStep\_@{puresSpinningRadStep\_}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{puresSpinningRadStep\_}{puresSpinningRadStep\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::pures\+Spinning\+Rad\+Step\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 63 of file backward\+\_\+global\+\_\+planner.\+h.



Referenced by create\+Default\+Backward\+Path().

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a045290b931b816b84ced2cfb6c39fcce}\label{classcl__move__base__z_1_1backward__global__planner_1_1BackwardGlobalPlanner_a045290b931b816b84ced2cfb6c39fcce}} 
\index{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}!skip\_straight\_motion\_distance\_@{skip\_straight\_motion\_distance\_}}
\index{skip\_straight\_motion\_distance\_@{skip\_straight\_motion\_distance\_}!cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner@{cl\_move\_base\_z::backward\_global\_planner::BackwardGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{skip\_straight\_motion\_distance\_}{skip\_straight\_motion\_distance\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+global\+\_\+planner\+::\+Backward\+Global\+Planner\+::skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 61 of file backward\+\_\+global\+\_\+planner.\+h.



Referenced by Backward\+Global\+Planner(), and create\+Default\+Backward\+Path().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/backward\+\_\+global\+\_\+planner/include/backward\+\_\+global\+\_\+planner/\mbox{\hyperlink{backward__global__planner_8h}{backward\+\_\+global\+\_\+planner.\+h}}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/backward\+\_\+global\+\_\+planner/src/\mbox{\hyperlink{backward__global__planner_8cpp}{backward\+\_\+global\+\_\+planner.\+cpp}}\end{DoxyCompactItemize}
