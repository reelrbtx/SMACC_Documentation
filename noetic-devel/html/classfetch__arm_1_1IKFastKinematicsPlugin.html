<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SMACC: fetch_arm::IKFastKinematicsPlugin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SMACC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefetch__arm.html">fetch_arm</a></li><li class="navelem"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html">IKFastKinematicsPlugin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classfetch__arm_1_1IKFastKinematicsPlugin-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">fetch_arm::IKFastKinematicsPlugin Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for fetch_arm::IKFastKinematicsPlugin:</div>
<div class="dyncontent">
<div class="center"><img src="classfetch__arm_1_1IKFastKinematicsPlugin__inherit__graph.png" border="0" usemap="#fetch__arm_1_1IKFastKinematicsPlugin_inherit__map" alt="Inheritance graph"/></div>
<map name="fetch__arm_1_1IKFastKinematicsPlugin_inherit__map" id="fetch__arm_1_1IKFastKinematicsPlugin_inherit__map">
<area shape="rect" title=" " alt="" coords="5,131,223,751"/>
<area shape="rect" title=" " alt="" coords="11,5,217,83"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for fetch_arm::IKFastKinematicsPlugin:</div>
<div class="dyncontent">
<div class="center"><img src="classfetch__arm_1_1IKFastKinematicsPlugin__coll__graph.png" border="0" usemap="#fetch__arm_1_1IKFastKinematicsPlugin_coll__map" alt="Collaboration graph"/></div>
<map name="fetch__arm_1_1IKFastKinematicsPlugin_coll__map" id="fetch__arm_1_1IKFastKinematicsPlugin_coll__map">
<area shape="rect" title=" " alt="" coords="636,189,853,589"/>
<area shape="rect" title=" " alt="" coords="5,5,212,83"/>
<area shape="rect" title=" " alt="" coords="236,5,373,83"/>
<area shape="rect" title=" " alt="" coords="397,5,556,83"/>
<area shape="rect" title=" " alt="" coords="580,5,691,83"/>
<area shape="rect" title=" " alt="" coords="715,5,775,83"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="839,5,890,83"/>
<area shape="rect" title=" " alt="" coords="1035,5,1094,83"/>
<area shape="rect" title=" " alt="" coords="1195,5,1291,83"/>
<area shape="rect" title=" " alt="" coords="1373,5,1495,83"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a957ce62e7d99bd938c17d4dbdddfa706"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a957ce62e7d99bd938c17d4dbdddfa706">IKFastKinematicsPlugin</a> ()</td></tr>
<tr class="separator:a957ce62e7d99bd938c17d4dbdddfa706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40214ff942d1506207d812b75154a0f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a40214ff942d1506207d812b75154a0f3">getPositionIK</a> (const geometry_msgs::Pose &amp;ik_pose, const std::vector&lt; double &gt; &amp;ik_seed_state, std::vector&lt; double &gt; &amp;solution, moveit_msgs::MoveItErrorCodes &amp;error_code, const kinematics::KinematicsQueryOptions &amp;options=kinematics::KinematicsQueryOptions()) const override</td></tr>
<tr class="memdesc:a40214ff942d1506207d812b75154a0f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a desired pose of the end-effector, compute the joint angles to reach it.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a40214ff942d1506207d812b75154a0f3">More...</a><br /></td></tr>
<tr class="separator:a40214ff942d1506207d812b75154a0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d617664d189cb218e7929d72d6d7cbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0d617664d189cb218e7929d72d6d7cbc">getPositionIK</a> (const std::vector&lt; geometry_msgs::Pose &gt; &amp;ik_poses, const std::vector&lt; double &gt; &amp;ik_seed_state, std::vector&lt; std::vector&lt; double &gt;&gt; &amp;solutions, kinematics::KinematicsResult &amp;result, const kinematics::KinematicsQueryOptions &amp;options) const override</td></tr>
<tr class="memdesc:a0d617664d189cb218e7929d72d6d7cbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a desired pose of the end-effector, compute the set joint angles solutions that are able to reach it.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0d617664d189cb218e7929d72d6d7cbc">More...</a><br /></td></tr>
<tr class="separator:a0d617664d189cb218e7929d72d6d7cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5949cda80a64ebfdc9b1acd40e7c91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a7e5949cda80a64ebfdc9b1acd40e7c91">searchPositionIK</a> (const geometry_msgs::Pose &amp;ik_pose, const std::vector&lt; double &gt; &amp;ik_seed_state, double timeout, std::vector&lt; double &gt; &amp;solution, moveit_msgs::MoveItErrorCodes &amp;error_code, const kinematics::KinematicsQueryOptions &amp;options=kinematics::KinematicsQueryOptions()) const override</td></tr>
<tr class="memdesc:a7e5949cda80a64ebfdc9b1acd40e7c91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a desired pose of the end-effector, search for the joint angles required to reach it. This particular method is intended for "searching" for a solutions by stepping through the redundancy (or other numerical routines).  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a7e5949cda80a64ebfdc9b1acd40e7c91">More...</a><br /></td></tr>
<tr class="separator:a7e5949cda80a64ebfdc9b1acd40e7c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac037ee5d3c5309b075f89bd8da9cbd02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ac037ee5d3c5309b075f89bd8da9cbd02">searchPositionIK</a> (const geometry_msgs::Pose &amp;ik_pose, const std::vector&lt; double &gt; &amp;ik_seed_state, double timeout, const std::vector&lt; double &gt; &amp;consistency_limits, std::vector&lt; double &gt; &amp;solution, moveit_msgs::MoveItErrorCodes &amp;error_code, const kinematics::KinematicsQueryOptions &amp;options=kinematics::KinematicsQueryOptions()) const override</td></tr>
<tr class="memdesc:ac037ee5d3c5309b075f89bd8da9cbd02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a desired pose of the end-effector, search for the joint angles required to reach it. This particular method is intended for "searching" for a solutions by stepping through the redundancy (or other numerical routines).  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ac037ee5d3c5309b075f89bd8da9cbd02">More...</a><br /></td></tr>
<tr class="separator:ac037ee5d3c5309b075f89bd8da9cbd02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0549e44e00ed41c0432e33bc9b9b1c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad0549e44e00ed41c0432e33bc9b9b1c8">searchPositionIK</a> (const geometry_msgs::Pose &amp;ik_pose, const std::vector&lt; double &gt; &amp;ik_seed_state, double timeout, std::vector&lt; double &gt; &amp;solution, const IKCallbackFn &amp;solution_callback, moveit_msgs::MoveItErrorCodes &amp;error_code, const kinematics::KinematicsQueryOptions &amp;options=kinematics::KinematicsQueryOptions()) const override</td></tr>
<tr class="memdesc:ad0549e44e00ed41c0432e33bc9b9b1c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a desired pose of the end-effector, search for the joint angles required to reach it. This particular method is intended for "searching" for a solutions by stepping through the redundancy (or other numerical routines).  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad0549e44e00ed41c0432e33bc9b9b1c8">More...</a><br /></td></tr>
<tr class="separator:ad0549e44e00ed41c0432e33bc9b9b1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78674f0c81f66ec38471fab8f75c1d72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a78674f0c81f66ec38471fab8f75c1d72">searchPositionIK</a> (const geometry_msgs::Pose &amp;ik_pose, const std::vector&lt; double &gt; &amp;ik_seed_state, double timeout, const std::vector&lt; double &gt; &amp;consistency_limits, std::vector&lt; double &gt; &amp;solution, const IKCallbackFn &amp;solution_callback, moveit_msgs::MoveItErrorCodes &amp;error_code, const kinematics::KinematicsQueryOptions &amp;options=kinematics::KinematicsQueryOptions()) const override</td></tr>
<tr class="memdesc:a78674f0c81f66ec38471fab8f75c1d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a desired pose of the end-effector, search for the joint angles required to reach it. This particular method is intended for "searching" for a solutions by stepping through the redundancy (or other numerical routines). The consistency_limit specifies that only certain redundancy positions around those specified in the seed state are admissible and need to be searched.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a78674f0c81f66ec38471fab8f75c1d72">More...</a><br /></td></tr>
<tr class="separator:a78674f0c81f66ec38471fab8f75c1d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7211ee34bb6551d89101751f8675910b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a7211ee34bb6551d89101751f8675910b">getPositionFK</a> (const std::vector&lt; std::string &gt; &amp;link_names, const std::vector&lt; double &gt; &amp;joint_angles, std::vector&lt; geometry_msgs::Pose &gt; &amp;poses) const override</td></tr>
<tr class="memdesc:a7211ee34bb6551d89101751f8675910b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a set of joint angles and a set of links, compute their pose.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a7211ee34bb6551d89101751f8675910b">More...</a><br /></td></tr>
<tr class="separator:a7211ee34bb6551d89101751f8675910b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190aa0c0aff22504c8872c289d429504"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a190aa0c0aff22504c8872c289d429504">setSearchDiscretization</a> (const std::map&lt; unsigned int, double &gt; &amp;discretization)</td></tr>
<tr class="memdesc:a190aa0c0aff22504c8872c289d429504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the discretization value for the redundant joint.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a190aa0c0aff22504c8872c289d429504">More...</a><br /></td></tr>
<tr class="separator:a190aa0c0aff22504c8872c289d429504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bddbf1819e0520e27f20f752ce2d391"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a2bddbf1819e0520e27f20f752ce2d391">setRedundantJoints</a> (const std::vector&lt; unsigned int &gt; &amp;redundant_joint_indices) override</td></tr>
<tr class="memdesc:a2bddbf1819e0520e27f20f752ce2d391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrides the default method to prevent changing the redundant joints.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a2bddbf1819e0520e27f20f752ce2d391">More...</a><br /></td></tr>
<tr class="separator:a2bddbf1819e0520e27f20f752ce2d391"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abef26c516fd84d243b3a9097006e4cb6"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abef26c516fd84d243b3a9097006e4cb6">getJointNames</a> () const override</td></tr>
<tr class="separator:abef26c516fd84d243b3a9097006e4cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be14519224792f5d4fc366c57cf3a8a"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a4be14519224792f5d4fc366c57cf3a8a">getLinkNames</a> () const override</td></tr>
<tr class="separator:a4be14519224792f5d4fc366c57cf3a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79242ec31353f6045a71abbed2f7b815"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a79242ec31353f6045a71abbed2f7b815">initialize</a> (const moveit::core::RobotModel &amp;robot_model, const std::string &amp;group_name, const std::string &amp;base_frame, const std::vector&lt; std::string &gt; &amp;tip_frames, double search_discretization) override</td></tr>
<tr class="separator:a79242ec31353f6045a71abbed2f7b815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f2e31ecf817cee22d9363e5cbfe3c64"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0f2e31ecf817cee22d9363e5cbfe3c64">solve</a> (KDL::Frame &amp;pose_frame, const std::vector&lt; double &gt; &amp;vfree, <a class="el" href="classikfast_1_1IkSolutionList.html">IkSolutionList</a>&lt; IkReal &gt; &amp;solutions) const</td></tr>
<tr class="memdesc:a0f2e31ecf817cee22d9363e5cbfe3c64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the IK solver from IKFast.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0f2e31ecf817cee22d9363e5cbfe3c64">More...</a><br /></td></tr>
<tr class="separator:a0f2e31ecf817cee22d9363e5cbfe3c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99b8526cb66a792c278cfb0afdc06a34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a99b8526cb66a792c278cfb0afdc06a34">getSolution</a> (const <a class="el" href="classikfast_1_1IkSolutionList.html">IkSolutionList</a>&lt; IkReal &gt; &amp;solutions, int i, std::vector&lt; double &gt; &amp;solution) const</td></tr>
<tr class="memdesc:a99b8526cb66a792c278cfb0afdc06a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a specific solution from the set.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a99b8526cb66a792c278cfb0afdc06a34">More...</a><br /></td></tr>
<tr class="separator:a99b8526cb66a792c278cfb0afdc06a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4b4d9ba0a8279807777b7982f43f98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6d4b4d9ba0a8279807777b7982f43f98">getSolution</a> (const <a class="el" href="classikfast_1_1IkSolutionList.html">IkSolutionList</a>&lt; IkReal &gt; &amp;solutions, const std::vector&lt; double &gt; &amp;ik_seed_state, int i, std::vector&lt; double &gt; &amp;solution) const</td></tr>
<tr class="memdesc:a6d4b4d9ba0a8279807777b7982f43f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a specific solution from the set with joints rotated 360° to be near seed state where possible.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6d4b4d9ba0a8279807777b7982f43f98">More...</a><br /></td></tr>
<tr class="separator:a6d4b4d9ba0a8279807777b7982f43f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac321fb5ad126f6ca096ddfcb5b5a074d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ac321fb5ad126f6ca096ddfcb5b5a074d">enforceLimits</a> (double val, double min, double max) const</td></tr>
<tr class="memdesc:ac321fb5ad126f6ca096ddfcb5b5a074d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the value is outside of min/max then it tries to +/- 2 * pi to put the value into the range.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ac321fb5ad126f6ca096ddfcb5b5a074d">More...</a><br /></td></tr>
<tr class="separator:ac321fb5ad126f6ca096ddfcb5b5a074d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373a476a057b47a0516d43f9d0f2a575"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a373a476a057b47a0516d43f9d0f2a575">fillFreeParams</a> (int count, int *array)</td></tr>
<tr class="separator:a373a476a057b47a0516d43f9d0f2a575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ef3a6f3113a0ad268d24cea9350404"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a74ef3a6f3113a0ad268d24cea9350404">getCount</a> (int &amp;count, const int &amp;max_count, const int &amp;min_count) const</td></tr>
<tr class="separator:a74ef3a6f3113a0ad268d24cea9350404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630dd8b86f08d2672ad7a43a995e80e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a630dd8b86f08d2672ad7a43a995e80e6">sampleRedundantJoint</a> (kinematics::DiscretizationMethod method, std::vector&lt; double &gt; &amp;sampled_joint_vals) const</td></tr>
<tr class="memdesc:a630dd8b86f08d2672ad7a43a995e80e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">samples the designated redundant joint using the chosen discretization method  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a630dd8b86f08d2672ad7a43a995e80e6">More...</a><br /></td></tr>
<tr class="separator:a630dd8b86f08d2672ad7a43a995e80e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d8e8799dcc040f8ed7ebbab2cd68f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a20d8e8799dcc040f8ed7ebbab2cd68f7">computeRelativeTransform</a> (const std::string &amp;from, const std::string &amp;to, Eigen::Isometry3d &amp;transform, <a class="el" href="classbool.html">bool</a> &amp;differs_from_identity)</td></tr>
<tr class="memdesc:a20d8e8799dcc040f8ed7ebbab2cd68f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate that we can compute a fixed transform between from and to links.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a20d8e8799dcc040f8ed7ebbab2cd68f7">More...</a><br /></td></tr>
<tr class="separator:a20d8e8799dcc040f8ed7ebbab2cd68f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba28897043f901b8a417d95195dbe0f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#aba28897043f901b8a417d95195dbe0f3">transformToChainFrame</a> (const geometry_msgs::Pose &amp;ik_pose, KDL::Frame &amp;ik_pose_chain) const</td></tr>
<tr class="memdesc:aba28897043f901b8a417d95195dbe0f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transforms the input pose to the correct frame for the solver. This assumes that the group includes the entire solver chain and that any joints outside of the solver chain within the group are are fixed.  <a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#aba28897043f901b8a417d95195dbe0f3">More...</a><br /></td></tr>
<tr class="separator:aba28897043f901b8a417d95195dbe0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3d8f927c6629bcc0bd8244e926fa9cda"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a></td></tr>
<tr class="separator:a3d8f927c6629bcc0bd8244e926fa9cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d2ae7321dc674b4f409db28b757c30"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a></td></tr>
<tr class="separator:a38d2ae7321dc674b4f409db28b757c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b387ab4d79e8ebbdbccdc756b87e491"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a></td></tr>
<tr class="separator:a9b387ab4d79e8ebbdbccdc756b87e491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf879185a4db3fc9e985ff3fe7f1609"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a></td></tr>
<tr class="separator:a6bf879185a4db3fc9e985ff3fe7f1609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4555bbc0e1527d78f89afad21f232e20"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a4555bbc0e1527d78f89afad21f232e20">link_names_</a></td></tr>
<tr class="separator:a4555bbc0e1527d78f89afad21f232e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfdf0b26c3a440ca8776e7181a6cf7f6"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a></td></tr>
<tr class="separator:abfdf0b26c3a440ca8776e7181a6cf7f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6726bca8274d70d5344af4bdf546349"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a></td></tr>
<tr class="separator:ad6726bca8274d70d5344af4bdf546349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61fcdeb99f856099c8d29cf377de089c"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a61fcdeb99f856099c8d29cf377de089c">IKFAST_TIP_FRAME_</a> = &quot;wrist_roll_link&quot;</td></tr>
<tr class="separator:a61fcdeb99f856099c8d29cf377de089c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e78d49922170df649d5492cd67d1a1"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a23e78d49922170df649d5492cd67d1a1">IKFAST_BASE_FRAME_</a> = &quot;torso_lift_link&quot;</td></tr>
<tr class="separator:a23e78d49922170df649d5492cd67d1a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210a1c46609eb68c3781e027e0df7253"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a210a1c46609eb68c3781e027e0df7253">tip_transform_required_</a></td></tr>
<tr class="separator:a210a1c46609eb68c3781e027e0df7253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a965e0db42d5326012a591c0d277f9bd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a965e0db42d5326012a591c0d277f9bd7">base_transform_required_</a></td></tr>
<tr class="separator:a965e0db42d5326012a591c0d277f9bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e117a3013e82c9826810eec6d39d9b"><td class="memItemLeft" align="right" valign="top">Eigen::Isometry3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a62e117a3013e82c9826810eec6d39d9b">chain_base_to_group_base_</a></td></tr>
<tr class="separator:a62e117a3013e82c9826810eec6d39d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe06d61680f9512965875ed92239e33"><td class="memItemLeft" align="right" valign="top">Eigen::Isometry3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abbe06d61680f9512965875ed92239e33">group_tip_to_chain_tip_</a></td></tr>
<tr class="separator:abbe06d61680f9512965875ed92239e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd6e556315e890a097129395a028f9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6cd6e556315e890a097129395a028f9f">initialized_</a></td></tr>
<tr class="separator:a6cd6e556315e890a097129395a028f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d41ea64238340e1a9fa6b9066947907"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a> { &quot;ikfast&quot; }</td></tr>
<tr class="separator:a8d41ea64238340e1a9fa6b9066947907"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00154">154</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a957ce62e7d99bd938c17d4dbdddfa706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957ce62e7d99bd938c17d4dbdddfa706">&#9670;&nbsp;</a></span>IKFastKinematicsPlugin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fetch_arm::IKFastKinematicsPlugin::IKFastKinematicsPlugin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00197">197</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                           : <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>(<a class="code" href="fetch__arm__ikfast__solver_8cpp.html#a3e9541dde410904e043fe18701061b62">GetNumJoints</a>()), <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6cd6e556315e890a097129395a028f9f">initialized_</a>(<span class="keyword">false</span>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    srand(time(<span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    supported_methods_.push_back(kinematics::DiscretizationMethods::NO_DISCRETIZATION);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    supported_methods_.push_back(kinematics::DiscretizationMethods::ALL_DISCRETIZED);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    supported_methods_.push_back(kinematics::DiscretizationMethods::ALL_RANDOM_SAMPLED);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a20d8e8799dcc040f8ed7ebbab2cd68f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20d8e8799dcc040f8ed7ebbab2cd68f7">&#9670;&nbsp;</a></span>computeRelativeTransform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::computeRelativeTransform </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::Isometry3d &amp;&#160;</td>
          <td class="paramname"><em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a> &amp;&#160;</td>
          <td class="paramname"><em>differs_from_identity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate that we can compute a fixed transform between from and to links. </p>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00373">373</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;{</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  RobotStatePtr robot_state;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  robot_state.reset(<span class="keyword">new</span> RobotState(robot_model_));</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keyword">auto</span>* from_link = robot_state-&gt;getLinkModel(from);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keyword">auto</span>* to_link = robot_state-&gt;getLinkModel(to);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span> (!from_link)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Could not find frame &quot;</span> &lt;&lt; from);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (!to_link)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Could not find frame &quot;</span> &lt;&lt; to);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span> (!from_link || !to_link)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (robot_state-&gt;getRobotModel()-&gt;getRigidlyConnectedParentLinkModel(from_link) !=</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      robot_state-&gt;getRobotModel()-&gt;getRigidlyConnectedParentLinkModel(to_link))</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Link frames &quot;</span> &lt;&lt; from &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; to &lt;&lt; <span class="stringliteral">&quot; are not rigidly connected.&quot;</span>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  transform = robot_state-&gt;getGlobalLinkTransform(from_link).inverse() * robot_state-&gt;getGlobalLinkTransform(to_link);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  differs_from_identity = !transform.matrix().isIdentity();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac321fb5ad126f6ca096ddfcb5b5a074d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac321fb5ad126f6ca096ddfcb5b5a074d">&#9670;&nbsp;</a></span>enforceLimits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double fetch_arm::IKFastKinematicsPlugin::enforceLimits </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the value is outside of min/max then it tries to +/- 2 * pi to put the value into the range. </p>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00679">679</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;{</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// If the joint_value is greater than max subtract 2 * PI until it is less than the max</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">while</span> (joint_value &gt; max)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    joint_value -= 2 * M_PI;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// If the joint_value is less than the min, add 2 * PI until it is more than the min</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">while</span> (joint_value &lt; min)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    joint_value += 2 * M_PI;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordflow">return</span> joint_value;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a373a476a057b47a0516d43f9d0f2a575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a373a476a057b47a0516d43f9d0f2a575">&#9670;&nbsp;</a></span>fillFreeParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fetch_arm::IKFastKinematicsPlugin::fillFreeParams </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00695">695</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>.clear();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a>; ++i)</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>.push_back(array[i]);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="st__decide__destiny__table__action_8h_source.html#l00007">sm_fetch_two_table_whiskey_pour::count</a>.</p>

</div>
</div>
<a id="a74ef3a6f3113a0ad268d24cea9350404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74ef3a6f3113a0ad268d24cea9350404">&#9670;&nbsp;</a></span>getCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::getCount </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>max_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>min_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00702">702</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> &gt; 0)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">if</span> (-<a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> &gt;= min_count)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> = -<a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a>;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> + 1 &lt;= max_count)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> = <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> + 1;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    }</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">if</span> (1 - <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> &lt;= max_count)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> = 1 - <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> - 1 &gt;= min_count)</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> = <a class="code" href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">count</a> - 1;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="st__decide__destiny__table__action_8h_source.html#l00007">sm_fetch_two_table_whiskey_pour::count</a>.</p>

</div>
</div>
<a id="abef26c516fd84d243b3a9097006e4cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef26c516fd84d243b3a9097006e4cb6">&#9670;&nbsp;</a></span>getJointNames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;std::string&gt;&amp; fetch_arm::IKFastKinematicsPlugin::getJointNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00184">184</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4be14519224792f5d4fc366c57cf3a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be14519224792f5d4fc366c57cf3a8a">&#9670;&nbsp;</a></span>getLinkNames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;std::string&gt;&amp; fetch_arm::IKFastKinematicsPlugin::getLinkNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00188">188</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a4555bbc0e1527d78f89afad21f232e20">link_names_</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7211ee34bb6551d89101751f8675910b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7211ee34bb6551d89101751f8675910b">&#9670;&nbsp;</a></span>getPositionFK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::getPositionFK </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>link_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>joint_angles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; geometry_msgs::Pose &gt; &amp;&#160;</td>
          <td class="paramname"><em>poses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a set of joint angles and a set of links, compute their pose. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">link_names</td><td>A set of links for which FK needs to be computed </td></tr>
    <tr><td class="paramname">joint_angles</td><td>The state for which FK is being computed </td></tr>
    <tr><td class="paramname">poses</td><td>The resultant set of poses (in the frame returned by getBaseFrame()) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a valid solution was found, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00738">738</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="fetch__arm__ikfast__solver_8cpp.html#abc401850b948d5a0402e9dbb77d3846f">GetIkType</a>() != <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa4e12b1f799acebbe08a3eb82621bd1fe">IKP_Transform6D</a>)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// ComputeFk() is the inverse function of ComputeIk(), so the format of</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// eerot differs depending on IK type. The Transform6D IK type is the only</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// one for which a 3x3 rotation matrix is returned, which means we can only</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// compute FK for that IK type.</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Can only compute FK for Transform6D IK type!&quot;</span>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  KDL::Frame p_out;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">if</span> (link_names.size() == 0)</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    ROS_WARN_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Link names with nothing&quot;</span>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">if</span> (link_names.size() != 1 || link_names[0] != getTipFrame())</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Can compute FK for %s only&quot;</span>, getTipFrame().c_str());</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  IkReal eerot[9], eetrans[3];</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">if</span> (joint_angles.size() != <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Unexpected number of joint angles&quot;</span>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  IkReal angles[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>];</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> i = 0; i &lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>; i++)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    angles[i] = joint_angles[i];</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="comment">// IKFast56/61</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="fetch__arm__ikfast__solver_8cpp.html#ac5b257dc48deeb1c904d40b5dbf4a5a4">ComputeFk</a>(angles, eetrans, eerot);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    p_out.p.data[i] = eetrans[i];</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  for (<span class="keywordtype">int</span> i = 0; i &lt; 9; ++i)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    p_out.M.data[i] = eerot[i];</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  poses.resize(1);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  poses[0] = tf2::toMsg(p_out);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">return</span> valid;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fetch__arm__ikfast__solver_8cpp_source.html#l00299">ComputeFk()</a>, <a class="el" href="fetch__arm__ikfast__solver_8cpp_source.html#l00381">GetIkType()</a>, and <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00075">fetch_arm::IKP_Transform6D</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfetch__arm_1_1IKFastKinematicsPlugin_a7211ee34bb6551d89101751f8675910b_cgraph.png" border="0" usemap="#classfetch__arm_1_1IKFastKinematicsPlugin_a7211ee34bb6551d89101751f8675910b_cgraph" alt=""/></div>
<map name="classfetch__arm_1_1IKFastKinematicsPlugin_a7211ee34bb6551d89101751f8675910b_cgraph" id="classfetch__arm_1_1IKFastKinematicsPlugin_a7211ee34bb6551d89101751f8675910b_cgraph">
<area shape="rect" title="Given a set of joint angles and a set of links, compute their pose." alt="" coords="5,49,213,90"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#ac5b257dc48deeb1c904d40b5dbf4a5a4" title=" " alt="" coords="261,31,359,57"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#abc401850b948d5a0402e9dbb77d3846f" title=" " alt="" coords="267,81,353,108"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a8d241417f26868995cfb5a5648816e63" title=" " alt="" coords="407,5,464,32"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a7b5e881d13d85a4bc1020963f9e605b5" title=" " alt="" coords="408,56,463,83"/>
</map>
</div>

</div>
</div>
<a id="a40214ff942d1506207d812b75154a0f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40214ff942d1506207d812b75154a0f3">&#9670;&nbsp;</a></span>getPositionIK() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::getPositionIK </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::Pose &amp;&#160;</td>
          <td class="paramname"><em>ik_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>ik_seed_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">moveit_msgs::MoveItErrorCodes &amp;&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const kinematics::KinematicsQueryOptions &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code>kinematics::KinematicsQueryOptions()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a desired pose of the end-effector, compute the joint angles to reach it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ik_pose</td><td>the desired pose of the link </td></tr>
    <tr><td class="paramname">ik_seed_state</td><td>an initial guess solution for the inverse kinematics </td></tr>
    <tr><td class="paramname">solution</td><td>the solution vector </td></tr>
    <tr><td class="paramname">error_code</td><td>an error code that encodes the reason for failure or success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a valid solution was found, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l01056">1056</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;{</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;getPositionIK&quot;</span>);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160; </div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6cd6e556315e890a097129395a028f9f">initialized_</a>)</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;kinematics not active&quot;</span>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keywordflow">if</span> (ik_seed_state.size() &lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;ik_seed_state only has &quot;</span> &lt;&lt; ik_seed_state.size()</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                                                            &lt;&lt; <span class="stringliteral">&quot; entries, this ikfast solver requires &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="comment">// Check if seed is in bound</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; ik_seed_state.size(); i++)</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="comment">// Add tolerance to limit check</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[i] &amp;&amp; ((ik_seed_state[i] &lt; (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i] - <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>)) ||</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                                        (ik_seed_state[i] &gt; (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i] + <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>))))</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;IK seed not in limits! &quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(i) &lt;&lt; <span class="stringliteral">&quot; value &quot;</span> &lt;&lt; ik_seed_state[i]</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                                                              &lt;&lt; <span class="stringliteral">&quot; has limit: &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[i]</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                                                              &lt;&lt; <span class="stringliteral">&quot;  being  &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i] &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                                                              &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i]);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  std::vector&lt;double&gt; vfree(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>.size());</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>.size(); ++i)</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordtype">int</span> p = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[i];</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    ROS_ERROR(<span class="stringliteral">&quot;%u is %f&quot;</span>, p, ik_seed_state[p]);  <span class="comment">// DTC</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    vfree[i] = ik_seed_state[p];</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  KDL::Frame frame;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#aba28897043f901b8a417d95195dbe0f3">transformToChainFrame</a>(ik_pose, frame);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <a class="code" href="classikfast_1_1IkSolutionList.html">IkSolutionList&lt;IkReal&gt;</a> solutions;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordtype">size_t</span> numsol = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0f2e31ecf817cee22d9363e5cbfe3c64">solve</a>(frame, vfree, solutions);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Found &quot;</span> &lt;&lt; numsol &lt;&lt; <span class="stringliteral">&quot; solutions from IKFast&quot;</span>);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  std::vector&lt;LimitObeyingSol&gt; solutions_obey_limits;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="keywordflow">if</span> (numsol)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    std::vector&lt;double&gt; solution_obey_limits;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">for</span> (std::size_t <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> = 0; <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> &lt; numsol; ++<a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      std::vector&lt;double&gt; sol;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a99b8526cb66a792c278cfb0afdc06a34">getSolution</a>(solutions, ik_seed_state, <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>, sol);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      ROS_DEBUG_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Sol %d: %e   %e   %e   %e   %e   %e&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>), sol[0], sol[1], sol[2], sol[3],</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                      sol[4], sol[5]);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="keywordtype">bool</span> obeys_limits = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; sol.size(); i++)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <span class="comment">// Add tolerance to limit check</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[i] &amp;&amp; ((sol[i] &lt; (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i] - <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>)) ||</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                                            (sol[i] &gt; (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i] + <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>))))</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        {</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;          <span class="comment">// One element of solution is not within limits</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;          obeys_limits = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;          ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Not in limits! &quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(i) &lt;&lt; <span class="stringliteral">&quot; value &quot;</span> &lt;&lt; sol[i]</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                                                          &lt;&lt; <span class="stringliteral">&quot; has limit: &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[i]</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                                                          &lt;&lt; <span class="stringliteral">&quot;  being  &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i] &lt;&lt; <span class="stringliteral">&quot; to &quot;</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                                                          &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i]);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordflow">if</span> (obeys_limits)</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="comment">// All elements of this solution obey limits</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a99b8526cb66a792c278cfb0afdc06a34">getSolution</a>(solutions, ik_seed_state, <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>, solution_obey_limits);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordtype">double</span> dist_from_seed = 0.0;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; ik_seed_state.size(); ++i)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;          dist_from_seed += fabs(ik_seed_state[i] - solution_obey_limits[i]);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160; </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        solutions_obey_limits.push_back({ solution_obey_limits, dist_from_seed });</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;No IK solution&quot;</span>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="comment">// Sort the solutions under limits and find the one that is closest to ik_seed_state</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">if</span> (!solutions_obey_limits.empty())</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    std::sort(solutions_obey_limits.begin(), solutions_obey_limits.end());</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    solution = solutions_obey_limits[0].value;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    error_code.val = moveit_msgs::MoveItErrorCodes::SUCCESS;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  error_code.val = moveit_msgs::MoveItErrorCodes::NO_IK_SOLUTION;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00055">LIMIT_TOLERANCE</a>, and <a class="el" href="servers_2service__node__3_2src_2service__node__3_8py_source.html#l00023">service_node_3::s</a>.</p>

</div>
</div>
<a id="a0d617664d189cb218e7929d72d6d7cbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d617664d189cb218e7929d72d6d7cbc">&#9670;&nbsp;</a></span>getPositionIK() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::getPositionIK </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; geometry_msgs::Pose &gt; &amp;&#160;</td>
          <td class="paramname"><em>ik_poses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>ik_seed_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; double &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>solutions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kinematics::KinematicsResult &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const kinematics::KinematicsQueryOptions &amp;&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a desired pose of the end-effector, compute the set joint angles solutions that are able to reach it. </p>
<p>This is a default implementation that returns only one solution and so its result is equivalent to calling 'getPositionIK(...)' with a zero initialized seed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ik_poses</td><td>The desired pose of each tip link </td></tr>
    <tr><td class="paramname">ik_seed_state</td><td>an initial guess solution for the inverse kinematics </td></tr>
    <tr><td class="paramname">solutions</td><td>A vector of vectors where each entry is a valid joint solution </td></tr>
    <tr><td class="paramname">result</td><td>A struct that reports the results of the query </td></tr>
    <tr><td class="paramname">options</td><td>An option struct which contains the type of redundancy discretization used. This default implementation only supports the KinmaticSearches::NO_DISCRETIZATION method; requesting any other will result in failure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a valid set of solutions was found, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l01165">1165</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;{</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;getPositionIK with multiple solutions&quot;</span>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6cd6e556315e890a097129395a028f9f">initialized_</a>)</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;kinematics not active&quot;</span>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <a class="code" href="namespacesick__camera__client.html#a9d947cde3882f536db9c9474a53a3677">result</a>.kinematic_error = kinematics::KinematicErrors::SOLVER_NOT_ACTIVE;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keywordflow">if</span> (ik_poses.empty())</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;ik_poses is empty&quot;</span>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <a class="code" href="namespacesick__camera__client.html#a9d947cde3882f536db9c9474a53a3677">result</a>.kinematic_error = kinematics::KinematicErrors::EMPTY_TIP_POSES;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="keywordflow">if</span> (ik_poses.size() &gt; 1)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;ik_poses contains multiple entries, only one is allowed&quot;</span>);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <a class="code" href="namespacesick__camera__client.html#a9d947cde3882f536db9c9474a53a3677">result</a>.kinematic_error = kinematics::KinematicErrors::MULTIPLE_TIPS_NOT_SUPPORTED;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  }</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (ik_seed_state.size() &lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>)</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;ik_seed_state only has &quot;</span> &lt;&lt; ik_seed_state.size()</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                                                            &lt;&lt; <span class="stringliteral">&quot; entries, this ikfast solver requires &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  KDL::Frame frame;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#aba28897043f901b8a417d95195dbe0f3">transformToChainFrame</a>(ik_poses[0], frame);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="comment">// solving ik</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  std::vector&lt;IkSolutionList&lt;IkReal&gt;&gt; solution_set;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <a class="code" href="classikfast_1_1IkSolutionList.html">IkSolutionList&lt;IkReal&gt;</a> ik_solutions;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  std::vector&lt;double&gt; vfree;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordtype">int</span> numsol = 0;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  std::vector&lt;double&gt; sampled_joint_vals;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">if</span> (!redundant_joint_indices_.empty())</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="comment">// initializing from seed</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    sampled_joint_vals.push_back(ik_seed_state[redundant_joint_indices_[0]]);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="comment">// checking joint limits when using no discretization</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">if</span> (options.discretization_method == kinematics::DiscretizationMethods::NO_DISCRETIZATION &amp;&amp;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[redundant_joint_indices_.front()])</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keywordtype">double</span> joint_min = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[redundant_joint_indices_.front()];</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <span class="keywordtype">double</span> joint_max = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[redundant_joint_indices_.front()];</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordtype">double</span> jv = sampled_joint_vals[0];</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">if</span> (!((jv &gt; (joint_min - <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>)) &amp;&amp; (jv &lt; (joint_max + <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>))))</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <a class="code" href="namespacesick__camera__client.html#a9d947cde3882f536db9c9474a53a3677">result</a>.kinematic_error = kinematics::KinematicErrors::IK_SEED_OUTSIDE_LIMITS;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;ik seed is out of bounds&quot;</span>);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="comment">// computing all solutions sets for each sampled value of the redundant joint</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a630dd8b86f08d2672ad7a43a995e80e6">sampleRedundantJoint</a>(options.discretization_method, sampled_joint_vals))</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <a class="code" href="namespacesick__camera__client.html#a9d947cde3882f536db9c9474a53a3677">result</a>.kinematic_error = kinematics::KinematicErrors::UNSUPORTED_DISCRETIZATION_REQUESTED;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; sampled_joint_vals.size(); i++)</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      vfree.clear();</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      vfree.push_back(sampled_joint_vals[i]);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      numsol += <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0f2e31ecf817cee22d9363e5cbfe3c64">solve</a>(frame, vfree, ik_solutions);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      solution_set.push_back(ik_solutions);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  }</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="comment">// computing for single solution set</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    numsol = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0f2e31ecf817cee22d9363e5cbfe3c64">solve</a>(frame, vfree, ik_solutions);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    solution_set.push_back(ik_solutions);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Found &quot;</span> &lt;&lt; numsol &lt;&lt; <span class="stringliteral">&quot; solutions from IKFast&quot;</span>);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="keywordtype">bool</span> solutions_found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">if</span> (numsol &gt; 0)</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">      Iterating through all solution sets and storing those that do not exceed joint limits.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacefake__cube__perception__node.html#a36e88703ab69fd35065e8a8d9344903e">r</a> = 0; <a class="code" href="namespacefake__cube__perception__node.html#a36e88703ab69fd35065e8a8d9344903e">r</a> &lt; solution_set.size(); <a class="code" href="namespacefake__cube__perception__node.html#a36e88703ab69fd35065e8a8d9344903e">r</a>++)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      ik_solutions = solution_set[<a class="code" href="namespacefake__cube__perception__node.html#a36e88703ab69fd35065e8a8d9344903e">r</a>];</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      numsol = ik_solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597">GetNumSolutions</a>();</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> = 0; <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> &lt; numsol; ++<a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        std::vector&lt;double&gt; sol;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a99b8526cb66a792c278cfb0afdc06a34">getSolution</a>(ik_solutions, ik_seed_state, <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>, sol);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;        <span class="keywordtype">bool</span> obeys_limits = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; sol.size(); i++)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;          <span class="comment">// Add tolerance to limit check</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[i] &amp;&amp; ((sol[i] &lt; (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i] - <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>)) ||</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                                              (sol[i] &gt; (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i] + <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>))))</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;          {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;            <span class="comment">// One element of solution is not within limits</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;            obeys_limits = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;            ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Not in limits! &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; value &quot;</span> &lt;&lt; sol[i] &lt;&lt; <span class="stringliteral">&quot; has limit: &quot;</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                                                            &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[i] &lt;&lt; <span class="stringliteral">&quot;  being  &quot;</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                                                            &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i] &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i]);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;          }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="keywordflow">if</span> (obeys_limits)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;          <span class="comment">// All elements of solution obey limits</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;          solutions_found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;          solutions.push_back(sol);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">if</span> (solutions_found)</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    {</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      <a class="code" href="namespacesick__camera__client.html#a9d947cde3882f536db9c9474a53a3677">result</a>.kinematic_error = kinematics::KinematicErrors::OK;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;No IK solution&quot;</span>);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160; </div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <a class="code" href="namespacesick__camera__client.html#a9d947cde3882f536db9c9474a53a3677">result</a>.kinematic_error = kinematics::KinematicErrors::NO_SOLUTION;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ikfast_8h_source.html#l00294">ikfast::IkSolutionList&lt; T &gt;::GetNumSolutions()</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00055">LIMIT_TOLERANCE</a>, <a class="el" href="sm__fetch__screw__loop__1_2servers_2fake__cube__perception__node_8py_source.html#l00107">fake_cube_perception_node::r</a>, <a class="el" href="sick__camera__client_8py_source.html#l00025">sick_camera_client::result</a>, and <a class="el" href="servers_2service__node__3_2src_2service__node__3_8py_source.html#l00023">service_node_3::s</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfetch__arm_1_1IKFastKinematicsPlugin_a0d617664d189cb218e7929d72d6d7cbc_cgraph.png" border="0" usemap="#classfetch__arm_1_1IKFastKinematicsPlugin_a0d617664d189cb218e7929d72d6d7cbc_cgraph" alt=""/></div>
<map name="classfetch__arm_1_1IKFastKinematicsPlugin_a0d617664d189cb218e7929d72d6d7cbc_cgraph" id="classfetch__arm_1_1IKFastKinematicsPlugin_a0d617664d189cb218e7929d72d6d7cbc_cgraph">
<area shape="rect" title="Given a desired pose of the end&#45;effector, compute the set joint angles solutions that are able to rea..." alt="" coords="5,5,213,47"/>
<area shape="rect" href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597" title="returns the number of solutions stored" alt="" coords="261,5,416,47"/>
</map>
</div>

</div>
</div>
<a id="a6d4b4d9ba0a8279807777b7982f43f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4b4d9ba0a8279807777b7982f43f98">&#9670;&nbsp;</a></span>getSolution() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fetch_arm::IKFastKinematicsPlugin::getSolution </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classikfast_1_1IkSolutionList.html">IkSolutionList</a>&lt; IkReal &gt; &amp;&#160;</td>
          <td class="paramname"><em>solutions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>ik_seed_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a specific solution from the set with joints rotated 360° to be near seed state where possible. </p>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00646">646</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;{</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  solution.clear();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  solution.resize(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">// IKFast56/61</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keyword">const</span> <a class="code" href="classikfast_1_1IkSolutionBase.html">IkSolutionBase&lt;IkReal&gt;</a>&amp; sol = solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#a0320618db6b5432cd609e1e2c8c73614">GetSolution</a>(i);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  std::vector&lt;IkReal&gt; vsolfree(sol.<a class="code" href="classikfast_1_1IkSolutionBase.html#a2693ede66be937b7c4c1c949284282ca">GetFree</a>().size());</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  sol.<a class="code" href="classikfast_1_1IkSolutionBase.html#a9405530feb49f12f56c3175e7150c66f">GetSolution</a>(&amp;solution[0], vsolfree.size() &gt; 0 ? &amp;vsolfree[0] : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="comment">// rotate joints by +/-360° where it is possible and useful</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>; ++i)</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[i])</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      solution[i] = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ac321fb5ad126f6ca096ddfcb5b5a074d">enforceLimits</a>(solution[i], <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i], <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i]);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordtype">double</span> signed_distance = solution[i] - ik_seed_state[i];</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">while</span> (signed_distance &gt; M_PI &amp;&amp; solution[i] - 2 * M_PI &gt; (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i] - <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>))</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        signed_distance -= 2 * M_PI;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        solution[i] -= 2 * M_PI;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <span class="keywordflow">while</span> (signed_distance &lt; -M_PI &amp;&amp; solution[i] + 2 * M_PI &lt; (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i] + <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a>))</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        signed_distance += 2 * M_PI;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        solution[i] += 2 * M_PI;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classikfast_1_1IkSolutionBase.html#a2693ede66be937b7c4c1c949284282ca">ikfast::IkSolutionBase&lt; T &gt;::GetFree()</a>, <a class="el" href="classikfast_1_1IkSolutionBase.html#a9405530feb49f12f56c3175e7150c66f">ikfast::IkSolutionBase&lt; T &gt;::GetSolution()</a>, <a class="el" href="ikfast_8h_source.html#l00283">ikfast::IkSolutionList&lt; T &gt;::GetSolution()</a>, and <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00055">LIMIT_TOLERANCE</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfetch__arm_1_1IKFastKinematicsPlugin_a6d4b4d9ba0a8279807777b7982f43f98_cgraph.png" border="0" usemap="#classfetch__arm_1_1IKFastKinematicsPlugin_a6d4b4d9ba0a8279807777b7982f43f98_cgraph" alt=""/></div>
<map name="classfetch__arm_1_1IKFastKinematicsPlugin_a6d4b4d9ba0a8279807777b7982f43f98_cgraph" id="classfetch__arm_1_1IKFastKinematicsPlugin_a6d4b4d9ba0a8279807777b7982f43f98_cgraph">
<area shape="rect" title="Gets a specific solution from the set with joints rotated 360° to be near seed state where possible." alt="" coords="5,71,213,112"/>
<area shape="rect" href="classikfast_1_1IkSolutionBase.html#a2693ede66be937b7c4c1c949284282ca" title="Gets the indices of the configuration space that have to be preset before a full solution can be retu..." alt="" coords="261,5,425,47"/>
<area shape="rect" href="classikfast_1_1IkSolutionBase.html#a9405530feb49f12f56c3175e7150c66f" title="gets a concrete solution" alt="" coords="261,71,425,112"/>
<area shape="rect" href="classikfast_1_1IkSolutionList.html#a0320618db6b5432cd609e1e2c8c73614" title="returns the solution pointer" alt="" coords="266,136,421,177"/>
</map>
</div>

</div>
</div>
<a id="a99b8526cb66a792c278cfb0afdc06a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99b8526cb66a792c278cfb0afdc06a34">&#9670;&nbsp;</a></span>getSolution() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fetch_arm::IKFastKinematicsPlugin::getSolution </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classikfast_1_1IkSolutionList.html">IkSolutionList</a>&lt; IkReal &gt; &amp;&#160;</td>
          <td class="paramname"><em>solutions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a specific solution from the set. </p>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00626">626</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  solution.clear();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  solution.resize(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">// IKFast56/61</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keyword">const</span> <a class="code" href="classikfast_1_1IkSolutionBase.html">IkSolutionBase&lt;IkReal&gt;</a>&amp; sol = solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#a0320618db6b5432cd609e1e2c8c73614">GetSolution</a>(i);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  std::vector&lt;IkReal&gt; vsolfree(sol.<a class="code" href="classikfast_1_1IkSolutionBase.html#a2693ede66be937b7c4c1c949284282ca">GetFree</a>().size());</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  sol.<a class="code" href="classikfast_1_1IkSolutionBase.html#a9405530feb49f12f56c3175e7150c66f">GetSolution</a>(&amp;solution[0], vsolfree.size() &gt; 0 ? &amp;vsolfree[0] : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">for</span> (std::size_t joint_id = 0; joint_id &lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>; ++joint_id)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[joint_id])</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      solution[joint_id] = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ac321fb5ad126f6ca096ddfcb5b5a074d">enforceLimits</a>(solution[joint_id], <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[joint_id], <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[joint_id]);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classikfast_1_1IkSolutionBase.html#a2693ede66be937b7c4c1c949284282ca">ikfast::IkSolutionBase&lt; T &gt;::GetFree()</a>, <a class="el" href="classikfast_1_1IkSolutionBase.html#a9405530feb49f12f56c3175e7150c66f">ikfast::IkSolutionBase&lt; T &gt;::GetSolution()</a>, and <a class="el" href="ikfast_8h_source.html#l00283">ikfast::IkSolutionList&lt; T &gt;::GetSolution()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34_cgraph.png" border="0" usemap="#classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34_cgraph" alt=""/></div>
<map name="classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34_cgraph" id="classfetch__arm_1_1IKFastKinematicsPlugin_a99b8526cb66a792c278cfb0afdc06a34_cgraph">
<area shape="rect" title="Gets a specific solution from the set." alt="" coords="5,71,213,112"/>
<area shape="rect" href="classikfast_1_1IkSolutionBase.html#a2693ede66be937b7c4c1c949284282ca" title="Gets the indices of the configuration space that have to be preset before a full solution can be retu..." alt="" coords="261,5,425,47"/>
<area shape="rect" href="classikfast_1_1IkSolutionBase.html#a9405530feb49f12f56c3175e7150c66f" title="gets a concrete solution" alt="" coords="261,71,425,112"/>
<area shape="rect" href="classikfast_1_1IkSolutionList.html#a0320618db6b5432cd609e1e2c8c73614" title="returns the solution pointer" alt="" coords="266,136,421,177"/>
</map>
</div>

</div>
</div>
<a id="a79242ec31353f6045a71abbed2f7b815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79242ec31353f6045a71abbed2f7b815">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::initialize </td>
          <td>(</td>
          <td class="paramtype">const moveit::core::RobotModel &amp;&#160;</td>
          <td class="paramname"><em>robot_model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>base_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>tip_frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>search_discretization</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00400">400</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (tip_frames.size() != 1)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Expecting exactly one tip frame.&quot;</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  storeValues(robot_model, group_name, base_frame, tip_frames, search_discretization);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// This IKFast solution was generated with IKFAST_TIP_FRAME_ and IKFAST_BASE_FRAME_.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// It is often the case that fixed joints are added to these links to model things like</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="comment">// a robot mounted on a table or a robot with an end effector attached to the last link.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// To support these use cases, we store the transform from the IKFAST_BASE_FRAME_ to the</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// base_frame_ and IKFAST_TIP_FRAME_ the tip_frame_ and transform to the input pose accordingly</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a20d8e8799dcc040f8ed7ebbab2cd68f7">computeRelativeTransform</a>(tip_frames_[0], <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a61fcdeb99f856099c8d29cf377de089c">IKFAST_TIP_FRAME_</a>, <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abbe06d61680f9512965875ed92239e33">group_tip_to_chain_tip_</a>, <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a210a1c46609eb68c3781e027e0df7253">tip_transform_required_</a>) ||</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      !<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a20d8e8799dcc040f8ed7ebbab2cd68f7">computeRelativeTransform</a>(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a23e78d49922170df649d5492cd67d1a1">IKFAST_BASE_FRAME_</a>, base_frame_, <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a62e117a3013e82c9826810eec6d39d9b">chain_base_to_group_base_</a>, <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a965e0db42d5326012a591c0d277f9bd7">base_transform_required_</a>))</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// IKFast56/61</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a373a476a057b47a0516d43f9d0f2a575">fillFreeParams</a>(<a class="code" href="fetch__arm__ikfast__solver_8cpp.html#af0cf03d3ad69d099a9a2eb6db5e5b352">GetNumFreeParameters</a>(), <a class="code" href="fetch__arm__ikfast__solver_8cpp.html#a17f253d85cd4ac00e8840c417eef2487">GetFreeParameters</a>());</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>.size() &gt; 1)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Only one free joint parameter supported!&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>.size() == 1)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    redundant_joint_indices_.clear();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    redundant_joint_indices_.push_back(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    KinematicsBase::setSearchDiscretization(search_discretization);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keyword">const</span> moveit::core::JointModelGroup* jmg = robot_model_-&gt;getJointModelGroup(group_name);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (!jmg)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Unknown planning group: &quot;</span> &lt;&lt; group_name);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Registering joints and links&quot;</span>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">const</span> moveit::core::LinkModel* link = robot_model_-&gt;getLinkModel(tip_frames_[0]);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">const</span> moveit::core::LinkModel* base_link = robot_model_-&gt;getLinkModel(base_frame_);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">while</span> (link &amp;&amp; link != base_link)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Link &quot;</span> &lt;&lt; link-&gt;getName());</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a4555bbc0e1527d78f89afad21f232e20">link_names_</a>.push_back(link-&gt;getName());</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">const</span> moveit::core::JointModel* joint = link-&gt;getParentJointModel();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">if</span> (joint-&gt;getType() != joint-&gt;UNKNOWN &amp;&amp; joint-&gt;getType() != joint-&gt;FIXED &amp;&amp; joint-&gt;getVariableCount() == 1)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Adding joint &quot;</span> &lt;&lt; joint-&gt;getName());</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a>.push_back(joint-&gt;getName());</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keyword">const</span> moveit::core::VariableBounds&amp; bounds = joint-&gt;getVariableBounds()[0];</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>.push_back(bounds.position_bounded_);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>.push_back(bounds.min_position_);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>.push_back(bounds.max_position_);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    link = link-&gt;getParentLinkModel();</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a>.size() != <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    ROS_FATAL_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Joint numbers of RobotModel (%zd) and IKFast solver (%zd) do not match&quot;</span>,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a>.size(), <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  std::reverse(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a4555bbc0e1527d78f89afad21f232e20">link_names_</a>.begin(), <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a4555bbc0e1527d78f89afad21f232e20">link_names_</a>.end());</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  std::reverse(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a>.begin(), <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a>.end());</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  std::reverse(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>.begin(), <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>.end());</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  std::reverse(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>.begin(), <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>.end());</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  std::reverse(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>.begin(), <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>.end());</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> joint_id = 0; joint_id &lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>; ++joint_id)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a>[joint_id] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[joint_id] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                                         &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[joint_id] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                                         &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[joint_id]);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6cd6e556315e890a097129395a028f9f">initialized_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fetch__arm__ikfast__solver_8cpp_source.html#l00376">GetFreeParameters()</a>, and <a class="el" href="fetch__arm__ikfast__solver_8cpp_source.html#l00375">GetNumFreeParameters()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfetch__arm_1_1IKFastKinematicsPlugin_a79242ec31353f6045a71abbed2f7b815_cgraph.png" border="0" usemap="#classfetch__arm_1_1IKFastKinematicsPlugin_a79242ec31353f6045a71abbed2f7b815_cgraph" alt=""/></div>
<map name="classfetch__arm_1_1IKFastKinematicsPlugin_a79242ec31353f6045a71abbed2f7b815_cgraph" id="classfetch__arm_1_1IKFastKinematicsPlugin_a79242ec31353f6045a71abbed2f7b815_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,213,65"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a17f253d85cd4ac00e8840c417eef2487" title=" " alt="" coords="277,5,424,32"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#af0cf03d3ad69d099a9a2eb6db5e5b352" title=" " alt="" coords="261,56,440,83"/>
</map>
</div>

</div>
</div>
<a id="a630dd8b86f08d2672ad7a43a995e80e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630dd8b86f08d2672ad7a43a995e80e6">&#9670;&nbsp;</a></span>sampleRedundantJoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::sampleRedundantJoint </td>
          <td>(</td>
          <td class="paramtype">kinematics::DiscretizationMethod&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>sampled_joint_vals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>samples the designated redundant joint using the chosen discretization method </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">method</td><td>An enumeration flag indicating the discretization method to be used </td></tr>
    <tr><td class="paramname">sampled_joint_vals</td><td>Sampled joint values for the redundant joint </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if sampling succeeded. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l01308">1308</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;{</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordtype">int</span> index = redundant_joint_indices_.front();</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="keywordtype">double</span> joint_dscrt = redundant_joint_discretization_.at(index);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <span class="keywordtype">double</span> joint_min = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[index];</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordtype">double</span> joint_max = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[index];</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160; </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">switch</span> (method)</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">case</span> kinematics::DiscretizationMethods::ALL_DISCRETIZED:</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <span class="keywordtype">size_t</span> steps = std::ceil((joint_max - joint_min) / joint_dscrt);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; steps; i++)</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        sampled_joint_vals.push_back(joint_min + joint_dscrt * i);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      sampled_joint_vals.push_back(joint_max);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    }</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">case</span> kinematics::DiscretizationMethods::ALL_RANDOM_SAMPLED:</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordtype">int</span> steps = std::ceil((joint_max - joint_min) / joint_dscrt);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      steps = steps &gt; 0 ? steps : 1;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keywordtype">double</span> diff = joint_max - joint_min;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; steps; i++)</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        sampled_joint_vals.push_back(((diff * std::rand()) / (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(RAND_MAX))) + joint_min);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    }</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160; </div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">case</span> kinematics::DiscretizationMethods::NO_DISCRETIZATION:</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;      ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Discretization method &quot;</span> &lt;&lt; method &lt;&lt; <span class="stringliteral">&quot; is not supported&quot;</span>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a78674f0c81f66ec38471fab8f75c1d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78674f0c81f66ec38471fab8f75c1d72">&#9670;&nbsp;</a></span>searchPositionIK() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::searchPositionIK </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::Pose &amp;&#160;</td>
          <td class="paramname"><em>ik_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>ik_seed_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>consistency_limits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IKCallbackFn &amp;&#160;</td>
          <td class="paramname"><em>solution_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">moveit_msgs::MoveItErrorCodes &amp;&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const kinematics::KinematicsQueryOptions &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code>kinematics::KinematicsQueryOptions()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a desired pose of the end-effector, search for the joint angles required to reach it. This particular method is intended for "searching" for a solutions by stepping through the redundancy (or other numerical routines). The consistency_limit specifies that only certain redundancy positions around those specified in the seed state are admissible and need to be searched. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ik_pose</td><td>the desired pose of the link </td></tr>
    <tr><td class="paramname">ik_seed_state</td><td>an initial guess solution for the inverse kinematics </td></tr>
    <tr><td class="paramname">consistency_limit</td><td>the distance that the redundancy can be from the current position </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a valid solution was found, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00825">825</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;{</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="comment">// &quot;SEARCH_MODE&quot; is fixed during code generation</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a7e3e138f11a31c3d463b94d39ee5f43d">SEARCH_MODE</a> search_mode = <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90">OPTIMIZE_MAX_JOINT</a>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// Check if there are no redundant joints</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>.size() == 0)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;No need to search since no free params/redundant joints&quot;</span>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    std::vector&lt;geometry_msgs::Pose&gt; ik_poses(1, ik_pose);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    std::vector&lt;std::vector&lt;double&gt;&gt; solutions;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    kinematics::KinematicsResult kinematic_result;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">// Find all IK solutions within joint limits</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a40214ff942d1506207d812b75154a0f3">getPositionIK</a>(ik_poses, ik_seed_state, solutions, kinematic_result, options))</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;No solution whatsoever&quot;</span>);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      error_code.val = moveit_msgs::MoveItErrorCodes::NO_IK_SOLUTION;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// sort solutions by their distance to the seed</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    std::vector&lt;LimitObeyingSol&gt; solutions_obey_limits;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; solutions.size(); ++i)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="keywordtype">double</span> dist_from_seed = 0.0;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">for</span> (std::size_t j = 0; j &lt; ik_seed_state.size(); ++j)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        dist_from_seed += fabs(ik_seed_state[j] - solutions[i][j]);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      solutions_obey_limits.push_back({ solutions[i], dist_from_seed });</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    std::sort(solutions_obey_limits.begin(), solutions_obey_limits.end());</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">// check for collisions if a callback is provided</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">if</span> (!solution_callback.empty())</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; solutions_obey_limits.size(); ++i)</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        solution_callback(ik_pose, solutions_obey_limits[i].value, error_code);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">if</span> (error_code.val == moveit_msgs::MoveItErrorCodes::SUCCESS)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;          solution = solutions_obey_limits[i].value;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;          ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Solution passes callback&quot;</span>);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Solution has error code &quot;</span> &lt;&lt; error_code);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      solution = solutions_obey_limits[0].value;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      error_code.val = moveit_msgs::MoveItErrorCodes::SUCCESS;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// no collision check callback provided</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="comment">// -------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// Error Checking</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6cd6e556315e890a097129395a028f9f">initialized_</a>)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Kinematics not active&quot;</span>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    error_code.val = error_code.NO_IK_SOLUTION;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">if</span> (ik_seed_state.size() != <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>)</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Seed state must have size &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a> &lt;&lt; <span class="stringliteral">&quot; instead of size &quot;</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                                                               &lt;&lt; ik_seed_state.size());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    error_code.val = error_code.NO_IK_SOLUTION;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; </div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">if</span> (!consistency_limits.empty() &amp;&amp; consistency_limits.size() != <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a>)</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Consistency limits be empty or must have size &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">num_joints_</a> &lt;&lt; <span class="stringliteral">&quot; instead of size &quot;</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                                                                   &lt;&lt; consistency_limits.size());</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    error_code.val = error_code.NO_IK_SOLUTION;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// -------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// Initialize</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  KDL::Frame frame;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#aba28897043f901b8a417d95195dbe0f3">transformToChainFrame</a>(ik_pose, frame);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  std::vector&lt;double&gt; vfree(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>.size());</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordtype">int</span> counter = 0;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordtype">double</span> initial_guess = ik_seed_state[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]];</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  vfree[0] = initial_guess;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="comment">// -------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// Handle consitency limits if needed</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordtype">int</span> num_positive_increments;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordtype">int</span> num_negative_increments;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="keywordtype">double</span> search_discretization = redundant_joint_discretization_.at(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordflow">if</span> (!consistency_limits.empty())</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// MoveIt! replaced consistency_limit (scalar) w/ consistency_limits (vector)</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="comment">// Assume [0]th free_params element for now.  Probably wrong.</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordtype">double</span> max_limit = fmin(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]], initial_guess + consistency_limits[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]]);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keywordtype">double</span> min_limit = fmax(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]], initial_guess - consistency_limits[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]]);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160; </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    num_positive_increments = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>((max_limit - initial_guess) / search_discretization);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    num_negative_increments = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>((initial_guess - min_limit) / search_discretization);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">else</span>  <span class="comment">// no consistency limits provided</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    num_positive_increments = (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]] - initial_guess) / search_discretization;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    num_negative_increments = (initial_guess - <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]]) / search_discretization;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="comment">// -------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="comment">// Begin searching</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Free param is &quot;</span> &lt;&lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0] &lt;&lt; <span class="stringliteral">&quot; initial guess is &quot;</span> &lt;&lt; initial_guess</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                                                 &lt;&lt; <span class="stringliteral">&quot;, # positive increments: &quot;</span> &lt;&lt; num_positive_increments</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                                                 &lt;&lt; <span class="stringliteral">&quot;, # negative increments: &quot;</span> &lt;&lt; num_negative_increments);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">if</span> ((search_mode &amp; <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90">OPTIMIZE_MAX_JOINT</a>) &amp;&amp; (num_positive_increments + num_negative_increments) &gt; 1000)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    ROS_WARN_STREAM_ONCE_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Large search space, consider increasing the search discretization&quot;</span>);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordtype">double</span> best_costs = -1.0;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  std::vector&lt;double&gt; best_solution;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordtype">int</span> nattempts = 0, nvalid = 0;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <a class="code" href="classikfast_1_1IkSolutionList.html">IkSolutionList&lt;IkReal&gt;</a> solutions;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordtype">size_t</span> numsol = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0f2e31ecf817cee22d9363e5cbfe3c64">solve</a>(frame, vfree, solutions);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Found &quot;</span> &lt;&lt; numsol &lt;&lt; <span class="stringliteral">&quot; solutions from IKFast&quot;</span>);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (numsol &gt; 0)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> = 0; <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a> &lt; numsol; ++<a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        nattempts++;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        std::vector&lt;double&gt; sol;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a99b8526cb66a792c278cfb0afdc06a34">getSolution</a>(solutions, ik_seed_state, <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>, sol);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordtype">bool</span> obeys_limits = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; sol.size(); i++)</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        {</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">joint_has_limits_vector_</a>[i] &amp;&amp; (sol[i] &lt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">joint_min_vector_</a>[i] || sol[i] &gt; <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">joint_max_vector_</a>[i]))</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;          {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            obeys_limits = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;          }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;          <span class="comment">// ROS_INFO_STREAM_NAMED(name_,&quot;Num &quot; &lt;&lt; i &lt;&lt; &quot; value &quot; &lt;&lt; sol[i] &lt;&lt; &quot; has limits &quot; &lt;&lt;</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;          <span class="comment">// joint_has_limits_vector_[i] &lt;&lt; &quot; &quot; &lt;&lt; joint_min_vector_[i] &lt;&lt; &quot; &quot; &lt;&lt; joint_max_vector_[i]);</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">if</span> (obeys_limits)</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;          <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a99b8526cb66a792c278cfb0afdc06a34">getSolution</a>(solutions, ik_seed_state, <a class="code" href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">s</a>, solution);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          <span class="comment">// This solution is within joint limits, now check if in collision (if callback provided)</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;          <span class="keywordflow">if</span> (!solution_callback.empty())</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;          {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            solution_callback(ik_pose, solution, error_code);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;          }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;          {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            error_code.val = error_code.SUCCESS;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;          }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;          <span class="keywordflow">if</span> (error_code.val == error_code.SUCCESS)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;          {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            nvalid++;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <span class="keywordflow">if</span> (search_mode &amp; <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90">OPTIMIZE_MAX_JOINT</a>)</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;            {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;              <span class="comment">// Costs for solution: Largest joint motion</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;              <span class="keywordtype">double</span> costs = 0.0;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; solution.size(); i++)</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;              {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                <span class="keywordtype">double</span> <a class="code" href="namespacesetup.html#aa2586b6c4dd84a0aaaf49cb1565cee6e">d</a> = fabs(ik_seed_state[i] - solution[i]);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespacesetup.html#aa2586b6c4dd84a0aaaf49cb1565cee6e">d</a> &gt; costs)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                  costs = <a class="code" href="namespacesetup.html#aa2586b6c4dd84a0aaaf49cb1565cee6e">d</a>;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;              }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;              <span class="keywordflow">if</span> (costs &lt; best_costs || best_costs == -1.0)</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;              {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                best_costs = costs;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                best_solution = solution;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;              }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;              <span class="comment">// Return first feasible solution</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;          }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a74ef3a6f3113a0ad268d24cea9350404">getCount</a>(counter, num_positive_increments, -num_negative_increments))</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="comment">// Everything searched</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      error_code.val = moveit_msgs::MoveItErrorCodes::NO_IK_SOLUTION;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    vfree[0] = initial_guess + search_discretization * counter;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">// ROS_DEBUG_STREAM_NAMED(name_,&quot;Attempt &quot; &lt;&lt; counter &lt;&lt; &quot; with 0th free joint having value &quot; &lt;&lt; vfree[0]);</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  ROS_DEBUG_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Valid solutions: &quot;</span> &lt;&lt; nvalid &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; nattempts);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">if</span> ((search_mode &amp; <a class="code" href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90">OPTIMIZE_MAX_JOINT</a>) &amp;&amp; best_costs != -1.0)</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    solution = best_solution;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    error_code.val = error_code.SUCCESS;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="comment">// No solution found</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  error_code.val = moveit_msgs::MoveItErrorCodes::NO_IK_SOLUTION;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="setup_8py_source.html#l00006">setup::d</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00060">OPTIMIZE_MAX_JOINT</a>, and <a class="el" href="servers_2service__node__3_2src_2service__node__3_8py_source.html#l00023">service_node_3::s</a>.</p>

</div>
</div>
<a id="ac037ee5d3c5309b075f89bd8da9cbd02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac037ee5d3c5309b075f89bd8da9cbd02">&#9670;&nbsp;</a></span>searchPositionIK() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::searchPositionIK </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::Pose &amp;&#160;</td>
          <td class="paramname"><em>ik_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>ik_seed_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>consistency_limits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">moveit_msgs::MoveItErrorCodes &amp;&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const kinematics::KinematicsQueryOptions &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code>kinematics::KinematicsQueryOptions()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a desired pose of the end-effector, search for the joint angles required to reach it. This particular method is intended for "searching" for a solutions by stepping through the redundancy (or other numerical routines). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ik_pose</td><td>the desired pose of the link </td></tr>
    <tr><td class="paramname">ik_seed_state</td><td>an initial guess solution for the inverse kinematics </td></tr>
    <tr><td class="paramname">the</td><td>distance that the redundancy can be from the current position </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a valid solution was found, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00804">804</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;{</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a7e5949cda80a64ebfdc9b1acd40e7c91">searchPositionIK</a>(ik_pose, ik_seed_state, timeout, consistency_limits, solution, IKCallbackFn(), error_code,</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                          options);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0549e44e00ed41c0432e33bc9b9b1c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0549e44e00ed41c0432e33bc9b9b1c8">&#9670;&nbsp;</a></span>searchPositionIK() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::searchPositionIK </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::Pose &amp;&#160;</td>
          <td class="paramname"><em>ik_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>ik_seed_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IKCallbackFn &amp;&#160;</td>
          <td class="paramname"><em>solution_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">moveit_msgs::MoveItErrorCodes &amp;&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const kinematics::KinematicsQueryOptions &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code>kinematics::KinematicsQueryOptions()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a desired pose of the end-effector, search for the joint angles required to reach it. This particular method is intended for "searching" for a solutions by stepping through the redundancy (or other numerical routines). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ik_pose</td><td>the desired pose of the link </td></tr>
    <tr><td class="paramname">ik_seed_state</td><td>an initial guess solution for the inverse kinematics </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a valid solution was found, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00814">814</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  std::vector&lt;double&gt; consistency_limits;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a7e5949cda80a64ebfdc9b1acd40e7c91">searchPositionIK</a>(ik_pose, ik_seed_state, timeout, consistency_limits, solution, solution_callback, error_code,</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                          options);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e5949cda80a64ebfdc9b1acd40e7c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5949cda80a64ebfdc9b1acd40e7c91">&#9670;&nbsp;</a></span>searchPositionIK() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::searchPositionIK </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::Pose &amp;&#160;</td>
          <td class="paramname"><em>ik_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>ik_seed_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>solution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">moveit_msgs::MoveItErrorCodes &amp;&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const kinematics::KinematicsQueryOptions &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code>kinematics::KinematicsQueryOptions()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a desired pose of the end-effector, search for the joint angles required to reach it. This particular method is intended for "searching" for a solutions by stepping through the redundancy (or other numerical routines). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ik_pose</td><td>the desired pose of the link </td></tr>
    <tr><td class="paramname">ik_seed_state</td><td>an initial guess solution for the inverse kinematics </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a valid solution was found, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00794">794</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;{</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  std::vector&lt;double&gt; consistency_limits;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a7e5949cda80a64ebfdc9b1acd40e7c91">searchPositionIK</a>(ik_pose, ik_seed_state, timeout, consistency_limits, solution, IKCallbackFn(), error_code,</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                          options);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bddbf1819e0520e27f20f752ce2d391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bddbf1819e0520e27f20f752ce2d391">&#9670;&nbsp;</a></span>setRedundantJoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::setRedundantJoints </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; unsigned int &gt; &amp;&#160;</td>
          <td class="paramname"><em>redundant_joint_indices</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overrides the default method to prevent changing the redundant joints. </p>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00519">519</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;{</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Changing the redundant joints isn&#39;t permitted by this group&#39;s solver &quot;</span>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a190aa0c0aff22504c8872c289d429504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a190aa0c0aff22504c8872c289d429504">&#9670;&nbsp;</a></span>setSearchDiscretization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fetch_arm::IKFastKinematicsPlugin::setSearchDiscretization </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; unsigned int, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>discretization</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the discretization value for the redundant joint. </p>
<p>Since this ikfast implementation allows for one redundant joint then only the first entry will be in the discretization map will be used. Calling this method replaces previous discretization settings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">discretization</td><td>a map of joint indices and discretization value pairs. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00486">486</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">if</span> (discretization.empty())</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    ROS_ERROR(<span class="stringliteral">&quot;The &#39;discretization&#39; map is empty&quot;</span>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (redundant_joint_indices_.empty())</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;This group&#39;s solver doesn&#39;t support redundant joints&quot;</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">if</span> (discretization.begin()-&gt;first != redundant_joint_indices_[0])</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    std::string redundant_joint = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">joint_names_</a>[<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">free_params_</a>[0]];</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Attempted to discretize a non-redundant joint &quot;</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                      &lt;&lt; discretization.begin()-&gt;first &lt;&lt; <span class="stringliteral">&quot;, only joint &#39;&quot;</span> &lt;&lt; redundant_joint</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                      &lt;&lt; <span class="stringliteral">&quot;&#39; with index &quot;</span> &lt;&lt; redundant_joint_indices_[0] &lt;&lt; <span class="stringliteral">&quot; is redundant.&quot;</span>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">if</span> (discretization.begin()-&gt;second &lt;= 0.0)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    ROS_ERROR_STREAM_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Discretization can not takes values that are &lt;= 0&quot;</span>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160; </div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  redundant_joint_discretization_.clear();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  redundant_joint_discretization_[redundant_joint_indices_[0]] = discretization.begin()-&gt;second;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f2e31ecf817cee22d9363e5cbfe3c64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f2e31ecf817cee22d9363e5cbfe3c64">&#9670;&nbsp;</a></span>solve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t fetch_arm::IKFastKinematicsPlugin::solve </td>
          <td>(</td>
          <td class="paramtype">KDL::Frame &amp;&#160;</td>
          <td class="paramname"><em>pose_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>vfree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classikfast_1_1IkSolutionList.html">IkSolutionList</a>&lt; IkReal &gt; &amp;&#160;</td>
          <td class="paramname"><em>solutions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the IK solver from IKFast. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of solutions found </dd></dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00525">525</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">// IKFast56/61</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#ae341a33d5aee644cac867e3edd2a9916">Clear</a>();</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordtype">double</span> trans[3];</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  trans[0] = pose_frame.p[0];  <span class="comment">//-.18;</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  trans[1] = pose_frame.p[1];</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  trans[2] = pose_frame.p[2];</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  KDL::Rotation mult;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  KDL::Vector direction;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="fetch__arm__ikfast__solver_8cpp.html#abc401850b948d5a0402e9dbb77d3846f">GetIkType</a>())</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa4e12b1f799acebbe08a3eb82621bd1fe">IKP_Transform6D</a>:</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fae243b6da2163bd071711a3549bda8262">IKP_Translation3D</a>:</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="comment">// For **Transform6D**, eerot is 9 values for the 3x3 rotation matrix. For **Translation3D**, these are ignored.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      mult = pose_frame.M;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keywordtype">double</span> vals[9];</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      vals[0] = mult(0, 0);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      vals[1] = mult(0, 1);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      vals[2] = mult(0, 2);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      vals[3] = mult(1, 0);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      vals[4] = mult(1, 1);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      vals[5] = mult(1, 2);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      vals[6] = mult(2, 0);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      vals[7] = mult(2, 1);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      vals[8] = mult(2, 2);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      <span class="comment">// IKFast56/61</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="fetch__arm__ikfast__solver_8cpp.html#ad6e97fc303efda1a956b9a044f8424fc">ComputeIk</a>(trans, vals, vfree.size() &gt; 0 ? &amp;vfree[0] : <span class="keyword">nullptr</span>, solutions);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">return</span> solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597">GetNumSolutions</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa9dddd78b22947f7913450811b1acdb3c">IKP_Direction3D</a>:</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa25e50206ae6f0e82918bb919fff57737">IKP_Ray4D</a>:</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa532b636671a51a7410f4c508cfeec70c">IKP_TranslationDirection5D</a>:</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="comment">// For **Direction3D**, **Ray4D**, and **TranslationDirection5D**, the first 3 values represent the target</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="comment">// direction.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      direction = pose_frame.M * KDL::Vector(0, 0, 1);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <a class="code" href="fetch__arm__ikfast__solver_8cpp.html#ad6e97fc303efda1a956b9a044f8424fc">ComputeIk</a>(trans, direction.data, vfree.size() &gt; 0 ? &amp;vfree[0] : <span class="keyword">nullptr</span>, solutions);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">return</span> solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597">GetNumSolutions</a>();</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa4e93feabf395600a41ef04382cbd15c1">IKP_TranslationXAxisAngle4D</a>:</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa95d95994a30e36440c0fb446a151d561">IKP_TranslationYAxisAngle4D</a>:</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa1f6aede70047c558e564726173fb7791">IKP_TranslationZAxisAngle4D</a>:</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="comment">// For *TranslationXAxisAngle4D*, *TranslationYAxisAngle4D*, *TranslationZAxisAngle4D* - end effector origin</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="comment">// reaches desired 3D translation, manipulator direction makes a specific angle with x/y/z-axis (defined in the</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="comment">// manipulator base link’s coordinate system)</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;IK for this IkParameterizationType not implemented yet.&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa91adbd9166f205ae8553b8d84a95b5c3">IKP_TranslationLocalGlobal6D</a>:</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="comment">// For **TranslationLocalGlobal6D**, the diagonal elements ([0],[4],[8]) are the local translation inside the end</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <span class="comment">// effector coordinate system.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;IK for this IkParameterizationType not implemented yet.&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa144f544ea8b0da24534612cb970d3cbd">IKP_Rotation3D</a>:</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa2cf8fcbfefd8f2b9651bf09690b6a653">IKP_Lookat3D</a>:</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa7c9375e41de1e71798d90bf462c735fb">IKP_TranslationXY2D</a>:</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa23b8b9eb5aab41ad1c642f7c0471df66">IKP_TranslationXYOrientation3D</a>:</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;IK for this IkParameterizationType not implemented yet.&quot;</span>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa661c70799c2026c1600638b5d5f2046d">IKP_TranslationXAxisAngleZNorm4D</a>:</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordtype">double</span> roll, pitch, yaw;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="comment">// For **TranslationXAxisAngleZNorm4D** - end effector origin reaches desired 3D translation, manipulator</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="comment">// direction needs to be orthogonal to z axis and be rotated at a certain angle starting from the x axis (defined</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="comment">// in the manipulator base link’s coordinate system)</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      pose_frame.M.GetRPY(roll, pitch, yaw);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <a class="code" href="fetch__arm__ikfast__solver_8cpp.html#ad6e97fc303efda1a956b9a044f8424fc">ComputeIk</a>(trans, &amp;yaw, vfree.size() &gt; 0 ? &amp;vfree[0] : <span class="keyword">nullptr</span>, solutions);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">return</span> solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597">GetNumSolutions</a>();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fad477746fe38638fd3ee38b44139e33c8">IKP_TranslationYAxisAngleXNorm4D</a>:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="comment">// For **TranslationYAxisAngleXNorm4D** - end effector origin reaches desired 3D translation, manipulator</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">// direction needs to be orthogonal to x axis and be rotated at a certain angle starting from the y axis (defined</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="comment">// in the manipulator base link’s coordinate system)</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      pose_frame.M.GetRPY(roll, pitch, yaw);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <a class="code" href="fetch__arm__ikfast__solver_8cpp.html#ad6e97fc303efda1a956b9a044f8424fc">ComputeIk</a>(trans, &amp;roll, vfree.size() &gt; 0 ? &amp;vfree[0] : <span class="keyword">nullptr</span>, solutions);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">return</span> solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597">GetNumSolutions</a>();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa303a2977c91019ef922bc366506ec270">IKP_TranslationZAxisAngleYNorm4D</a>:</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="comment">// For **TranslationZAxisAngleYNorm4D** - end effector origin reaches desired 3D translation, manipulator</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="comment">// direction needs to be orthogonal to y axis and be rotated at a certain angle starting from the z axis (defined</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="comment">// in the manipulator base link’s coordinate system)</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      pose_frame.M.GetRPY(roll, pitch, yaw);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="fetch__arm__ikfast__solver_8cpp.html#ad6e97fc303efda1a956b9a044f8424fc">ComputeIk</a>(trans, &amp;pitch, vfree.size() &gt; 0 ? &amp;vfree[0] : <span class="keyword">nullptr</span>, solutions);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="keywordflow">return</span> solutions.<a class="code" href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597">GetNumSolutions</a>();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      ROS_ERROR_NAMED(<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">name_</a>, <span class="stringliteral">&quot;Unknown IkParameterizationType! &quot;</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                             <span class="stringliteral">&quot;Was the solver generated with an incompatible version of Openrave?&quot;</span>);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ikfast_8h_source.html#l00299">ikfast::IkSolutionList&lt; T &gt;::Clear()</a>, <a class="el" href="fetch__arm__ikfast__solver_8cpp_source.html#l17437">ComputeIk()</a>, <a class="el" href="fetch__arm__ikfast__solver_8cpp_source.html#l00381">GetIkType()</a>, <a class="el" href="ikfast_8h_source.html#l00294">ikfast::IkSolutionList&lt; T &gt;::GetNumSolutions()</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00078">fetch_arm::IKP_Direction3D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00080">fetch_arm::IKP_Lookat3D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00079">fetch_arm::IKP_Ray4D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00076">fetch_arm::IKP_Rotation3D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00075">fetch_arm::IKP_Transform6D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00077">fetch_arm::IKP_Translation3D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00081">fetch_arm::IKP_TranslationDirection5D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00088">fetch_arm::IKP_TranslationLocalGlobal6D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00090">fetch_arm::IKP_TranslationXAxisAngle4D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00100">fetch_arm::IKP_TranslationXAxisAngleZNorm4D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00084">fetch_arm::IKP_TranslationXY2D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00085">fetch_arm::IKP_TranslationXYOrientation3D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00093">fetch_arm::IKP_TranslationYAxisAngle4D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00104">fetch_arm::IKP_TranslationYAxisAngleXNorm4D</a>, <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00096">fetch_arm::IKP_TranslationZAxisAngle4D</a>, and <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00108">fetch_arm::IKP_TranslationZAxisAngleYNorm4D</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64_cgraph.png" border="0" usemap="#classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64_cgraph" alt=""/></div>
<map name="classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64_cgraph" id="classfetch__arm_1_1IKFastKinematicsPlugin_a0f2e31ecf817cee22d9363e5cbfe3c64_cgraph">
<area shape="rect" title="Calls the IK solver from IKFast." alt="" coords="5,408,213,449"/>
<area shape="rect" href="classikfast_1_1IkSolutionList.html#ae341a33d5aee644cac867e3edd2a9916" title="clears all current solutions, note that any memory addresses returned from GetSolution will be invali..." alt="" coords="261,324,416,365"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#ad6e97fc303efda1a956b9a044f8424fc" title=" " alt="" coords="292,390,385,417"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#abc401850b948d5a0402e9dbb77d3846f" title=" " alt="" coords="295,441,382,467"/>
<area shape="rect" href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597" title="returns the number of solutions stored" alt="" coords="261,492,416,533"/>
<area shape="rect" href="classIKSolver.html#ac0195e291bed491b4cb6a68db8199b55" title=" " alt="" coords="464,390,619,417"/>
<area shape="rect" href="classikfast_1_1IkSolutionListBase.html#a9940fe21cfa0a67c1a21a672696c5cb5" title="clears all current solutions, note that any memory addresses returned from GetSolution will be invali..." alt="" coords="667,5,853,47"/>
<area shape="rect" href="classikfast_1_1IkSolutionListBase.html#a5f4a2191825f1d2aad3468daf94d575f" title="returns the number of solutions stored" alt="" coords="667,71,853,112"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#af50774e991c9af3d423e2f15a1864fcd" title=" " alt="" coords="931,213,989,239"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a6985b623469662633075c50b708b5a97" title=" " alt="" coords="727,187,793,214"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a159f6680a5e7eb9da0d76bfce5461050" title=" " alt="" coords="729,238,791,265"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a5e00463327d5e1acfd4e8eb788bbd6ac" title=" " alt="" coords="724,289,796,315"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a2ee5f6ce877a26fda36feee121d53853" title=" " alt="" coords="689,339,831,366"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a8d241417f26868995cfb5a5648816e63" title=" " alt="" coords="731,390,789,417"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a8af0ce9307f58d1e64bb413077478244" title=" " alt="" coords="725,441,795,467"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#aa90320376a56efda3a751c3f5d86fc26" title=" " alt="" coords="671,491,849,518"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a845afc8ffdb8c068f0e75abac0d78b15" title=" " alt="" coords="729,542,791,569"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a7b5e881d13d85a4bc1020963f9e605b5" title=" " alt="" coords="733,593,787,619"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#ab527b2a76479c7f6ef9545b3c41a3b37" title=" " alt="" coords="733,643,787,670"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a6f476874d10b265f6b0e6409104126b7" title=" " alt="" coords="730,694,790,721"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#ad2361d774d694b5935519a1b3c1075f9" title=" " alt="" coords="732,745,788,771"/>
<area shape="rect" href="fetch__arm__ikfast__solver_8cpp.html#a1bbba04cc5114eb36e98181457e9f535" title=" " alt="" coords="901,339,1019,366"/>
</map>
</div>

</div>
</div>
<a id="aba28897043f901b8a417d95195dbe0f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba28897043f901b8a417d95195dbe0f3">&#9670;&nbsp;</a></span>transformToChainFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fetch_arm::IKFastKinematicsPlugin::transformToChainFrame </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::Pose &amp;&#160;</td>
          <td class="paramname"><em>ik_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KDL::Frame &amp;&#160;</td>
          <td class="paramname"><em>ik_pose_chain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transforms the input pose to the correct frame for the solver. This assumes that the group includes the entire solver chain and that any joints outside of the solver chain within the group are are fixed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ik_pose</td><td>The pose to be transformed which should be in the correct frame for the group. </td></tr>
    <tr><td class="paramname">ik_pose_chain</td><td>The ik_pose to be populated with the apropriate pose for the solver </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l01351">1351</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;{</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a210a1c46609eb68c3781e027e0df7253">tip_transform_required_</a> || <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a965e0db42d5326012a591c0d277f9bd7">base_transform_required_</a>)</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    Eigen::Isometry3d ik_eigen_pose;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    tf2::fromMsg(ik_pose, ik_eigen_pose);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a210a1c46609eb68c3781e027e0df7253">tip_transform_required_</a>)</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      ik_eigen_pose = ik_eigen_pose * <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abbe06d61680f9512965875ed92239e33">group_tip_to_chain_tip_</a>;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a965e0db42d5326012a591c0d277f9bd7">base_transform_required_</a>)</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      ik_eigen_pose = <a class="code" href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a62e117a3013e82c9826810eec6d39d9b">chain_base_to_group_base_</a> * ik_eigen_pose;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    tf::transformEigenToKDL(ik_eigen_pose, ik_pose_chain);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    tf2::fromMsg(ik_pose, ik_pose_chain);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  }</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a965e0db42d5326012a591c0d277f9bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965e0db42d5326012a591c0d277f9bd7">&#9670;&nbsp;</a></span>base_transform_required_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::base_transform_required_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00174">174</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a62e117a3013e82c9826810eec6d39d9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62e117a3013e82c9826810eec6d39d9b">&#9670;&nbsp;</a></span>chain_base_to_group_base_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Isometry3d fetch_arm::IKFastKinematicsPlugin::chain_base_to_group_base_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00178">178</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="ad6726bca8274d70d5344af4bdf546349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6726bca8274d70d5344af4bdf546349">&#9670;&nbsp;</a></span>free_params_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; fetch_arm::IKFastKinematicsPlugin::free_params_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00162">162</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="abbe06d61680f9512965875ed92239e33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe06d61680f9512965875ed92239e33">&#9670;&nbsp;</a></span>group_tip_to_chain_tip_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Isometry3d fetch_arm::IKFastKinematicsPlugin::group_tip_to_chain_tip_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00179">179</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a23e78d49922170df649d5492cd67d1a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23e78d49922170df649d5492cd67d1a1">&#9670;&nbsp;</a></span>IKFAST_BASE_FRAME_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string fetch_arm::IKFastKinematicsPlugin::IKFAST_BASE_FRAME_ = &quot;torso_lift_link&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00167">167</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a61fcdeb99f856099c8d29cf377de089c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61fcdeb99f856099c8d29cf377de089c">&#9670;&nbsp;</a></span>IKFAST_TIP_FRAME_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string fetch_arm::IKFastKinematicsPlugin::IKFAST_TIP_FRAME_ = &quot;wrist_roll_link&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00166">166</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a6cd6e556315e890a097129395a028f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cd6e556315e890a097129395a028f9f">&#9670;&nbsp;</a></span>initialized_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::initialized_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00181">181</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a6bf879185a4db3fc9e985ff3fe7f1609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf879185a4db3fc9e985ff3fe7f1609">&#9670;&nbsp;</a></span>joint_has_limits_vector_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classbool.html">bool</a>&gt; fetch_arm::IKFastKinematicsPlugin::joint_has_limits_vector_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00159">159</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a9b387ab4d79e8ebbdbccdc756b87e491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b387ab4d79e8ebbdbccdc756b87e491">&#9670;&nbsp;</a></span>joint_max_vector_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; fetch_arm::IKFastKinematicsPlugin::joint_max_vector_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00158">158</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a38d2ae7321dc674b4f409db28b757c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d2ae7321dc674b4f409db28b757c30">&#9670;&nbsp;</a></span>joint_min_vector_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; fetch_arm::IKFastKinematicsPlugin::joint_min_vector_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00157">157</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a3d8f927c6629bcc0bd8244e926fa9cda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d8f927c6629bcc0bd8244e926fa9cda">&#9670;&nbsp;</a></span>joint_names_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; fetch_arm::IKFastKinematicsPlugin::joint_names_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00156">156</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a4555bbc0e1527d78f89afad21f232e20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4555bbc0e1527d78f89afad21f232e20">&#9670;&nbsp;</a></span>link_names_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; fetch_arm::IKFastKinematicsPlugin::link_names_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00160">160</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a8d41ea64238340e1a9fa6b9066947907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d41ea64238340e1a9fa6b9066947907">&#9670;&nbsp;</a></span>name_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string fetch_arm::IKFastKinematicsPlugin::name_ { &quot;ikfast&quot; }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00182">182</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="abfdf0b26c3a440ca8776e7181a6cf7f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfdf0b26c3a440ca8776e7181a6cf7f6">&#9670;&nbsp;</a></span>num_joints_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t fetch_arm::IKFastKinematicsPlugin::num_joints_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00161">161</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<a id="a210a1c46609eb68c3781e027e0df7253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a210a1c46609eb68c3781e027e0df7253">&#9670;&nbsp;</a></span>tip_transform_required_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> fetch_arm::IKFastKinematicsPlugin::tip_transform_required_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00173">173</a> of file <a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>submodules/fetch_ros/fetch_ikfast_plugin/src/<a class="el" href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html">fetch_arm_ikfast_moveit_plugin.cpp</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa91adbd9166f205ae8553b8d84a95b5c3"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa91adbd9166f205ae8553b8d84a95b5c3">fetch_arm::IKP_TranslationLocalGlobal6D</a></div><div class="ttdeci">@ IKP_TranslationLocalGlobal6D</div><div class="ttdoc">local point on end effector origin reaches desired 3D global point</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00088">fetch_arm_ikfast_moveit_plugin.cpp:88</a></div></div>
<div class="ttc" id="aclassikfast_1_1IkSolutionList_html"><div class="ttname"><a href="classikfast_1_1IkSolutionList.html">ikfast::IkSolutionList</a></div><div class="ttdoc">Default implementation of IkSolutionListBase.</div><div class="ttdef"><b>Definition:</b> <a href="ikfast_8h_source.html#l00273">ikfast.h:273</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_ac321fb5ad126f6ca096ddfcb5b5a074d"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ac321fb5ad126f6ca096ddfcb5b5a074d">fetch_arm::IKFastKinematicsPlugin::enforceLimits</a></div><div class="ttdeci">double enforceLimits(double val, double min, double max) const</div><div class="ttdoc">If the value is outside of min/max then it tries to +/- 2 * pi to put the value into the range.</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00679">fetch_arm_ikfast_moveit_plugin.cpp:679</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__solver_8cpp_html_af0cf03d3ad69d099a9a2eb6db5e5b352"><div class="ttname"><a href="fetch__arm__ikfast__solver_8cpp.html#af0cf03d3ad69d099a9a2eb6db5e5b352">GetNumFreeParameters</a></div><div class="ttdeci">IKFAST_API int GetNumFreeParameters()</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__solver_8cpp_source.html#l00375">fetch_arm_ikfast_solver.cpp:375</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa303a2977c91019ef922bc366506ec270"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa303a2977c91019ef922bc366506ec270">fetch_arm::IKP_TranslationZAxisAngleYNorm4D</a></div><div class="ttdeci">@ IKP_TranslationZAxisAngleYNorm4D</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00108">fetch_arm_ikfast_moveit_plugin.cpp:108</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a9b387ab4d79e8ebbdbccdc756b87e491"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a9b387ab4d79e8ebbdbccdc756b87e491">fetch_arm::IKFastKinematicsPlugin::joint_max_vector_</a></div><div class="ttdeci">std::vector&lt; double &gt; joint_max_vector_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00158">fetch_arm_ikfast_moveit_plugin.cpp:158</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a62e117a3013e82c9826810eec6d39d9b"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a62e117a3013e82c9826810eec6d39d9b">fetch_arm::IKFastKinematicsPlugin::chain_base_to_group_base_</a></div><div class="ttdeci">Eigen::Isometry3d chain_base_to_group_base_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00178">fetch_arm_ikfast_moveit_plugin.cpp:178</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a6bf879185a4db3fc9e985ff3fe7f1609"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6bf879185a4db3fc9e985ff3fe7f1609">fetch_arm::IKFastKinematicsPlugin::joint_has_limits_vector_</a></div><div class="ttdeci">std::vector&lt; bool &gt; joint_has_limits_vector_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00159">fetch_arm_ikfast_moveit_plugin.cpp:159</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa4e12b1f799acebbe08a3eb82621bd1fe"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa4e12b1f799acebbe08a3eb82621bd1fe">fetch_arm::IKP_Transform6D</a></div><div class="ttdeci">@ IKP_Transform6D</div><div class="ttdoc">end effector reaches desired 6D transformation</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00075">fetch_arm_ikfast_moveit_plugin.cpp:75</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa23b8b9eb5aab41ad1c642f7c0471df66"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa23b8b9eb5aab41ad1c642f7c0471df66">fetch_arm::IKP_TranslationXYOrientation3D</a></div><div class="ttdeci">@ IKP_TranslationXYOrientation3D</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00085">fetch_arm_ikfast_moveit_plugin.cpp:85</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa661c70799c2026c1600638b5d5f2046d"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa661c70799c2026c1600638b5d5f2046d">fetch_arm::IKP_TranslationXAxisAngleZNorm4D</a></div><div class="ttdeci">@ IKP_TranslationXAxisAngleZNorm4D</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00100">fetch_arm_ikfast_moveit_plugin.cpp:100</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa2cf8fcbfefd8f2b9651bf09690b6a653"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa2cf8fcbfefd8f2b9651bf09690b6a653">fetch_arm::IKP_Lookat3D</a></div><div class="ttdeci">@ IKP_Lookat3D</div><div class="ttdoc">direction on end effector coordinate system points to desired 3D position</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00080">fetch_arm_ikfast_moveit_plugin.cpp:80</a></div></div>
<div class="ttc" id="anamespacefake__cube__perception__node_html_a36e88703ab69fd35065e8a8d9344903e"><div class="ttname"><a href="namespacefake__cube__perception__node.html#a36e88703ab69fd35065e8a8d9344903e">fake_cube_perception_node.r</a></div><div class="ttdeci">r</div><div class="ttdef"><b>Definition:</b> <a href="sm__fetch__screw__loop__1_2servers_2fake__cube__perception__node_8py_source.html#l00107">fake_cube_perception_node.py:107</a></div></div>
<div class="ttc" id="aclassikfast_1_1IkSolutionList_html_ac9679184adc4a704c4c6497eef3cb597"><div class="ttname"><a href="classikfast_1_1IkSolutionList.html#ac9679184adc4a704c4c6497eef3cb597">ikfast::IkSolutionList::GetNumSolutions</a></div><div class="ttdeci">virtual size_t GetNumSolutions() const</div><div class="ttdoc">returns the number of solutions stored</div><div class="ttdef"><b>Definition:</b> <a href="ikfast_8h_source.html#l00294">ikfast.h:294</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__solver_8cpp_html_a3e9541dde410904e043fe18701061b62"><div class="ttname"><a href="fetch__arm__ikfast__solver_8cpp.html#a3e9541dde410904e043fe18701061b62">GetNumJoints</a></div><div class="ttdeci">IKFAST_API int GetNumJoints()</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__solver_8cpp_source.html#l00377">fetch_arm_ikfast_solver.cpp:377</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a20d8e8799dcc040f8ed7ebbab2cd68f7"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a20d8e8799dcc040f8ed7ebbab2cd68f7">fetch_arm::IKFastKinematicsPlugin::computeRelativeTransform</a></div><div class="ttdeci">bool computeRelativeTransform(const std::string &amp;from, const std::string &amp;to, Eigen::Isometry3d &amp;transform, bool &amp;differs_from_identity)</div><div class="ttdoc">Validate that we can compute a fixed transform between from and to links.</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00373">fetch_arm_ikfast_moveit_plugin.cpp:373</a></div></div>
<div class="ttc" id="aclassikfast_1_1IkSolutionBase_html_a9405530feb49f12f56c3175e7150c66f"><div class="ttname"><a href="classikfast_1_1IkSolutionBase.html#a9405530feb49f12f56c3175e7150c66f">ikfast::IkSolutionBase::GetSolution</a></div><div class="ttdeci">virtual void GetSolution(T *solution, const T *freevalues) const =0</div><div class="ttdoc">gets a concrete solution</div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a99b8526cb66a792c278cfb0afdc06a34"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a99b8526cb66a792c278cfb0afdc06a34">fetch_arm::IKFastKinematicsPlugin::getSolution</a></div><div class="ttdeci">void getSolution(const IkSolutionList&lt; IkReal &gt; &amp;solutions, int i, std::vector&lt; double &gt; &amp;solution) const</div><div class="ttdoc">Gets a specific solution from the set.</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00626">fetch_arm_ikfast_moveit_plugin.cpp:626</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__solver_8cpp_html_ac5b257dc48deeb1c904d40b5dbf4a5a4"><div class="ttname"><a href="fetch__arm__ikfast__solver_8cpp.html#ac5b257dc48deeb1c904d40b5dbf4a5a4">ComputeFk</a></div><div class="ttdeci">IKFAST_API void ComputeFk(const IkReal *j, IkReal *eetrans, IkReal *eerot)</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__solver_8cpp_source.html#l00299">fetch_arm_ikfast_solver.cpp:299</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_abfdf0b26c3a440ca8776e7181a6cf7f6"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abfdf0b26c3a440ca8776e7181a6cf7f6">fetch_arm::IKFastKinematicsPlugin::num_joints_</a></div><div class="ttdeci">const size_t num_joints_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00161">fetch_arm_ikfast_moveit_plugin.cpp:161</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa144f544ea8b0da24534612cb970d3cbd"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa144f544ea8b0da24534612cb970d3cbd">fetch_arm::IKP_Rotation3D</a></div><div class="ttdeci">@ IKP_Rotation3D</div><div class="ttdoc">end effector reaches desired 3D rotation</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00076">fetch_arm_ikfast_moveit_plugin.cpp:76</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__solver_8cpp_html_abc401850b948d5a0402e9dbb77d3846f"><div class="ttname"><a href="fetch__arm__ikfast__solver_8cpp.html#abc401850b948d5a0402e9dbb77d3846f">GetIkType</a></div><div class="ttdeci">IKFAST_API int GetIkType()</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__solver_8cpp_source.html#l00381">fetch_arm_ikfast_solver.cpp:381</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a40214ff942d1506207d812b75154a0f3"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a40214ff942d1506207d812b75154a0f3">fetch_arm::IKFastKinematicsPlugin::getPositionIK</a></div><div class="ttdeci">bool getPositionIK(const geometry_msgs::Pose &amp;ik_pose, const std::vector&lt; double &gt; &amp;ik_seed_state, std::vector&lt; double &gt; &amp;solution, moveit_msgs::MoveItErrorCodes &amp;error_code, const kinematics::KinematicsQueryOptions &amp;options=kinematics::KinematicsQueryOptions()) const override</div><div class="ttdoc">Given a desired pose of the end-effector, compute the joint angles to reach it.</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l01056">fetch_arm_ikfast_moveit_plugin.cpp:1056</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_ad6726bca8274d70d5344af4bdf546349"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#ad6726bca8274d70d5344af4bdf546349">fetch_arm::IKFastKinematicsPlugin::free_params_</a></div><div class="ttdeci">std::vector&lt; int &gt; free_params_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00162">fetch_arm_ikfast_moveit_plugin.cpp:162</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa7c9375e41de1e71798d90bf462c735fb"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa7c9375e41de1e71798d90bf462c735fb">fetch_arm::IKP_TranslationXY2D</a></div><div class="ttdeci">@ IKP_TranslationXY2D</div><div class="ttdoc">2D translation along XY plane</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00084">fetch_arm_ikfast_moveit_plugin.cpp:84</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fae243b6da2163bd071711a3549bda8262"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fae243b6da2163bd071711a3549bda8262">fetch_arm::IKP_Translation3D</a></div><div class="ttdeci">@ IKP_Translation3D</div><div class="ttdoc">end effector origin reaches desired 3D translation</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00077">fetch_arm_ikfast_moveit_plugin.cpp:77</a></div></div>
<div class="ttc" id="anamespaceservice__node__3_html_aa976421a49e0b54f23833423400849ae"><div class="ttname"><a href="namespaceservice__node__3.html#aa976421a49e0b54f23833423400849ae">service_node_3.s</a></div><div class="ttdeci">s</div><div class="ttdef"><b>Definition:</b> <a href="servers_2service__node__3_2src_2service__node__3_8py_source.html#l00023">service_node_3.py:23</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_abbe06d61680f9512965875ed92239e33"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#abbe06d61680f9512965875ed92239e33">fetch_arm::IKFastKinematicsPlugin::group_tip_to_chain_tip_</a></div><div class="ttdeci">Eigen::Isometry3d group_tip_to_chain_tip_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00179">fetch_arm_ikfast_moveit_plugin.cpp:179</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__solver_8cpp_html_a17f253d85cd4ac00e8840c417eef2487"><div class="ttname"><a href="fetch__arm__ikfast__solver_8cpp.html#a17f253d85cd4ac00e8840c417eef2487">GetFreeParameters</a></div><div class="ttdeci">IKFAST_API int * GetFreeParameters()</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__solver_8cpp_source.html#l00376">fetch_arm_ikfast_solver.cpp:376</a></div></div>
<div class="ttc" id="anamespacesm__fetch__two__table__whiskey__pour_html_acbce06cd0c9048e8be6a258e2c406986"><div class="ttname"><a href="namespacesm__fetch__two__table__whiskey__pour.html#acbce06cd0c9048e8be6a258e2c406986">sm_fetch_two_table_whiskey_pour::count</a></div><div class="ttdeci">static int count</div><div class="ttdef"><b>Definition:</b> <a href="st__decide__destiny__table__action_8h_source.html#l00007">st_decide_destiny_table_action.h:7</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a74ef3a6f3113a0ad268d24cea9350404"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a74ef3a6f3113a0ad268d24cea9350404">fetch_arm::IKFastKinematicsPlugin::getCount</a></div><div class="ttdeci">bool getCount(int &amp;count, const int &amp;max_count, const int &amp;min_count) const</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00702">fetch_arm_ikfast_moveit_plugin.cpp:702</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a61fcdeb99f856099c8d29cf377de089c"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a61fcdeb99f856099c8d29cf377de089c">fetch_arm::IKFastKinematicsPlugin::IKFAST_TIP_FRAME_</a></div><div class="ttdeci">const std::string IKFAST_TIP_FRAME_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00166">fetch_arm_ikfast_moveit_plugin.cpp:166</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a6cd6e556315e890a097129395a028f9f"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a6cd6e556315e890a097129395a028f9f">fetch_arm::IKFastKinematicsPlugin::initialized_</a></div><div class="ttdeci">bool initialized_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00181">fetch_arm_ikfast_moveit_plugin.cpp:181</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__moveit__plugin_8cpp_html_a6db90f19cce82ba375acd26f431403b6"><div class="ttname"><a href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a6db90f19cce82ba375acd26f431403b6">LIMIT_TOLERANCE</a></div><div class="ttdeci">const double LIMIT_TOLERANCE</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00055">fetch_arm_ikfast_moveit_plugin.cpp:55</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa532b636671a51a7410f4c508cfeec70c"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa532b636671a51a7410f4c508cfeec70c">fetch_arm::IKP_TranslationDirection5D</a></div><div class="ttdeci">@ IKP_TranslationDirection5D</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00081">fetch_arm_ikfast_moveit_plugin.cpp:81</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a965e0db42d5326012a591c0d277f9bd7"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a965e0db42d5326012a591c0d277f9bd7">fetch_arm::IKFastKinematicsPlugin::base_transform_required_</a></div><div class="ttdeci">bool base_transform_required_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00174">fetch_arm_ikfast_moveit_plugin.cpp:174</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_aba28897043f901b8a417d95195dbe0f3"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#aba28897043f901b8a417d95195dbe0f3">fetch_arm::IKFastKinematicsPlugin::transformToChainFrame</a></div><div class="ttdeci">void transformToChainFrame(const geometry_msgs::Pose &amp;ik_pose, KDL::Frame &amp;ik_pose_chain) const</div><div class="ttdoc">Transforms the input pose to the correct frame for the solver. This assumes that the group includes t...</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l01351">fetch_arm_ikfast_moveit_plugin.cpp:1351</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a210a1c46609eb68c3781e027e0df7253"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a210a1c46609eb68c3781e027e0df7253">fetch_arm::IKFastKinematicsPlugin::tip_transform_required_</a></div><div class="ttdeci">bool tip_transform_required_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00173">fetch_arm_ikfast_moveit_plugin.cpp:173</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a3d8f927c6629bcc0bd8244e926fa9cda"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a3d8f927c6629bcc0bd8244e926fa9cda">fetch_arm::IKFastKinematicsPlugin::joint_names_</a></div><div class="ttdeci">std::vector&lt; std::string &gt; joint_names_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00156">fetch_arm_ikfast_moveit_plugin.cpp:156</a></div></div>
<div class="ttc" id="aclassikfast_1_1IkSolutionList_html_a0320618db6b5432cd609e1e2c8c73614"><div class="ttname"><a href="classikfast_1_1IkSolutionList.html#a0320618db6b5432cd609e1e2c8c73614">ikfast::IkSolutionList::GetSolution</a></div><div class="ttdeci">virtual const IkSolutionBase&lt; T &gt; &amp; GetSolution(size_t index) const</div><div class="ttdoc">returns the solution pointer</div><div class="ttdef"><b>Definition:</b> <a href="ikfast_8h_source.html#l00283">ikfast.h:283</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa4e93feabf395600a41ef04382cbd15c1"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa4e93feabf395600a41ef04382cbd15c1">fetch_arm::IKP_TranslationXAxisAngle4D</a></div><div class="ttdeci">@ IKP_TranslationXAxisAngle4D</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00090">fetch_arm_ikfast_moveit_plugin.cpp:90</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__solver_8cpp_html_ad6e97fc303efda1a956b9a044f8424fc"><div class="ttname"><a href="fetch__arm__ikfast__solver_8cpp.html#ad6e97fc303efda1a956b9a044f8424fc">ComputeIk</a></div><div class="ttdeci">IKFAST_API bool ComputeIk(const IkReal *eetrans, const IkReal *eerot, const IkReal *pfree, IkSolutionListBase&lt; IkReal &gt; &amp;solutions)</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__solver_8cpp_source.html#l17437">fetch_arm_ikfast_solver.cpp:17437</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a4555bbc0e1527d78f89afad21f232e20"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a4555bbc0e1527d78f89afad21f232e20">fetch_arm::IKFastKinematicsPlugin::link_names_</a></div><div class="ttdeci">std::vector&lt; std::string &gt; link_names_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00160">fetch_arm_ikfast_moveit_plugin.cpp:160</a></div></div>
<div class="ttc" id="anamespacesetup_html_aa2586b6c4dd84a0aaaf49cb1565cee6e"><div class="ttname"><a href="namespacesetup.html#aa2586b6c4dd84a0aaaf49cb1565cee6e">setup.d</a></div><div class="ttdeci">d</div><div class="ttdef"><b>Definition:</b> <a href="setup_8py_source.html#l00006">setup.py:6</a></div></div>
<div class="ttc" id="anamespacesick__camera__client_html_a9d947cde3882f536db9c9474a53a3677"><div class="ttname"><a href="namespacesick__camera__client.html#a9d947cde3882f536db9c9474a53a3677">sick_camera_client.result</a></div><div class="ttdeci">def result</div><div class="ttdef"><b>Definition:</b> <a href="sick__camera__client_8py_source.html#l00025">sick_camera_client.py:25</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a630dd8b86f08d2672ad7a43a995e80e6"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a630dd8b86f08d2672ad7a43a995e80e6">fetch_arm::IKFastKinematicsPlugin::sampleRedundantJoint</a></div><div class="ttdeci">bool sampleRedundantJoint(kinematics::DiscretizationMethod method, std::vector&lt; double &gt; &amp;sampled_joint_vals) const</div><div class="ttdoc">samples the designated redundant joint using the chosen discretization method</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l01308">fetch_arm_ikfast_moveit_plugin.cpp:1308</a></div></div>
<div class="ttc" id="aclassikfast_1_1IkSolutionBase_html"><div class="ttname"><a href="classikfast_1_1IkSolutionBase.html">ikfast::IkSolutionBase</a></div><div class="ttdoc">The discrete solutions are returned in this structure.</div><div class="ttdef"><b>Definition:</b> <a href="ikfast_8h_source.html#l00070">ikfast.h:70</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa95d95994a30e36440c0fb446a151d561"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa95d95994a30e36440c0fb446a151d561">fetch_arm::IKP_TranslationYAxisAngle4D</a></div><div class="ttdeci">@ IKP_TranslationYAxisAngle4D</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00093">fetch_arm_ikfast_moveit_plugin.cpp:93</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa25e50206ae6f0e82918bb919fff57737"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa25e50206ae6f0e82918bb919fff57737">fetch_arm::IKP_Ray4D</a></div><div class="ttdeci">@ IKP_Ray4D</div><div class="ttdoc">ray on end effector coordinate system reaches desired global ray</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00079">fetch_arm_ikfast_moveit_plugin.cpp:79</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__moveit__plugin_8cpp_html_a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90"><div class="ttname"><a href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a7e3e138f11a31c3d463b94d39ee5f43dacf12e2a0ff681edbb1582e9afc627d90">OPTIMIZE_MAX_JOINT</a></div><div class="ttdeci">@ OPTIMIZE_MAX_JOINT</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00060">fetch_arm_ikfast_moveit_plugin.cpp:60</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a38d2ae7321dc674b4f409db28b757c30"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a38d2ae7321dc674b4f409db28b757c30">fetch_arm::IKFastKinematicsPlugin::joint_min_vector_</a></div><div class="ttdeci">std::vector&lt; double &gt; joint_min_vector_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00157">fetch_arm_ikfast_moveit_plugin.cpp:157</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a0f2e31ecf817cee22d9363e5cbfe3c64"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a0f2e31ecf817cee22d9363e5cbfe3c64">fetch_arm::IKFastKinematicsPlugin::solve</a></div><div class="ttdeci">size_t solve(KDL::Frame &amp;pose_frame, const std::vector&lt; double &gt; &amp;vfree, IkSolutionList&lt; IkReal &gt; &amp;solutions) const</div><div class="ttdoc">Calls the IK solver from IKFast.</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00525">fetch_arm_ikfast_moveit_plugin.cpp:525</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa1f6aede70047c558e564726173fb7791"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa1f6aede70047c558e564726173fb7791">fetch_arm::IKP_TranslationZAxisAngle4D</a></div><div class="ttdeci">@ IKP_TranslationZAxisAngle4D</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00096">fetch_arm_ikfast_moveit_plugin.cpp:96</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fa9dddd78b22947f7913450811b1acdb3c"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fa9dddd78b22947f7913450811b1acdb3c">fetch_arm::IKP_Direction3D</a></div><div class="ttdeci">@ IKP_Direction3D</div><div class="ttdoc">direction on end effector coordinate system reaches desired direction</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00078">fetch_arm_ikfast_moveit_plugin.cpp:78</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a373a476a057b47a0516d43f9d0f2a575"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a373a476a057b47a0516d43f9d0f2a575">fetch_arm::IKFastKinematicsPlugin::fillFreeParams</a></div><div class="ttdeci">void fillFreeParams(int count, int *array)</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00695">fetch_arm_ikfast_moveit_plugin.cpp:695</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a7e5949cda80a64ebfdc9b1acd40e7c91"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a7e5949cda80a64ebfdc9b1acd40e7c91">fetch_arm::IKFastKinematicsPlugin::searchPositionIK</a></div><div class="ttdeci">bool searchPositionIK(const geometry_msgs::Pose &amp;ik_pose, const std::vector&lt; double &gt; &amp;ik_seed_state, double timeout, std::vector&lt; double &gt; &amp;solution, moveit_msgs::MoveItErrorCodes &amp;error_code, const kinematics::KinematicsQueryOptions &amp;options=kinematics::KinematicsQueryOptions()) const override</div><div class="ttdoc">Given a desired pose of the end-effector, search for the joint angles required to reach it....</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00794">fetch_arm_ikfast_moveit_plugin.cpp:794</a></div></div>
<div class="ttc" id="anamespacefetch__arm_html_ad13e098da829fa4da30d559d6c8cfe7fad477746fe38638fd3ee38b44139e33c8"><div class="ttname"><a href="namespacefetch__arm.html#ad13e098da829fa4da30d559d6c8cfe7fad477746fe38638fd3ee38b44139e33c8">fetch_arm::IKP_TranslationYAxisAngleXNorm4D</a></div><div class="ttdeci">@ IKP_TranslationYAxisAngleXNorm4D</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00104">fetch_arm_ikfast_moveit_plugin.cpp:104</a></div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a23e78d49922170df649d5492cd67d1a1"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a23e78d49922170df649d5492cd67d1a1">fetch_arm::IKFastKinematicsPlugin::IKFAST_BASE_FRAME_</a></div><div class="ttdeci">const std::string IKFAST_BASE_FRAME_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00167">fetch_arm_ikfast_moveit_plugin.cpp:167</a></div></div>
<div class="ttc" id="aclassikfast_1_1IkSolutionBase_html_a2693ede66be937b7c4c1c949284282ca"><div class="ttname"><a href="classikfast_1_1IkSolutionBase.html#a2693ede66be937b7c4c1c949284282ca">ikfast::IkSolutionBase::GetFree</a></div><div class="ttdeci">virtual const std::vector&lt; int &gt; &amp; GetFree() const =0</div><div class="ttdoc">Gets the indices of the configuration space that have to be preset before a full solution can be retu...</div></div>
<div class="ttc" id="aclassfetch__arm_1_1IKFastKinematicsPlugin_html_a8d41ea64238340e1a9fa6b9066947907"><div class="ttname"><a href="classfetch__arm_1_1IKFastKinematicsPlugin.html#a8d41ea64238340e1a9fa6b9066947907">fetch_arm::IKFastKinematicsPlugin::name_</a></div><div class="ttdeci">const std::string name_</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00182">fetch_arm_ikfast_moveit_plugin.cpp:182</a></div></div>
<div class="ttc" id="afetch__arm__ikfast__moveit__plugin_8cpp_html_a7e3e138f11a31c3d463b94d39ee5f43d"><div class="ttname"><a href="fetch__arm__ikfast__moveit__plugin_8cpp.html#a7e3e138f11a31c3d463b94d39ee5f43d">SEARCH_MODE</a></div><div class="ttdeci">SEARCH_MODE</div><div class="ttdoc">Search modes for searchPositionIK(), see there.</div><div class="ttdef"><b>Definition:</b> <a href="fetch__arm__ikfast__moveit__plugin_8cpp_source.html#l00057">fetch_arm_ikfast_moveit_plugin.cpp:57</a></div></div>
<div class="ttc" id="aclassikfast_1_1IkSolutionList_html_ae341a33d5aee644cac867e3edd2a9916"><div class="ttname"><a href="classikfast_1_1IkSolutionList.html#ae341a33d5aee644cac867e3edd2a9916">ikfast::IkSolutionList::Clear</a></div><div class="ttdeci">virtual void Clear()</div><div class="ttdoc">clears all current solutions, note that any memory addresses returned from GetSolution will be invali...</div><div class="ttdef"><b>Definition:</b> <a href="ikfast_8h_source.html#l00299">ikfast.h:299</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
